const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qbittorrent-BWvU7iOR.js","./index-CS9_dTuv.js","./libs-tLzij8UM.js","./arcoDesign-DCmKwCeN.js","./index-DHljq3E-.css","./transmission-Bo95JarD.js","./biglybt-Do5RZHwO.js","./deluge-CzyCOQyM.js"])))=>i.map(i=>d[i]);
import{C as l,_ as m}from"./index-CS9_dTuv.js";import{e as x,a6 as A,am as N,r as L,p as O,h as c,q as y,C as e,v as o,y as d,N as p,a2 as t,B as S,m as U,M as H,s as G,a8 as _}from"./libs-tLzij8UM.js";import{T as Q}from"./init-Dv1b--_W.js";import{b as v,h as j,U as z,Q as J,R as K,r as W,F as X,s as Y,B as Z,t as $,S as ee}from"./arcoDesign-DCmKwCeN.js";const oe={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},de=x({__name:"addDownloader",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(w){const C=_(()=>m(()=>import("./qbittorrent-BWvU7iOR.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),b=_(()=>m(()=>import("./transmission-Bo95JarD.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)),B=_(()=>m(()=>import("./biglybt-Do5RZHwO.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url)),T=_(()=>m(()=>import("./deluge-CzyCOQyM.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),h={[l.qBittorrent]:C,[l.Transmission]:b,[l.BiglyBT]:B,[l.Deluge]:T},{t:n}=A(),a=N(w,"modelValue"),f=L(!1),V=async()=>{f.value=!0;try{const s=await Q({name:a.value.downloaderConfig.name,config:a.value.downloaderConfig.downloaderConfig});if(!s.valid)throw new Error(s.message)}catch(s){return v.error(s.message),!1}finally{f.value=!1}v.success(n("page.oobe.addDownloader.test.success")),a.value.valid=!0};return(s,r)=>{const D=j,E=z,M=J,u=K,R=W,q=O("i18n-t"),g=X,P=Y,F=Z,I=$,k=ee;return c(),y(k,{direction:"vertical",style:{width:"70%"}},{default:e(()=>[o(M,{style:{"text-align":"left"}},{default:e(()=>[o(D,null,{default:e(()=>[d(p(t(n)("page.oobe.addDownloader.title")),1)]),_:1}),o(E,null,{default:e(()=>[d(p(t(n)("page.oobe.addDownloader.description")),1)]),_:1})]),_:1}),o(I,{ref:"formRef",model:a.value.downloaderConfig,"auto-label-width":""},{default:e(()=>[o(g,{field:"downloaderConfig.type",label:t(n)("page.dashboard.editModal.label.type"),required:""},S({default:e(()=>[o(R,{modelValue:a.value.downloaderConfig.downloaderConfig.type,"onUpdate:modelValue":r[0]||(r[0]=i=>a.value.downloaderConfig.downloaderConfig.type=i),type:"button"},{default:e(()=>[o(u,{value:t(l).qBittorrent},{default:e(()=>[d("qBittorrent")]),_:1},8,["value"]),o(u,{value:t(l).Transmission},{default:e(()=>[d("Transmission")]),_:1},8,["value"]),o(u,{value:t(l).BiglyBT},{default:e(()=>[d("BiglyBT")]),_:1},8,["value"]),o(u,{value:t(l).Deluge},{default:e(()=>[d("Deluge")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:2},[a.value.downloaderConfig.downloaderConfig.type===t(l).BiglyBT?{name:"extra",fn:e(()=>[o(q,{keypath:"page.dashboard.editModal.biglybt"},{url:e(()=>[U("a",oe,p(t(n)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),o(g,{field:"name",label:t(n)("page.dashboard.editModal.label.name"),required:""},{default:e(()=>[o(P,{modelValue:a.value.downloaderConfig.name,"onUpdate:modelValue":r[1]||(r[1]=i=>a.value.downloaderConfig.name=i),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(c(),y(H(h[a.value.downloaderConfig.downloaderConfig.type]),{modelValue:a.value.downloaderConfig.downloaderConfig,"onUpdate:modelValue":r[2]||(r[2]=i=>a.value.downloaderConfig.downloaderConfig=i)},null,8,["modelValue"])),a.value.downloaderConfig.downloaderConfig.type?(c(),y(g,{key:0},{default:e(()=>[o(F,{loading:f.value,onClick:V},{default:e(()=>[d(p(t(n)("page.oobe.addDownloader.test")),1)]),_:1},8,["loading"])]),_:1})):G("",!0)]),_:1},8,["model"])]),_:1})}}});export{de as default};
