const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./qbittorrent-D75oT8Ud.js","./index-LAMYZuBZ.js","./libs-D5D6SZX3.js","./arcoDesign-C7uykCP7.js","./index-v_fGC44D.css","./transmission-Cp1_1v-3.js","./biglybt-07MxtsFL.js","./deluge-B7OTaZKq.js"])))=>i.map(i=>d[i]);
import{C as l,_ as m}from"./index-LAMYZuBZ.js";import{f as k,a4 as A,ao as N,r as O,q as L,j as g,s as y,t as e,y as o,v as r,x as p,a2 as t,E as S,p as U,O as H,u as j,a6 as _}from"./libs-D5D6SZX3.js";import{T as G}from"./init-Bx5ePc8V.js";import{b as v,h as W,X,W as z,R as J,r as K,F as Q,s as Y,B as Z,t as $,S as ee}from"./arcoDesign-C7uykCP7.js";const oe={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},re=k({__name:"addDownloader",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(b){const w=_(()=>m(()=>import("./qbittorrent-D75oT8Ud.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),C=_(()=>m(()=>import("./transmission-Cp1_1v-3.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)),T=_(()=>m(()=>import("./biglybt-07MxtsFL.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url)),B=_(()=>m(()=>import("./deluge-B7OTaZKq.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url)),V={[l.qBittorrent]:w,[l.Transmission]:C,[l.BiglyBT]:T,[l.Deluge]:B},{t:n}=A(),a=N(b,"modelValue"),c=O(!1),h=async()=>{c.value=!0;try{const s=await G({name:a.value.downloaderConfig.name,config:a.value.downloaderConfig.config});if(!s.success)throw new Error(s.message)}catch(s){return v.error(s.message),!1}finally{c.value=!1}v.success(n("page.oobe.addDownloader.test.success")),a.value.valid=!0};return(s,d)=>{const D=W,E=X,q=z,u=J,M=K,P=L("i18n-t"),f=Q,R=Y,x=Z,F=$,I=ee;return g(),y(I,{direction:"vertical",style:{width:"70%"}},{default:e(()=>[o(q,{style:{"text-align":"left"}},{default:e(()=>[o(D,null,{default:e(()=>[r(p(t(n)("page.oobe.addDownloader.title")),1)]),_:1}),o(E,null,{default:e(()=>[r(p(t(n)("page.oobe.addDownloader.description")),1)]),_:1})]),_:1}),o(F,{model:a.value.downloaderConfig,"auto-label-width":""},{default:e(()=>[o(f,{field:"config.type",label:t(n)("page.dashboard.editModal.label.type"),required:""},S({default:e(()=>[o(M,{modelValue:a.value.downloaderConfig.config.type,"onUpdate:modelValue":d[0]||(d[0]=i=>a.value.downloaderConfig.config.type=i),type:"button"},{default:e(()=>[o(u,{value:t(l).qBittorrent},{default:e(()=>[r("qBittorrent")]),_:1},8,["value"]),o(u,{value:t(l).Transmission},{default:e(()=>[r("Transmission")]),_:1},8,["value"]),o(u,{value:t(l).BiglyBT},{default:e(()=>[r("BiglyBT")]),_:1},8,["value"]),o(u,{value:t(l).Deluge},{default:e(()=>[r("Deluge")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:2},[a.value.downloaderConfig.config.type===t(l).BiglyBT?{name:"extra",fn:e(()=>[o(P,{keypath:"page.dashboard.editModal.biglybt"},{url:e(()=>[U("a",oe,p(t(n)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),o(f,{field:"name",label:t(n)("page.dashboard.editModal.label.name"),required:""},{default:e(()=>[o(R,{modelValue:a.value.downloaderConfig.name,"onUpdate:modelValue":d[1]||(d[1]=i=>a.value.downloaderConfig.name=i),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(g(),y(H(V[a.value.downloaderConfig.config.type]),{modelValue:a.value.downloaderConfig.config,"onUpdate:modelValue":d[2]||(d[2]=i=>a.value.downloaderConfig.config=i)},null,8,["modelValue"])),a.value.downloaderConfig.config.type?(g(),y(f,{key:0},{default:e(()=>[o(x,{loading:c.value,onClick:h},{default:e(()=>[r(p(t(n)("page.oobe.addDownloader.test")),1)]),_:1},8,["loading"])]),_:1})):j("",!0)]),_:1},8,["model"])]),_:1})}}});export{re as default};
