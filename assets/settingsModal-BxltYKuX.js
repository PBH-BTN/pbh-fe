import{G as I,S as b}from"./index-uHmIFCE0.js";import{e as g,a6 as S,r as $,a as x,a7 as w,h as y,q as C,C as l,v as i,a2 as f,y as m,N as B}from"./libs-Du3C3Xh-.js";import{b as p,a1 as V,F as N,u as F,M as O}from"./arcoDesign-HsKCA9Oj.js";const j=g({__name:"settingsModal",setup(q,{expose:_}){const{t:d}=S(),c=$(!1);_({showModal:()=>{c.value=!0}});const v=e=>{const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},h=e=>e.replace(/,/g,"");function k(e){const t=Math.floor(e/864e5);e%=864e5;const s=Math.floor(e/36e5);e%=36e5;const n=Math.floor(e/6e4);e%=6e4;const r=Math.floor(e/1e3);let a="";return t>0&&(a+=`${t} Day${t>1?"s":""} `),s>0&&(a+=`${s} Hour${s>1?"s":""} `),n>0&&(a+=`${n} Minute${n>1?"s":""} `),r>0&&(a+=`${r} Second${r>1?"s":""} `),a.trim()}const o=x({checkInterval:0});w(I,{onSuccess:e=>{o.checkInterval=e.data}});const M=async()=>{const e=await b(o.checkInterval);return e.code===200?(p.success(e.message),!0):(p.error(e.message),!1)};return(e,t)=>{const s=V,n=N,r=F,a=O;return y(),C(a,{visible:c.value,"onUpdate:visible":t[1]||(t[1]=u=>c.value=u),title:f(d)("page.ruleSubscribe.settingsModal.title"),unmountOnClose:"","modal-style":{width:"35vw"},onBeforeOk:M},{default:l(()=>[i(r,{model:o},{default:l(()=>[i(n,{field:"checkInterval",label:f(d)("page.ruleSubscribe.settingsModal.checkInterval")},{extra:l(()=>[m(B(k(o.checkInterval)),1)]),default:l(()=>[i(s,{modelValue:o.checkInterval,"onUpdate:modelValue":t[0]||(t[0]=u=>o.checkInterval=u),step:1e3,min:1e3,formatter:v,parser:h},{suffix:l(()=>[m(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])}}});export{j as default};
