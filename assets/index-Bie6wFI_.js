const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./peerListModal-DFWQ0uJh.js","./libs-Du3C3Xh-.js","./arcoDesign-CelqCnNH.js","./peerListModal-CWSF3DLF.css","./qbittorrent-CCzsiLeb.js","./transmission-CnC2uvMU.js","./biglybt-Btqry7Bq.js","./deluge-CUJejpxT.js","./charts-Dn4a8QzF.js","./echarts-BAroLrnK.js","./charts-D0y67aUH.css","./editRuleItemModal-HY_USDhh.js","./editRuleItemModal-Ck84q6_5.css","./settingsModal-DsICLtBu.js","./logModal-BFIxN_EX.js"])))=>i.map(i=>d[i]);
var Bn=Object.defineProperty;var xn=(e,t,n)=>t in e?Bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>xn(e,typeof t!="symbol"?t+"":t,n);import{e as R,c as $,h,j as x,n as ee,l as Q,m as O,a3 as Dn,a4 as We,a5 as Pe,r as N,H as pe,a6 as J,a7 as we,q as C,C as r,y as g,N as m,a2 as c,v as l,a8 as ge,s as K,a as Vn,p as on,B as qn,M as sn,w as de,F as ye,O as vt,a9 as Hn,k as Fn,aa as Wn,o as rn,ab as Gn,ac as Kn,ad as Jn,a1 as ln,ae as Zn,af as Yn,ag as Xn,ah as yt,ai as Qn,aj as ea,K as ta,L as na,$ as aa,ak as oa,al as sa}from"./libs-Du3C3Xh-.js";import{_ as ne,g as ae,i as oe,d as ra,l as la,T as se,P as cn,S as Y,B as fe,a as Oe,M as kt,b as Z,I as un,c as dn,e as Be,f as pn,h as Te,j as gn,k as mn,m as Ge,D as wt,n as ia,o as ca,p as ua,q as St,C as Lt,R as bn,r as fn,F as Tt,s as hn,t as $t,u as da,v as It,w as Ct,x as pa,G as ga,y as ma,z as Pt,A as ba,L as Mt,E as _n,H as fa,J as vn,K as ha,N as _a,O as yn,Q as va,U as kn,V as wn,W as ya,X as ka,Y as Nt,Z as wa,$ as Sa,a0 as La,a1 as Ta,a2 as $a,a3 as Ia,a4 as Ca,a5 as Pa,a6 as Ma,a7 as Na,a8 as Ea,a9 as Aa,aa as Ua,ab as Ra,ac as za,ad as ja,ae as Oa,af as Ba,ag as xa}from"./arcoDesign-CelqCnNH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const Da=R({name:"IconArrowDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-arrow-down`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Va=["stroke-width","stroke-linecap","stroke-linejoin"],qa=O("path",{d:"m11.27 27.728 12.727 12.728 12.728-12.728M24 5v34.295"},null,-1),Ha=[qa];function Fa(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Ha,14,Va)}var Ze=ne(Da,[["render",Fa]]);const Et=Object.assign(Ze,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ze.name,Ze)}}),Wa=R({name:"IconArrowUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-arrow-up`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Ga=["stroke-width","stroke-linecap","stroke-linejoin"],Ka=O("path",{d:"M11.27 20.272 23.997 7.544l12.728 12.728M24 43V8.705"},null,-1),Ja=[Ka];function Za(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Ja,14,Ga)}var Ye=ne(Wa,[["render",Za]]);const At=Object.assign(Ye,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ye.name,Ye)}}),Ya=R({name:"IconExclamationPolygonFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-exclamation-polygon-fill`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Xa=["stroke-width","stroke-linecap","stroke-linejoin"],Qa=O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.553 4a1 1 0 0 0-.74.327L4.26 15.937a1 1 0 0 0-.26.672V31.39a1 1 0 0 0 .26.673l10.553 11.609a1 1 0 0 0 .74.327h16.893a1 1 0 0 0 .74-.327l10.554-11.61a1 1 0 0 0 .26-.672V16.61a1 1 0 0 0-.26-.673L33.187 4.327a1 1 0 0 0-.74-.327H15.553ZM22 33a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2Zm4-18a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V15Z",fill:"currentColor",stroke:"none"},null,-1),eo=[Qa];function to(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},eo,14,Xa)}var Xe=ne(Ya,[["render",to]]);const no=Object.assign(Xe,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Xe.name,Xe)}}),ao=R({name:"IconQuestionCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-question-circle-fill`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),oo=["stroke-width","stroke-linecap","stroke-linejoin"],so=O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm-3.862-24.021a.461.461 0 0 0 .462-.462 2.37 2.37 0 0 1 .636-1.615C21.64 17.48 22.43 17 23.988 17c1.465 0 2.483.7 3.002 1.493.555.848.446 1.559.182 1.914-.328.444-.736.853-1.228 1.296-.15.135-.335.296-.533.468-.354.308-.75.654-1.067.955C23.22 24.195 22 25.686 22 28v.013a1 1 0 0 0 1.006.993l2.008-.012a.993.993 0 0 0 .986-1c.002-.683.282-1.19 1.101-1.97.276-.262.523-.477.806-.722.21-.18.439-.379.713-.626.57-.513 1.205-1.13 1.767-1.888 1.516-2.047 1.161-4.634-.05-6.485C29.092 14.398 26.825 13 23.988 13c-2.454 0-4.357.794-5.642 2.137-1.25 1.307-1.742 2.954-1.746 4.37 0 .26.21.472.47.472h3.068Zm1.868 14.029a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V32a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2.008Z",fill:"currentColor",stroke:"none"},null,-1),ro=[so];function lo(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ro,14,oo)}var Qe=ne(ao,[["render",lo]]);const io=Object.assign(Qe,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Qe.name,Qe)}}),co=R({name:"IconInfoCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-info-circle`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),uo=["stroke-width","stroke-linecap","stroke-linejoin"],po=O("path",{d:"M24 20v14m0-16v-4m18 10c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),go=[po];function mo(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},go,14,uo)}var et=ne(co,[["render",mo]]);const Ut=Object.assign(et,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+et.name,et)}}),bo=R({name:"IconPlusCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-plus-circle`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),fo=["stroke-width","stroke-linecap","stroke-linejoin"],ho=O("path",{d:"M32 24h-8m-8 0h8m0 0v8m0-8v-8m18 8c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),_o=[ho];function vo(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},_o,14,fo)}var tt=ne(bo,[["render",vo]]);const yo=Object.assign(tt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+tt.name,tt)}}),ko=R({name:"IconStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-stop`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),wo=["stroke-width","stroke-linecap","stroke-linejoin"],So=O("path",{d:"M36.728 36.728c7.03-7.03 7.03-18.427 0-25.456-7.03-7.03-18.427-7.03-25.456 0m25.456 25.456c-7.03 7.03-18.427 7.03-25.456 0-7.03-7.03-7.03-18.427 0-25.456m25.456 25.456L11.272 11.272"},null,-1),Lo=[So];function To(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Lo,14,wo)}var nt=ne(ko,[["render",To]]);const $o=Object.assign(nt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+nt.name,nt)}}),Io=R({name:"IconHistory",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-history`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Co=["stroke-width","stroke-linecap","stroke-linejoin"],Po=O("path",{d:"M6 24c0-9.941 8.059-18 18-18s18 8.059 18 18-8.059 18-18 18c-6.26 0-11.775-3.197-15-8.047M6 24l-.5-.757h1L6 24Zm26 2h-9v-9"},null,-1),Mo=[Po];function No(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Mo,14,Co)}var at=ne(Io,[["render",No]]);const Eo=Object.assign(at,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+at.name,at)}}),Ao=R({name:"IconRefresh",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-refresh`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Uo=["stroke-width","stroke-linecap","stroke-linejoin"],Ro=O("path",{d:"M38.837 18C36.463 12.136 30.715 8 24 8 15.163 8 8 15.163 8 24s7.163 16 16 16c7.455 0 13.72-5.1 15.496-12M40 8v10H30"},null,-1),zo=[Ro];function jo(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},zo,14,Uo)}var ot=ne(Ao,[["render",jo]]);const Oo=Object.assign(ot,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+ot.name,ot)}}),Bo=R({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-settings`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),xo=["stroke-width","stroke-linecap","stroke-linejoin"],Do=O("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),Vo=O("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1),qo=[Do,Vo];function Ho(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},qo,14,xo)}var st=ne(Bo,[["render",Ho]]);const Sn=Object.assign(st,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+st.name,st)}}),Fo=R({name:"IconMoonFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-moon-fill`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Wo=["stroke-width","stroke-linecap","stroke-linejoin"],Go=O("path",{d:"M42.108 29.769c.124-.387-.258-.736-.645-.613A17.99 17.99 0 0 1 36 30c-9.941 0-18-8.059-18-18 0-1.904.296-3.74.844-5.463.123-.387-.226-.768-.613-.645C10.558 8.334 5 15.518 5 24c0 10.493 8.507 19 19 19 8.482 0 15.666-5.558 18.108-13.231Z",fill:"currentColor",stroke:"none"},null,-1),Ko=[Go];function Jo(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},Ko,14,Wo)}var rt=ne(Fo,[["render",Jo]]);const Zo=Object.assign(rt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+rt.name,rt)}}),Yo=R({name:"IconSunFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-sun-fill`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),Xo=["stroke-width","stroke-linecap","stroke-linejoin"],Qo=O("circle",{cx:"24",cy:"24",r:"9",fill:"currentColor",stroke:"none"},null,-1),es=O("path",{d:"M21 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM21 37.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM42.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM10.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM39.203 34.96a.5.5 0 0 1 0 .707l-3.536 3.536a.5.5 0 0 1-.707 0l-3.535-3.536a.5.5 0 0 1 0-.707l3.535-3.535a.5.5 0 0 1 .707 0l3.536 3.535ZM16.575 12.333a.5.5 0 0 1 0 .707l-3.535 3.535a.5.5 0 0 1-.707 0L8.797 13.04a.5.5 0 0 1 0-.707l3.536-3.536a.5.5 0 0 1 .707 0l3.535 3.536ZM13.04 39.203a.5.5 0 0 1-.707 0l-3.536-3.536a.5.5 0 0 1 0-.707l3.536-3.535a.5.5 0 0 1 .707 0l3.536 3.535a.5.5 0 0 1 0 .707l-3.536 3.536ZM35.668 16.575a.5.5 0 0 1-.708 0l-3.535-3.535a.5.5 0 0 1 0-.707l3.535-3.536a.5.5 0 0 1 .708 0l3.535 3.536a.5.5 0 0 1 0 .707l-3.535 3.535Z",fill:"currentColor",stroke:"none"},null,-1),ts=[Qo,es];function ns(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},ts,14,Xo)}var lt=ne(Yo,[["render",ns]]);const as=Object.assign(lt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+lt.name,lt)}}),os=R({name:"IconLanguage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-language`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),ss=["stroke-width","stroke-linecap","stroke-linejoin"],rs=O("path",{d:"m42 43-2.385-6M26 43l2.384-6m11.231 0-.795-2-4.18-10h-1.28l-4.181 10-.795 2m11.231 0h-11.23M17 5l1 5M5 11h26M11 11s1.889 7.826 6.611 12.174C22.333 27.522 30 31 30 31"},null,-1),ls=O("path",{d:"M25 11s-1.889 7.826-6.611 12.174C13.667 27.522 6 31 6 31"},null,-1),is=[rs,ls];function cs(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},is,14,ss)}var it=ne(os,[["render",cs]]);const us=Object.assign(it,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+it.name,it)}}),ds=R({name:"IconLock",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ae("icon"),a=$(()=>[n,`${n}-lock`,{[`${n}-spin`]:e.spin}]),o=$(()=>{const s={};return e.size&&(s.fontSize=oe(e.size)?`${e.size}px`:e.size),e.rotate&&(s.transform=`rotate(${e.rotate}deg)`),s});return{cls:a,innerStyle:o,onClick:s=>{t("click",s)}}}}),ps=["stroke-width","stroke-linecap","stroke-linejoin"],gs=O("rect",{x:"7",y:"21",width:"34",height:"20",rx:"1"},null,-1),ms=O("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"},null,-1),bs=[gs,ms];function fs(e,t,n,a,o,i){return h(),x("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:ee(e.cls),style:Q(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...s)=>e.onClick&&e.onClick(...s))},bs,14,ps)}var ct=ne(ds,[["render",fs]]);const hs=Object.assign(ct,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+ct.name,ct)}});function _s(e){var t=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var a=0;a<e.length;a++){var o=e[a];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(a>0&&(o=o.replace(/^[\/]+/,"")),a<e.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");var s=i.split("?");return i=s.shift()+(s.length>0?"?":"")+s.join("&"),i}function D(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),_s(e)}const qe={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",view:{month:"Month",year:"Year",week:"Week",day:"Day"},month:{long:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},short:{January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sept",October:"Oct",November:"Nov",December:"Dec"}},week:{long:{self:"Week",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},short:{self:"Week",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"}}},vs={locale:"en-US",empty:{description:"No Data"},drawer:{okText:"Ok",cancelText:"Cancel"},popconfirm:{okText:"Ok",cancelText:"Cancel"},modal:{okText:"Ok",cancelText:"Cancel"},pagination:{goto:"Goto",page:"Page",countPerPage:" / Page",total:"Total: {0}"},table:{okText:"Ok",resetText:"Reset"},upload:{start:"Start",cancel:"Cancel",delete:"Delete",retry:"Click to retry",buttonText:"Upload",preview:"Preview",drag:"Click or drag file to this area to upload",dragHover:"Release to upload",error:"Upload Error"},calendar:qe,datePicker:{view:qe.view,month:qe.month,week:qe.week,placeholder:{date:"Please select date",week:"Please select week",month:"Please select month",year:"Please select year",quarter:"Please select quarter",time:"Please select time"},rangePlaceholder:{date:["Start date","End date"],week:["Start week","End week"],month:["Start month","End month"],year:["Start year","End year"],quarter:["Start quarter","End quarter"],time:["Start time","End time"]},selectTime:"Select time",today:"Today",now:"Now",ok:"Ok"},image:{loading:"loading"},imagePreview:{fullScreen:"Full Screen",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",zoomIn:"Zoom In",zoomOut:"Zoom Out",originalSize:"Original Size"},typography:{copied:"Copied",copy:"Copy",expand:"Expand",collapse:"Collapse",edit:"Edit"},form:{validateMessages:ra},colorPicker:{history:"History Colors",preset:"Preset Colors",empty:"Empty"}},ys={"settings.navbar.theme.toLight":"Click to use light mode","settings.navbar.theme.toDark":"Click to use dark mode","settings.language":"Language","settings.modal.title":"Settings","settings.modal.endpointTips":"If you can't access the backend of the PBH, you can try to set the Endpoint here","settings.modal.accessTokenTips":"You can set the Github access token at {here}","settings.modal.accessTokenTips.here":"here","settings.modal.pollInterval":"Polling interval:","settings.endpoint.error":"Cannot connect to the backend, please check the Endpoint settings","settings.accessToken.error":"Failed to get version, please check your network or try to set the access token in settings."},ks={"page.dashboard.description":"This page displays the basic data since PeerBanHelper started.","page.dashboard.clientStatus.title":"Connected Downloaders","page.dashboard.clientStatus.card.title":"Downloader Status","page.dashboard.clientStatus.card.status":"Status","page.dashboard.clientStatus.card.type":"Type","page.dashboard.clientStatus.card.status.normal":"Normal","page.dashboard.clientStatus.card.status.error":"Error","page.dashboard.clientStatus.card.status.unknown":"Unknown","page.dashboard.clientStatus.card.status.need_take_action":"Need Take Action","page.dashboard.clientStatus.card.status.torrentNumber":"Active Torrents","page.dashboard.clientStatus.card.status.peerNumber":"Connected Peers","page.dashboard.clientStatus.card.lastDelete":"Last downloader cannot be deleted","page.dashboard.statics.currentStatus":"Current Status","page.dashboard.statics.checked":"Total checked","page.dashboard.statics.times":"times","page.dashboard.statics.banPeer":"Ban Peers","page.dashboard.statics.unbanPeer":"Unban Peers","page.dashboard.statics.currentBan":"Currently banned Peers","page.dashboard.statics.number":"","page.dashboard.torrentList.title":"Active Torrent List","page.dashboard.torrentList.tips":"Click to view the active torrent list","page.dashboard.torrentList.column.name":"Name","page.dashboard.torrentList.column.size":"Size","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"Progress","page.dashboard.torrentList.column.speed":"Speed","page.dashboard.torrentList.column.view":"View","page.dashboard.editModal.title.new":"New Downloader","page.dashboard.editModal.title.edit":"Edit Downloader","page.dashboard.editModal.label.type":"Type","page.dashboard.editModal.label.name":"Name","page.dashboard.editModal.label.endpoint":"Endpoint","page.dashboard.editModal.label.endpoint.error.invalidSchema":"Must start with http:// or https://","page.dashboard.editModal.label.endpoint.error.invalidUrl":"Invalid URL","page.dashboard.editModal.label.username":"Username","page.dashboard.editModal.label.password":"Password","page.dashboard.editModal.label.useBasicAuth":"Use HTTP Basic Auth","page.dashboard.editModal.label.httpVersion":"HTTP Version","page.dashboard.editModal.label.httpVersion.description":"2.0 is faster, which 1.1 is more compatible","page.dashboard.editModal.label.incrementBan":"Incremental Ban","page.dashboard.editModal.label.incrementBan.description":"Helps to alleviate the downloader pressure when saving the ban list, but may cause the inability to ban Peers on some downloaders","page.dashboard.editModal.label.verifySsl":"Verify SSL","page.dashboard.editModal.biglybt":"Please install plugin at {url} first.","page.dashboard.editModal.biglybt.url":"here","page.dashboard.peerList.title":"Active Peer List: ","page.dashboard.peerList.column.address":"Address","page.dashboard.peerList.column.port":"Port","page.dashboard.peerList.column.clientName":"Client Name","page.dashboard.peerList.column.flag":"Flags","page.dashboard.peerList.column.speed":"Speed","page.dashboard.peerList.column.uploadedDownloaded":"Uploaded/Downloaded","page.dashboard.peerList.column.progress":"Progress","page.dashboard.peerList.column.flags.P":"μtp","page.dashboard.peerList.column.flags.D":"Currently downloading (interested and not choked)","page.dashboard.peerList.column.flags.d":"Your client wants to download, but peer doesn't want to send (interested and choked)","page.dashboard.peerList.column.flags.U":"Currently uploading (interested and not choked)","page.dashboard.peerList.column.flags.u":"Peer wants your client to upload, but your client doesn't want to (interested and choked)","page.dashboard.peerList.column.flags.O":"Optimistic unchoke","page.dashboard.peerList.column.flags.S":"Peer is snubbed","page.dashboard.peerList.column.flags.I":"Peer is an incoming connection","page.dashboard.peerList.column.flags.K":"Peer is unchoking your client, but your client is not interested","page.dashboard.peerList.column.flags.?":"Your client unchoked the peer but the peer is not interested","page.dashboard.peerList.column.flags.X":"Peer was included in peerlists obtained through Peer Exchange (PEX)","page.dashboard.peerList.column.flags.H":"Peer was obtained through DHT.","page.dashboard.peerList.column.flags.E":"Peer is using Protocol Encryption (all traffic)","page.dashboard.peerList.column.flags.e":"Peer is using Protocol Encryption (handshake)","page.dashboard.peerList.column.flags.L":"Peer is local (discovered through network broadcast, or in reserved local IP ranges)"},ws={"page.banlist.banlist":"Ban List","page.banlist.banlist.description":"Following is the ban list (sorted by time descending)","page.banlist.banlist.searchPlaceHolder":"Search an IP address","page.banlist.banlist.listItem.reserveDNSLookup":"Reverse DNS Lookup","page.banlist.banlist.listItem.banTime":"Ban Time","page.banlist.banlist.listItem.expireTime":"Unban Time","page.banlist.banlist.listItem.location":"Torrent","page.banlist.banlist.listItem.snapshot":"Snapshot","page.banlist.banlist.listItem.rule":"Hit Rule","page.banlist.banlist.listItem.reason":"Ban Reason","page.banlist.banlist.listItem.geo":"Geo Location","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"ASN Subnet: ","page.banlist.banlist.listItem.empty":"Empty","page.banlist.banlist.listItem.network.isp":"ISP","page.banlist.banlist.listItem.network.netType":"Net","page.banlist.banlist.bottomReached":"No more data!","page.banlist.banlist.listItem.unban":"Unban","page.banlist.banlist.listItem.unbanUnexcepted":"No IP address(s) unbanned","page.banlist.banlist.listItem.unbanSuccess":"Unbanned {count} IP address(s)"},Ss={"page.banlog.description":"This page shows the ban log information stored by PeerBanHelper.","page.banlog.banlogTable.notUnbanned":"Not Unbanned yet","page.banlog.banlogTable.column.banTime":"Ban Time","page.banlog.banlogTable.column.unbanTime":"Unban Time","page.banlog.banlogTable.column.peerAddress":"Peer Address","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"Traffic Snapshot","page.banlog.banlogTable.column.torrentName":"Torrent Name","page.banlog.banlogTable.column.torrentSize":"Size","page.banlog.banlogTable.column.description":"Description","page.banlog.radio.viewMode":"View Mode","page.banlog.radio.table":"Table","page.banlog.radio.charts":"Charts","page.banlog.charts.options.more":"More Options","page.banlog.charts.options.thresold":"Only show data above 1%","page.banlog.charts.options.field":"Field","page.banlog.charts.options.field.peerId":"Peer ID","page.banlog.charts.options.field.torrentName":"Torrent Name","page.banlog.charts.options.field.module":"Module","page.banlog.charts.title.line":"Last {days} days count","page.banlog.charts.line.options.field":"Count","page.banlog.charts.options.days":"Days","page.banlog.charts.options.mergeSame":"Try to merge same type clients"},Ls={"page.topban.description":"This page shows the ban history stored by PeerBanHelper.","page.topban.title":"Top {topNumber} most frequently banned IP addresses","page.topban.usage":"This data is analyzed from the ban history recorded in the database in the past 14 days. If some IP addresses are repeatedly banned, you may consider using the system firewall to block these IPs, or share these malicious IP addresses with others to help more people improve their blocking rules.","page.topban.onlyShow":"Only show the first","page.topban.onlyShow.number":"","page.topban.top50Table.searchPlaceholder":"Search IP address...","page.topban.top50Table.column.ipaddress":"IP Address","page.topban.top50Table.column.historyCount":"History Ban Count"},Ts={"page.ruleMetrices.title":"Rule metrics","page.ruleMetrices.description":"The following is the rule statistics information, you can improve your rule through following information.","page.ruleMetrices.metricsTable.filter":"Show hit rules only","page.ruleMetrices.metricsTable.column.type":"Rule Type","page.ruleMetrices.metricsTable.column.content":"Rule Content","page.ruleMetrices.metricsTable.column.run":"Run Times","page.ruleMetrices.metricsTable.column.hit":"Hit Times"},$s={"service.manifest.networkError":"Network failure, unable to initiate request","service.manifest.parseError":"Unable to parse the data, please check whether the endpoint is correct","service.manifest.formatError":"The response format is incorrect, please check the backend version"},Is={"login.form.login.success":"Login success","login.form.title":"Login to PeerBanHelper","login.form.password.placeholder":"Please enter the management token","login.form.rememberPassword":"Remember token","login.form.forgetPassword":"Forget token","login.form.password.errMsg":"Please enter the management token","login.form.login.failed":"Login Failed:","login.form.login":"Login"},Cs={"page.ruleSubscribe.description":"You can manage online rules subscriptions here.","page.ruleSubscribe.addRule":"Add Subscription","page.ruleSubscribe.updateAll":"Update all","page.ruleSubscribe.settingsTips":"Auto update settings","page.ruleSubscribe.updateLog":"Update Log","page.ruleSubscribe.column.ruleName":"Rule Name","page.ruleSubscribe.column.lastUpdated":"Last Updated","page.ruleSubscribe.column.notUpdated":"Never","page.ruleSubscribe.column.status":"Enabled","page.ruleSubscribe.column.actions":"Actions","page.ruleSubscribe.column.actions.edit":"Edit","page.ruleSubscribe.column.actions.update":"Update","page.ruleSubscribe.editModal.title":"Edit Rule","page.ruleSubscribe.editModal.title.new":"New Rule","page.ruleSubscribe.editModal.form.name":"Rule Name","page.ruleSubscribe.editModal.form.id.extra":"Rule ID, should be unique","page.ruleSubscribe.editModal.form.name.required":"Please input rule name","page.ruleSubscribe.column.rulesCount":"Rules","page.ruleSubscribe.column.deleteConfirm":"Are you sure you want to delete?","page.ruleSubscribe.settingsModal.title":"Subscribe Settings","page.ruleSubscribe.settingsModal.checkInterval":"Update Interval","page.ruleSubscribe.updateLog.updateTime":"Update at","page.ruleSubscribe.updateLog.ruleCount":"Rules Count","page.ruleSubscribe.updateLog.updateType":"Type","page.ruleSubscribe.updateLog.updateType.auto":"Auto","page.ruleSubscribe.updateLog.updateType.manual":"Manual","page.ruleSubscribe.updateLog.updateType.unknown":"Unknown"},Ps={"navbar.action.locale":"Switch to English","navbar.action.autoUpdate":"Auto Update","navbar.action.autoUpdate.lastUpdate":"Last updated at: ","main.workInProgressTips":"This feature is still working in progress, and the data currently recorded and displayed is relatively limited","footer.newVersion":"New Version Found!","footer.newVersion.body":"{version} is available, click to view","footer.newVersionTips":"New version {version} is available, click to view","footer.newVersion.updateNow":"Update Now","router.login":"Login","router.dashboard":"Status","router.banlist":"Ban List","router.banlogs":"Ban Logs","router.topban":"Top Bans","router.ruleMetrics":"Rule Metrics","router.ruleSubscribe":"Rule Subscription","router.moduleNotEnable":"{moduleName} is not enabled","router.moduleNotEnable.tips":"Please enable the feature in the configuration file","router.moduleNotEnable.viewDoc":"View Documentation",...ys,...ks,...ws,...Ss,...Ls,...Ts,...$s,...Is,...Cs},Ms={"settings.navbar.theme.toLight":"点击切换为亮色模式","settings.navbar.theme.toDark":"点击切换为暗黑模式","settings.language":"语言","settings.modal.title":"设置","settings.modal.endpointTips":"如果你无法访问PBH后端，可以尝试在此设置Endpoint","settings.modal.pollInterval":"轮询间隔：","settings.endpoint.error":"无法连接到后端，请检查Endpoint设置","settings.modal.accessTokenTips":"你可以在{here}填写 Github Access Token","settings.modal.accessTokenTips.here":"这里","settings.accessToken.error":"无法获取版本信息，请检查网络或尝试在设置中设置访问令牌"},Ns={"page.dashboard.description":"此页面展示 PeerBanHelper 自启动以来的基本数据。","page.dashboard.clientStatus.title":"已连接的下载器","page.dashboard.clientStatus.card.title":"下载器状态","page.dashboard.clientStatus.card.status":"状态","page.dashboard.clientStatus.card.type":"类型","page.dashboard.clientStatus.card.status.normal":"正常","page.dashboard.clientStatus.card.status.normal.info":"状态良好","page.dashboard.clientStatus.card.status.error":"错误","page.dashboard.clientStatus.card.status.error.info":"与客户端通信时出错，请检查日志文件","page.dashboard.clientStatus.card.status.unknown":"未知","page.dashboard.clientStatus.card.status.unknown.info":"PeerBanHelper 可能还没有与此客户端通信","page.dashboard.clientStatus.card.status.need_take_action":"需要采取行动","page.dashboard.clientStatus.card.status.torrentNumber":"活动种子数","page.dashboard.clientStatus.card.status.peerNumber":"已连接的Peers","page.dashboard.clientStatus.card.lastDelete":"最后一个下载器不能被删除","page.dashboard.statics.currentStatus":"当前状态","page.dashboard.statics.checked":"共检查","page.dashboard.statics.times":"次","page.dashboard.statics.banPeer":"封禁Peer","page.dashboard.statics.unbanPeer":"解除已到期的封禁","page.dashboard.statics.currentBan":"当前处于封禁状态Peer","page.dashboard.statics.number":"个","page.dashboard.torrentList.title":"活动种子列表","page.dashboard.torrentList.tips":"点击查看活动种子列表","page.dashboard.torrentList.column.name":"名称","page.dashboard.torrentList.column.size":"大小","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"进度","page.dashboard.torrentList.column.speed":"速度","page.dashboard.torrentList.column.view":"查看","page.dashboard.editModal.title.new":"新建下载器","page.dashboard.editModal.title.edit":"编辑下载器","page.dashboard.editModal.label.type":"类型","page.dashboard.editModal.label.name":"名称","page.dashboard.editModal.label.endpoint":"地址","page.dashboard.editModal.label.endpoint.error.invalidSchema":"必须以'http://'或'https://'开头","page.dashboard.editModal.label.endpoint.error.invalidUrl":"无效的URL","page.dashboard.editModal.label.username":"用户名","page.dashboard.editModal.label.password":"密码","page.dashboard.editModal.label.useBasicAuth":"使用 Basic Auth","page.dashboard.editModal.label.httpVersion":"HTTP版本","page.dashboard.editModal.label.httpVersion.description":"2.0性能更好，1.1兼容性更好","page.dashboard.editModal.label.incrementBan":"增量封禁","page.dashboard.editModal.label.incrementBan.description":"有助于缓解保存封禁列表时的下载器压力，但在部分下载器上可能会导致无法封禁Peers","page.dashboard.editModal.label.verifySsl":"验证SSL证书","page.dashboard.editModal.biglybt":"请先安装 {url}","page.dashboard.editModal.biglybt.url":"插件","page.dashboard.peerList.title":"活动 Peer 列表：","page.dashboard.peerList.column.address":"地址","page.dashboard.peerList.column.port":"端口","page.dashboard.peerList.column.clientName":"客户端名称","page.dashboard.peerList.column.flag":"标志位","page.dashboard.peerList.column.speed":"速度","page.dashboard.peerList.column.uploadedDownloaded":"已上传/已下载","page.dashboard.peerList.column.progress":"进度","page.dashboard.peerList.column.flags.P":"μtp","page.dashboard.peerList.column.flags.d":"您：期待下载╱他：拒绝上传","page.dashboard.peerList.column.flags.D":"您：期待下载╱他：同意上传","page.dashboard.peerList.column.flags.u":"他：期待下载╱您：拒绝上传","page.dashboard.peerList.column.flags.U":"他：期待下载╱您：同意上传","page.dashboard.peerList.column.flags.K":"您：不想下载╱他：同意上传","page.dashboard.peerList.column.flags.?":"他：不想下载╱您：同意上传","page.dashboard.peerList.column.flags.O":"多传者优先","page.dashboard.peerList.column.flags.S":"下载者突然停止","page.dashboard.peerList.column.flags.I":"传入连接","page.dashboard.peerList.column.flags.H":"来自 DHT 的下载者","page.dashboard.peerList.column.flags.X":"来自 PEX 的下载者","page.dashboard.peerList.column.flags.L":"来自 LSD 的下载者","page.dashboard.peerList.column.flags.E":"加密的流量","page.dashboard.peerList.column.flags.e":"加密握手"},Es={"page.banlist.banlist":"封禁名单","page.banlist.banlist.description":"以下是封禁列表（按时间倒序排列）","page.banlist.banlist.searchPlaceHolder":"搜索 IP 地址","page.banlist.banlist.listItem.reserveDNSLookup":"反向 DNS 解析","page.banlist.banlist.listItem.banTime":"封禁时间","page.banlist.banlist.listItem.expireTime":"预计解封时间","page.banlist.banlist.listItem.location":"发现位置","page.banlist.banlist.listItem.snapshot":"封禁快照","page.banlist.banlist.listItem.rule":"命中规则","page.banlist.banlist.listItem.reason":"封禁原因","page.banlist.banlist.listItem.geo":"地理位置","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"子网：","page.banlist.banlist.listItem.empty":"空","page.banlist.banlist.listItem.network.isp":"ISP","page.banlist.banlist.listItem.network.netType":"网络类型","page.banlist.banlist.bottomReached":"已经到底啦！","page.banlist.banlist.listItem.unban":"解除封禁","page.banlist.banlist.listItem.unbanUnexcepted":"没有 IP 地址被成功解除封禁","page.banlist.banlist.listItem.unbanSuccess":"成功解封 {count} 个 IP 地址"},As={"page.banlog.description":" 此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.banlog.banlogTable.notUnbanned":"未解封","page.banlog.banlogTable.column.banTime":"封禁时间","page.banlog.banlogTable.column.unbanTime":"解封时间","page.banlog.banlogTable.column.peerAddress":"Peer 地址","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"流量快照","page.banlog.banlogTable.column.torrentName":"种子名","page.banlog.banlogTable.column.torrentSize":"大小","page.banlog.banlogTable.column.description":"描述","page.banlog.radio.viewMode":"视图模式","page.banlog.radio.table":"表格","page.banlog.radio.charts":"图表","page.banlog.charts.options.more":"更多选项","page.banlog.charts.options.thresold":"只显示1%以上的数据","page.banlog.charts.options.field":"维度","page.banlog.charts.options.field.peerId":"Peer ID","page.banlog.charts.options.field.torrentName":"种子名","page.banlog.charts.options.field.module":"功能模块","page.banlog.charts.title.line":"最近 {days} 天封禁","page.banlog.charts.line.options.field":"计数","page.banlog.charts.options.days":"展示天数","page.banlog.charts.options.mergeSame":"尝试合并同类型客户端"},Us={"page.topban.description":"此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.topban.title":"被封禁频率最高的{topNumber}个 IP 地址","page.topban.usage":"这是从数据库中记录的近14天的封禁历史中分析得来的数据。如果某些 IP 地址持续被多次封禁，则可以考虑使用系统防火墙屏蔽这些 IP，或者向其他人分享这些恶意 IP 地址，以帮助更多人改善他们的屏蔽规则。","page.topban.onlyShow":"只展示前","page.topban.onlyShow.number":"个","page.topban.top50Table.searchPlaceholder":"搜索IP地址...","page.topban.top50Table.column.ipaddress":"IP 地址","page.topban.top50Table.column.historyCount":"历史封禁次数"},Rs={"page.ruleMetrices.title":"规则统计","page.ruleMetrices.description":"以下是规则统计信息，你可以通过规则命中次数（封禁次数）和运行次数来评估规则的有效性。","page.ruleMetrices.metricsTable.filter":"仅显示命中过的规则","page.ruleMetrices.metricsTable.column.type":"规则类型","page.ruleMetrices.metricsTable.column.content":"规则内容","page.ruleMetrices.metricsTable.column.run":"运行次数","page.ruleMetrices.metricsTable.column.hit":"命中次数"},zs={"service.manifest.networkError":"网络故障，无法发起请求","service.manifest.parseError":"无法解析接口返回数据，请检查服务地址是否正确","service.manifest.formatError":"后端接口响应格式错误，请检查后端版本"},js={"login.form.login.success":"登录成功","login.form.title":"登录到 PeerBanHelper","login.form.password.placeholder":"请输入管理 Token","login.form.rememberPassword":"记住 Token","login.form.forgetPassword":"忘记 Token","login.form.password.errMsg":"请输入管理 Token","login.form.login.failed":"登录失败：","login.form.login":"登录"},Os={"page.ruleSubscribe.description":"你可以在此处管理订阅的在线规则","page.ruleSubscribe.updateAll":"更新全部","page.ruleSubscribe.settingsTips":"自动更新设置","page.ruleSubscribe.updateLog":"更新记录","page.ruleSubscribe.column.ruleName":"规则名称","page.ruleSubscribe.column.lastUpdated":"最后更新","page.ruleSubscribe.column.notUpdated":"无","page.ruleSubscribe.column.status":"启用状态","page.ruleSubscribe.column.actions":"操作","page.ruleSubscribe.column.actions.edit":"编辑","page.ruleSubscribe.column.actions.update":"更新","page.ruleSubscribe.editModal.title":"编辑规则","page.ruleSubscribe.editModal.title.new":"新建规则","page.ruleSubscribe.editModal.form.name":"规则名称","page.ruleSubscribe.editModal.form.id.extra":"规则ID，不允许重复","page.ruleSubscribe.editModal.form.name.required":"请输入规则名称","page.ruleSubscribe.addRule":"新增订阅","page.ruleSubscribe.column.rulesCount":"规则数量","page.ruleSubscribe.column.deleteConfirm":"确定删除这条规则吗？","page.ruleSubscribe.settingsModal.title":"订阅设置","page.ruleSubscribe.settingsModal.checkInterval":"更新间隔","page.ruleSubscribe.updateLog.updateTime":"更新时间","page.ruleSubscribe.updateLog.ruleCount":"规则数量","page.ruleSubscribe.updateLog.updateType":"更新类型","page.ruleSubscribe.updateLog.updateType.auto":"自动更新","page.ruleSubscribe.updateLog.updateType.manual":"手动更新","page.ruleSubscribe.updateLog.updateType.unknown":"未知"},Bs={"navbar.action.locale":"切换为中文","navbar.action.autoUpdate":"自动刷新","navbar.action.autoUpdate.lastUpdate":"最后更新于：","main.workInProgressTips":"请注意，此功能仍在施工中，目前记录和展示的数据较为有限。","footer.newVersion":"发现新版本！","footer.newVersion.body":"{version} 已发布，点击查看","footer.newVersionTips":"有新版本 {version} 可用，点击查看","footer.newVersion.updateNow":"立即更新","router.login":"登录","router.dashboard":"状态","router.banlist":"封禁名单","router.banlogs":"封禁日志","router.topban":"最多封禁","router.ruleMetrics":"规则统计","router.ruleSubscribe":"规则订阅","router.moduleNotEnable":"{moduleName}功能未启用","router.moduleNotEnable.tips":"请在配置文件中开启相关功能","router.moduleNotEnable.viewDoc":"查看文档",...Ms,...Ns,...Es,...As,...Us,...Rs,...zs,...js,...Os},xs=[{label:"中文",value:"zh-CN"},{label:"English",value:"en-US"}];function Ln(){return navigator.language.includes("zh")?"zh-CN":"en-US"}const xt={short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},longlong:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}},Ds=Dn({locale:Ln(),fallbackLocale:"en-US",legacy:!1,messages:{"en-US":Ps,"zh-CN":Bs},datetimeFormats:{"en-US":xt,"zh-CN":xt}}),Vs={"en-US":vs,"zh-CN":la};function V(e=!0){var o;const{authToken:t}=U(),n=((o=document.querySelector("html"))==null?void 0:o.getAttribute("lang"))||Ln(),a=new Headers;return a.set("Accept-Language",n),e&&a.set("Authorization",`Bearer ${t}`),a}function qs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tn={exports:{}},F=Tn.exports={},ce,ue;function gt(){throw new Error("setTimeout has not been defined")}function mt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ce=setTimeout:ce=gt}catch{ce=gt}try{typeof clearTimeout=="function"?ue=clearTimeout:ue=mt}catch{ue=mt}})();function $n(e){if(ce===setTimeout)return setTimeout(e,0);if((ce===gt||!ce)&&setTimeout)return ce=setTimeout,setTimeout(e,0);try{return ce(e,0)}catch{try{return ce.call(null,e,0)}catch{return ce.call(this,e,0)}}}function Hs(e){if(ue===clearTimeout)return clearTimeout(e);if((ue===mt||!ue)&&clearTimeout)return ue=clearTimeout,clearTimeout(e);try{return ue(e)}catch{try{return ue.call(null,e)}catch{return ue.call(this,e)}}}var me=[],Me=!1,Le,He=-1;function Fs(){!Me||!Le||(Me=!1,Le.length?me=Le.concat(me):He=-1,me.length&&In())}function In(){if(!Me){var e=$n(Fs);Me=!0;for(var t=me.length;t;){for(Le=me,me=[];++He<t;)Le&&Le[He].run();He=-1,t=me.length}Le=null,Me=!1,Hs(e)}}F.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];me.push(new Cn(e,t)),me.length===1&&!Me&&$n(In)};function Cn(e,t){this.fun=e,this.array=t}Cn.prototype.run=function(){this.fun.apply(null,this.array)};F.title="browser";F.browser=!0;F.env={};F.argv=[];F.version="";F.versions={};function he(){}F.on=he;F.addListener=he;F.once=he;F.off=he;F.removeListener=he;F.removeAllListeners=he;F.emit=he;F.prependListener=he;F.prependOnceListener=he;F.listeners=function(e){return[]};F.binding=function(e){throw new Error("process.binding is not supported")};F.cwd=function(){return"/"};F.chdir=function(e){throw new Error("process.chdir is not supported")};F.umask=function(){return 0};var Ws=Tn.exports;const Ae=qs(Ws);function Ke(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Ae=="object"&&Ae.version!==void 0?`Node.js/${Ae.version.substr(1)} (${Ae.platform}; ${Ae.arch})`:"<environment undetectable>"}function Rt(e,t,n,a){if(typeof n!="function")throw new Error("method for before hook must be a function");return a||(a={}),Array.isArray(t)?t.reverse().reduce((o,i)=>Rt.bind(null,e,i,o,a),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((o,i)=>i.hook.bind(null,o,a),n)():n(a))}function Gs(e,t,n,a){const o=a;e.registry[n]||(e.registry[n]=[]),t==="before"&&(a=(i,s)=>Promise.resolve().then(o.bind(null,s)).then(i.bind(null,s))),t==="after"&&(a=(i,s)=>{let d;return Promise.resolve().then(i.bind(null,s)).then(u=>(d=u,o(d,s))).then(()=>d)}),t==="error"&&(a=(i,s)=>Promise.resolve().then(i.bind(null,s)).catch(d=>o(d,s))),e.registry[n].push({hook:a,orig:o})}function Ks(e,t,n){if(!e.registry[t])return;const a=e.registry[t].map(o=>o.orig).indexOf(n);a!==-1&&e.registry[t].splice(a,1)}const Dt=Function.bind,Vt=Dt.bind(Dt);function Pn(e,t,n){const a=Vt(Ks,null).apply(null,n?[t,n]:[t]);e.api={remove:a},e.remove=a,["before","error","after","wrap"].forEach(o=>{const i=n?[t,o,n]:[t,o];e[o]=e.api[o]=Vt(Gs,null).apply(null,i)})}function Js(){const e=Symbol("Singular"),t={registry:{}},n=Rt.bind(null,t,e);return Pn(n,t,e),n}function Zs(){const e={registry:{}},t=Rt.bind(null,e);return Pn(t,e),t}const Ys={Singular:Js,Collection:Zs};var Xs="0.0.0-development",Qs=`octokit-endpoint.js/${Xs} ${Ke()}`,er={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Qs},mediaType:{format:""}};function tr(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function nr(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function Mn(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(a=>{nr(t[a])?a in e?n[a]=Mn(e[a],t[a]):Object.assign(n,{[a]:t[a]}):Object.assign(n,{[a]:t[a]})}),n}function qt(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function bt(e,t,n){var o;if(typeof t=="string"){let[i,s]=t.split(" ");n=Object.assign(s?{method:i,url:s}:{url:i},n)}else n=Object.assign({},t);n.headers=tr(n.headers),qt(n),qt(n.headers);const a=Mn(e||{},n);return n.url==="/graphql"&&(e&&((o=e.mediaType.previews)!=null&&o.length)&&(a.mediaType.previews=e.mediaType.previews.filter(i=>!a.mediaType.previews.includes(i)).concat(a.mediaType.previews)),a.mediaType.previews=(a.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),a}function ar(e,t){const n=/\?/.test(e)?"&":"?",a=Object.keys(t);return a.length===0?e:e+n+a.map(o=>o==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${o}=${encodeURIComponent(t[o])}`).join("&")}var or=/\{[^}]+\}/g;function sr(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function rr(e){const t=e.match(or);return t?t.map(sr).reduce((n,a)=>n.concat(a),[]):[]}function Ht(e,t){const n={__proto__:null};for(const a of Object.keys(e))t.indexOf(a)===-1&&(n[a]=e[a]);return n}function Nn(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function Ce(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Ue(e,t,n){return t=e==="+"||e==="#"?Nn(t):Ce(t),n?Ce(n)+"="+t:t}function Ie(e){return e!=null}function ut(e){return e===";"||e==="&"||e==="?"}function lr(e,t,n,a){var o=e[n],i=[];if(Ie(o)&&o!=="")if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")o=o.toString(),a&&a!=="*"&&(o=o.substring(0,parseInt(a,10))),i.push(Ue(t,o,ut(t)?n:""));else if(a==="*")Array.isArray(o)?o.filter(Ie).forEach(function(s){i.push(Ue(t,s,ut(t)?n:""))}):Object.keys(o).forEach(function(s){Ie(o[s])&&i.push(Ue(t,o[s],s))});else{const s=[];Array.isArray(o)?o.filter(Ie).forEach(function(d){s.push(Ue(t,d))}):Object.keys(o).forEach(function(d){Ie(o[d])&&(s.push(Ce(d)),s.push(Ue(t,o[d].toString())))}),ut(t)?i.push(Ce(n)+"="+s.join(",")):s.length!==0&&i.push(s.join(","))}else t===";"?Ie(o)&&i.push(Ce(n)):o===""&&(t==="&"||t==="?")?i.push(Ce(n)+"="):o===""&&i.push("");return i}function ir(e){return{expand:cr.bind(null,e)}}function cr(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(a,o,i){if(o){let d="";const u=[];if(n.indexOf(o.charAt(0))!==-1&&(d=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(b){var f=/([^:\*]*)(?::(\d+)|(\*))?/.exec(b);u.push(lr(t,d,f[1],f[2]||f[3]))}),d&&d!=="+"){var s=",";return d==="?"?s="&":d!=="#"&&(s=d),(u.length!==0?d:"")+u.join(s)}else return u.join(",")}else return Nn(i)}),e==="/"?e:e.replace(/\/$/,"")}function En(e){var f;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),a=Object.assign({},e.headers),o,i=Ht(e,["method","baseUrl","url","headers","request","mediaType"]);const s=rr(n);n=ir(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const d=Object.keys(e).filter(p=>s.includes(p)).concat("baseUrl"),u=Ht(i,d);if(!/application\/octet-stream/i.test(a.accept)&&(e.mediaType.format&&(a.accept=a.accept.split(/,/).map(p=>p.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(f=e.mediaType.previews)!=null&&f.length)){const p=a.accept.match(/[\w-]+(?=-preview)/g)||[];a.accept=p.concat(e.mediaType.previews).map(_=>{const v=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${_}-preview${v}`}).join(",")}return["GET","HEAD"].includes(t)?n=ar(n,u):"data"in u?o=u.data:Object.keys(u).length&&(o=u),!a["content-type"]&&typeof o<"u"&&(a["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof o>"u"&&(o=""),Object.assign({method:t,url:n,headers:a},typeof o<"u"?{body:o}:null,e.request?{request:e.request}:null)}function ur(e,t,n){return En(bt(e,t,n))}function An(e,t){const n=bt(e,t),a=ur.bind(null,n);return Object.assign(a,{DEFAULTS:n,defaults:An.bind(null,n),merge:bt.bind(null,n),parse:En})}var dr=An(null,er);class Re extends Error{constructor(n,a,o){super(n);G(this,"name");G(this,"status");G(this,"request");G(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=a,"response"in o&&(this.response=o.response);const i=Object.assign({},o.request);o.request.headers.authorization&&(i.headers=Object.assign({},o.request.headers,{authorization:o.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var pr="0.0.0-development";function gr(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function mr(e){return e.arrayBuffer()}function Ft(e){var d,u,b,f;const t=e.request&&e.request.log?e.request.log:console,n=((d=e.request)==null?void 0:d.parseSuccessResponseBody)!==!1;(gr(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let a={},o,i,{fetch:s}=globalThis;if((u=e.request)!=null&&u.fetch&&(s=e.request.fetch),!s)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return s(e.url,{method:e.method,body:e.body,redirect:(b=e.request)==null?void 0:b.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([p,_])=>[p,String(_)])),signal:(f=e.request)==null?void 0:f.signal,...e.body&&{duplex:"half"}}).then(async p=>{i=p.url,o=p.status;for(const _ of p.headers)a[_[0]]=_[1];if("deprecation"in a){const _=a.link&&a.link.match(/<([^>]+)>; rel="deprecation"/),v=_&&_.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${a.sunset}${v?`. See ${v}`:""}`)}if(!(o===204||o===205)){if(e.method==="HEAD"){if(o<400)return;throw new Re(p.statusText,o,{response:{url:i,status:o,headers:a,data:void 0},request:e})}if(o===304)throw new Re("Not modified",o,{response:{url:i,status:o,headers:a,data:await dt(p)},request:e});if(o>=400){const _=await dt(p);throw new Re(br(_),o,{response:{url:i,status:o,headers:a,data:_},request:e})}return n?await dt(p):p.body}}).then(p=>({status:o,url:i,headers:a,data:p})).catch(p=>{if(p instanceof Re)throw p;if(p.name==="AbortError")throw p;let _=p.message;throw p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?_=p.cause.message:typeof p.cause=="string"&&(_=p.cause)),new Re(_,500,{request:e})})}async function dt(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():mr(e)}function br(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function ft(e,t){const n=e.defaults(t);return Object.assign(function(o,i){const s=n.merge(o,i);if(!s.request||!s.request.hook)return Ft(n.parse(s));const d=(u,b)=>Ft(n.parse(n.merge(u,b)));return Object.assign(d,{endpoint:n,defaults:ft.bind(null,n)}),s.request.hook(d,s)},{endpoint:n,defaults:ft.bind(null,n)})}var ht=ft(dr,{headers:{"user-agent":`octokit-request.js/${pr} ${Ke()}`}}),fr="0.0.0-development";function hr(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var _r=class extends Error{constructor(t,n,a){super(hr(a));G(this,"name","GraphqlResponseError");G(this,"errors");G(this,"data");this.request=t,this.headers=n,this.response=a,this.errors=a.errors,this.data=a.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},vr=["method","baseUrl","url","headers","request","query","mediaType"],yr=["query","method","url"],Wt=/\/api\/v3\/?$/;function kr(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(yr.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const a=typeof t=="string"?Object.assign({query:t},n):t,o=Object.keys(a).reduce((s,d)=>vr.includes(d)?(s[d]=a[d],s):(s.variables||(s.variables={}),s.variables[d]=a[d],s),{}),i=a.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Wt.test(i)&&(o.url=i.replace(Wt,"/api/graphql")),e(o).then(s=>{if(s.data.errors){const d={};for(const u of Object.keys(s.headers))d[u]=s.headers[u];throw new _r(o,d,s.data)}return s.data.data})}function zt(e,t){const n=e.defaults(t);return Object.assign((o,i)=>kr(n,o,i),{defaults:zt.bind(null,n),endpoint:n.endpoint})}zt(ht,{headers:{"user-agent":`octokit-graphql.js/${fr} ${Ke()}`},method:"POST",url:"/graphql"});function wr(e){return zt(e,{method:"POST",url:"/graphql"})}var Sr=/^v1\./,Lr=/^ghs_/,Tr=/^ghu_/;async function $r(e){const t=e.split(/\./).length===3,n=Sr.test(e)||Lr.test(e),a=Tr.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":a?"user-to-server":"oauth"}}function Ir(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Cr(e,t,n,a){const o=t.endpoint.merge(n,a);return o.headers.authorization=Ir(e),t(o)}var Pr=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign($r.bind(null,t),{hook:Cr.bind(null,t)})};const Un="6.1.2",Gt=()=>{},Mr=console.warn.bind(console),Nr=console.error.bind(console),Kt=`octokit-core.js/${Un} ${Ke()}`;class _t{constructor(t={}){G(this,"request");G(this,"graphql");G(this,"log");G(this,"hook");G(this,"auth");const n=new Ys.Collection,a={baseUrl:ht.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(a.headers["user-agent"]=t.userAgent?`${t.userAgent} ${Kt}`:Kt,t.baseUrl&&(a.baseUrl=t.baseUrl),t.previews&&(a.mediaType.previews=t.previews),t.timeZone&&(a.headers["time-zone"]=t.timeZone),this.request=ht.defaults(a),this.graphql=wr(this.request).defaults(a),this.log=Object.assign({debug:Gt,info:Gt,warn:Mr,error:Nr},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...s}=t,d=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",d.hook),this.auth=d}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=Pr(t.auth);n.wrap("request",i.hook),this.auth=i}const o=this.constructor;for(let i=0;i<o.plugins.length;++i)Object.assign(this,o.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...a){const o=a[0]||{};if(typeof t=="function"){super(t(o));return}super(Object.assign({},t,o,o.userAgent&&t.userAgent?{userAgent:`${o.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var o;const n=this.plugins;return o=class extends this{},G(o,"plugins",n.concat(t.filter(i=>!n.includes(i)))),o}}G(_t,"VERSION",Un),G(_t,"plugins",[]);const ze=class ze extends Error{constructor(n,a=!0){super(n);G(this,"name",ze.name);this.isApiWrong=a}static is(n){return(n==null?void 0:n.name)===ze.name}};G(ze,"name","GetManifestError");let Ne=ze;function Er(e=U().accessToken){return new _t({auth:e}).request("GET /repos/{owner}/{repo}/releases/latest",{owner:"PBH-BTN",repo:"PeerBanHelper",headers:{"X-GitHub-Api-Version":"2022-11-28"}}).then(n=>n.data)}function Ar(e=U().endpoint){const t=new URL(D(e,"/api/metadata/manifest"),location.href);return fetch(t,{headers:V(!1)}).catch(()=>{throw new Ne("service.manifest.networkError",!1)}).then(n=>n.json().catch(()=>{throw new Ne("service.manifest.parseError")})).then(n=>{if(!Array.isArray(n.modules)||typeof n.version!="object")throw new Ne("service.manifest.formatError");return n})}const je=class je extends Error{constructor(){super(...arguments);G(this,"name",je.name)}static is(n){return(n==null?void 0:n.name)===je.name}};G(je,"name","IncorrectTokenError");let ve=je;async function Ur(e){const t=U(),n=new URL(D(t.endpoint,"/api/auth/login"),location.href);return fetch(n,{headers:V(!1),method:"POST",body:JSON.stringify({token:e})}).then(async a=>{const o=await a.json();if(a.status===401)throw new ve(o.message);if(a.status!==200)throw new Error(o.message)})}const Rr=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Jt=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(Rr);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},Zt=e=>e==="*"||e==="x"||e==="X",Yt=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},zr=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],jr=(e,t)=>{if(Zt(e)||Zt(t))return 0;const[n,a]=zr(Yt(e),Yt(t));return n>a?1:n<a?-1:0},Xt=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const a=jr(e[n]||"0",t[n]||"0");if(a!==0)return a}return 0},Or=(e,t)=>{const n=Jt(e),a=Jt(t),o=n.pop(),i=a.pop(),s=Xt(n,a);return s!==0?s:o&&i?Xt(o.split("."),i.split(".")):o||i?o?-1:1:0},Rn=(e,t,n)=>{Br(n);const a=Or(e,t);return zn[n].includes(a)},zn={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},Qt=Object.keys(zn),Br=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(Qt.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${Qt.join("|")}`)};function en(){let e;const t=new Promise(n=>e=n);return Object.assign(t,{resolve:e})}function xr(e,t){return e?e.modules.some(n=>n.className===t):null}const U=We("endpoint",()=>{const e=Pe("endpoint",""),t=Pe("accessToken",""),n=Pe("authToken","",void 0,{writeDefaults:!1}),a=N(n.value),o=N(),i=N(en()),s=()=>{const w=en();return i.value.resolve(w),i.value=w,w},d=N(),u=N("checking"),b=N(null),f=N(null),p=async(w,y=!1)=>{if(d.value&&Rn(d.value.version.version,"4.0.0","<"))return;w&&(a.value=w),w&&y&&(n.value=w);const M=u.value==="checking";M||s();try{if(w)await Ur(w);else throw new ve;M||(i.value.resolve(),b.value=null,u.value="pass")}catch(L){throw M||(b.value=L,ve.is(L)&&(u.value="needLogin")),L}},_=async w=>{u.value="checking",e.value=w,s();try{d.value=await Ar(w);try{await p(a.value)}catch(y){throw ve.is(y)&&(u.value="needLogin"),y}return i.value.resolve(),b.value=null,u.value="pass",!0}catch(y){return b.value=y,u.value==="checking"&&(u.value="fail"),!1}},v=async w=>{t.value=w;try{const y=await Er();o.value={tagName:y.tag_name,url:y.html_url}}catch(y){f.value=y,console.error("Failed to get version:",y)}};return _(e.value),setTimeout(async()=>v(t.value),3e3),{endpoint:pe(e),serverAvailable:pe(i),serverManifest:pe(d),loading:$(()=>u.value==="checking"),status:pe(u),error:pe(b),checkUpgradeError:pe(f),accessToken:pe(t),latestVersion:pe(o),setEndpoint:_,setAccessToken:v,authToken:pe(a),setAuthToken:p,assertResponseLogin:w=>{if(w.status===403)throw p(null),new ve}}}),Dr="modulepreload",Vr=function(e,t){return new URL(e,t).href},tn={},be=function(t,n,a){let o=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),d=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(n.map(u=>{if(u=Vr(u,a),u in tn)return;tn[u]=!0;const b=u.endsWith(".css"),f=b?'[rel="stylesheet"]':"";if(!!a)for(let v=i.length-1;v>=0;v--){const w=i[v];if(w.href===u&&(!b||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const _=document.createElement("link");if(_.rel=b?"stylesheet":Dr,b||(_.as="script",_.crossOrigin=""),_.href=u,d&&_.setAttribute("nonce",d),document.head.appendChild(_),b)return new Promise((v,w)=>{_.addEventListener("load",v),_.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}return o.then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};async function qr(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,`api/downloaders/${e}/status`),location.href);return fetch(n,{headers:V()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Hr(){const e=U();await e.serverAvailable;const t=new URL(D(e.endpoint,"/api/statistic/counter"),location.href);return fetch(t,{headers:V()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Fr(){const e=U();await e.serverAvailable;const t=new URL(D(e.endpoint,"/api/downloaders"),location.href);return fetch(t,{headers:V()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Wr(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,`/api/downloaders/${e}/torrents`),location.href);return fetch(n,{headers:V()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Gr(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,"/api/downloaders"),location.href);return fetch(n,{method:"PUT",headers:V(),body:JSON.stringify(e)}).then(async a=>(t.assertResponseLogin(a),a.json()))}async function Kr(e,t){const n=U();await n.serverAvailable;const a=new URL(D(n.endpoint,`/api/downloaders/${e}`),location.href);return fetch(a,{method:"PATCH",headers:V(),body:JSON.stringify(t)}).then(async o=>(n.assertResponseLogin(o),o.json()))}async function Jr(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,"/api/downloaders/test"),location.href);return fetch(n,{method:"POST",headers:V(),body:JSON.stringify(e)}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Zr(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,`/api/downloaders/${e}`),location.href);return fetch(n,{method:"DELETE",headers:V()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function hi(e,t){const n=U();await n.serverAvailable;const a=new URL(D(n.endpoint,`/api/downloaders/${e}/torrent/${t}/peers`),location.href);return fetch(a,{headers:V()}).then(o=>(n.assertResponseLogin(o),o.json()))}function ke(e,t=2){if(e===-1)return"N/A";if(e===0)return"0 Bytes";const n=1024,a=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB"],i=Math.floor(Math.log(e)/Math.log(n));return i>=o.length?"Too large":parseFloat((e/Math.pow(n,i)).toFixed(a))+" "+o[i]}const Yr=R({__name:"torrentListModal",setup(e,{expose:t}){const n=ge(()=>be(()=>import("./peerListModal-DFWQ0uJh.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),{t:a}=J(),o=N(!1),i=N("");t({showModal:v=>{i.value=v,o.value=!0,b(v)}});const s=()=>{o.value=!1,i.value=""},{data:d,loading:u,run:b,cancel:f}=we(Wr,{manual:!0,pollingInterval:1e3}),p=N(),_=[{title:()=>a("page.dashboard.torrentList.column.name"),slotName:"name",width:400},{title:()=>a("page.dashboard.torrentList.column.speed"),slotName:"speed"},{title:()=>a("page.dashboard.torrentList.column.size"),slotName:"size"},{title:()=>a("page.dashboard.torrentList.column.hash"),slotName:"hash"},{title:()=>a("page.dashboard.torrentList.column.progress"),slotName:"progress"},{title:"Peers",slotName:"peer"}];return(v,w)=>{const y=se,M=cn,L=Y,T=At,S=Et,k=fe,I=Oe,A=kt;return h(),C(A,{"hide-cancel":"",closable:"",visible:o.value,"onUpdate:visible":w[0]||(w[0]=P=>o.value=P),onOk:s,draggable:"",width:"auto",onClose:w[1]||(w[1]=P=>c(f)())},{title:r(()=>[g(m(c(a)("page.dashboard.torrentList.title")),1)]),default:r(()=>[l(I,{columns:_,data:c(d),loading:!c(u)&&!c(d),pagination:{pageSize:5,baseSize:4,bufferSize:1}},{name:r(({record:P})=>[l(y,{bold:"",style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(m(P.name),1)]),_:2},1024)]),size:r(({record:P})=>[l(y,null,{default:r(()=>[g(m(c(ke)(P.size)),1)]),_:2},1024)]),hash:r(({record:P})=>[l(y,{copyable:"",code:""},{default:r(()=>[g(m(P.hash),1)]),_:2},1024)]),progress:r(({record:P})=>[l(L,null,{default:r(()=>[l(M,{percent:P.progress,size:"mini"},null,8,["percent"]),l(y,null,{default:r(()=>[g(m((P.progress*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1024)]),speed:r(({record:P})=>[l(L,{fill:"",style:{"justify-content":"space-between"}},{default:r(()=>[l(L,{fill:"",direction:"vertical"},{default:r(()=>[l(y,null,{default:r(()=>[l(T,{class:"green"}),g(" "+m(c(ke)(P.rtUploadSpeed))+"/s",1)]),_:2},1024),l(y,null,{default:r(()=>[l(S,{class:"red"}),g(" "+m(c(ke)(P.rtDownloadSpeed))+"/s",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),peer:r(({record:P})=>[l(k,{onClick:()=>{var z;return(z=p.value)==null?void 0:z.showModal(i.value,P.id,P.name)}},{default:r(()=>[g(m(c(a)("page.dashboard.torrentList.column.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["data","loading"]),l(c(n),{ref_key:"peerList",ref:p},null,512)]),_:1},8,["visible"])}}}),te=(e,t)=>{const n=e.__vccOpts||e;for(const[a,o]of t)n[a]=o;return n},Xr=te(Yr,[["__scopeId","data-v-cf9af022"]]);var re=(e=>(e.HEALTHY="HEALTHY",e.ERROR="ERROR",e.UNKNOWN="UNKNOWN",e.NEED_TAKE_ACTION="NEED_TAKE_ACTION",e))(re||{}),ie=(e=>(e.qBittorrent="qbittorrent",e.Transmission="transmission",e.BiglyBT="biglybt",e.Deluge="deluge",e.Unknown="Unknown",e))(ie||{});const _e=We("autoUpdate",()=>{const e=N(new Date),t=Pe("autoUpdate.enable",!0),n=Pe("autoUpdate.interval",3e3),a=$(()=>t.value?n.value:-1);function o(){e.value=new Date}return{lastUpdate:e,autoUpdate:t,interval:n,pollingInterval:a,renewLastUpdate:o}}),Qr=R({__name:"clientStatusCard",props:{downloader:{},disableRemove:{type:Boolean,default:!1}},emits:["torrent-view-click","downloader-deleted","edit-click"],setup(e,{emit:t}){const{t:n}=J(),a={[re.HEALTHY]:["success","page.dashboard.clientStatus.card.status.normal"],[re.ERROR]:["warning","page.dashboard.clientStatus.card.status.error"],[re.UNKNOWN]:["info","page.dashboard.clientStatus.card.status.unknown"],[re.NEED_TAKE_ACTION]:["danger","page.dashboard.clientStatus.card.status.need_take_action"]},o=e,i=t,s=$(()=>o.downloader),d=_e(),u=U(),b=_=>a[(_==null?void 0:_.lastStatus)??re.UNKNOWN]??a[re.UNKNOWN],{data:f}=we(qr,{pollingInterval:$(()=>d.pollingInterval),onSuccess:d.renewLastUpdate,cacheKey:()=>`${u.endpoint}-clientStatus-${s.value.name}`,defaultParams:[s.value.name],refreshDeps:[()=>s.value.name],refreshDepsAction:()=>{d.renewLastUpdate()}}),p=async()=>{try{const _=await Zr(s.value.name);if(_.code!==200)throw new Error(_.message);return Z.success(_.message),i("downloader-deleted"),!0}catch(_){return Z.error(_.message),!1}};return(_,v)=>{const w=un,y=fe,M=dn,L=Be,T=pn,S=Y,k=Te,I=gn,A=mn,P=Ge,z=Ut,j=wt,B=ia,X=ca,H=io,E=no,W=se,$e=ua,le=St,Je=Lt;return h(),C(Je,{hoverable:"",style:{height:"100%"},"header-style":{height:"auto"},class:"card"},{extra:r(()=>[c(f)?(h(),C(S,{key:0,size:"mini"},{default:r(()=>[l(y,{class:"edit-btn",shape:"circle",type:"text",onClick:v[0]||(v[0]=()=>{var De;return i("edit-click",{name:s.value.name,config:(De=c(f))==null?void 0:De.config})})},{icon:r(()=>[l(w)]),_:1}),o.disableRemove?(h(),C(L,{key:0,content:c(n)("page.dashboard.clientStatus.card.lastDelete")},{default:r(()=>[l(y,{class:"edit-btn",status:"danger",shape:"circle",type:"text",disabled:""},{icon:r(()=>[l(M)]),_:1})]),_:1},8,["content"])):(h(),C(T,{key:1,content:c(n)("page.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:p},{default:r(()=>[l(y,{class:"edit-btn",status:"danger",shape:"circle",type:"text",disabled:o.disableRemove},{icon:r(()=>[l(M)]),_:1},8,["disabled"])]),_:1},8,["content"]))]),_:1})):K("",!0)]),title:r(()=>[l(k,{style:{margin:"0px"},ellipsis:{rows:2,showTooltip:!0},heading:3},{default:r(()=>[g(m(s.value.name),1)]),_:1})]),default:r(()=>[c(f)?K("",!0):(h(),C(A,{key:0,animation:!0},{default:r(()=>[l(S,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(I,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})),c(f)?(h(),C(le,{key:1,column:1,layout:"inline-horizontal",class:"space","label-style":{paddingRight:"10px"}},{default:r(()=>[l(j,{label:c(n)("page.dashboard.clientStatus.card.type")},{default:r(()=>[l(S,null,{default:r(()=>[l(P,{bordered:""},{default:r(()=>[g(m(s.value.type),1)]),_:1}),l(L,{content:s.value.endpoint},{default:r(()=>[l(z,{size:"large"})]),_:1},8,["content"])]),_:1})]),_:1},8,["label"]),l(j,{label:c(n)("page.dashboard.clientStatus.card.status")},{default:r(()=>[l(L,{content:c(f).lastStatusMessage},{default:r(()=>[l(W,{type:b(c(f))[0]},{default:r(()=>[c(f).lastStatus==c(re).HEALTHY?(h(),C(B,{key:0})):K("",!0),c(f).lastStatus==c(re).ERROR?(h(),C(X,{key:1})):K("",!0),c(f).lastStatus==c(re).UNKNOWN?(h(),C(H,{key:2})):K("",!0),c(f).lastStatus==c(re).NEED_TAKE_ACTION?(h(),C(E,{key:3})):K("",!0),g(" "+m(c(n)(b(c(f))[1])),1)]),_:1},8,["type"])]),_:1},8,["content"])]),_:1},8,["label"]),c(f).lastStatus==c(re).HEALTHY?(h(),C(j,{key:0,label:c(n)("page.dashboard.clientStatus.card.status.torrentNumber")},{default:r(()=>[l(S,null,{default:r(()=>[l(W,null,{default:r(()=>[g(m(c(f).activeTorrents),1)]),_:1}),c(f).activeTorrents>0?(h(),C(L,{key:0,content:c(n)("page.dashboard.torrentList.tips")},{default:r(()=>[l(y,{onClick:v[1]||(v[1]=()=>i("torrent-view-click",s.value.name)),shape:"circle",type:"text",size:"mini"},{icon:r(()=>[l($e,{size:"large",style:{color:"var(--color-text-1)"}})]),_:1})]),_:1},8,["content"])):K("",!0)]),_:1})]),_:1},8,["label"])):K("",!0),c(f).lastStatus==c(re).HEALTHY?(h(),C(j,{key:1,label:c(n)("page.dashboard.clientStatus.card.status.peerNumber")},{default:r(()=>[l(W,null,{default:r(()=>[g(m(c(f).activePeers),1)]),_:1})]),_:1},8,["label"])):K("",!0)]),_:1})):K("",!0)]),_:1})}}}),el=te(Qr,[["__scopeId","data-v-9f39edbb"]]),tl={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},nl=R({__name:"editDownloaderModal",emits:["changed"],setup(e,{expose:t,emit:n}){const a=ge(()=>be(()=>import("./qbittorrent-CCzsiLeb.js"),__vite__mapDeps([4,1,2]),import.meta.url)),o=ge(()=>be(()=>import("./transmission-CnC2uvMU.js"),__vite__mapDeps([5,1,2]),import.meta.url)),i=ge(()=>be(()=>import("./biglybt-Btqry7Bq.js"),__vite__mapDeps([6,1,2]),import.meta.url)),s=ge(()=>be(()=>import("./deluge-CUJejpxT.js"),__vite__mapDeps([7,1,2]),import.meta.url)),{t:d}=J(),u=N(!1),b=N(!1),f={[ie.qBittorrent]:a,[ie.Transmission]:o,[ie.BiglyBT]:i,[ie.Deluge]:s},p=Vn({name:"",config:{basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1"}}),_=N("");t({showModal:(L,T)=>{b.value=L,!L&&T?(p.name=T.name,_.value=T.name,p.config=T.config):(p.name="",p.config={basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1"}),u.value=!0}});const v=n,w=N(),y=async()=>{var T;if(await((T=w.value)==null?void 0:T.validate()))return!1;try{const S=await Jr(p);if(!S.valid)throw new Error(S.message);const k=b.value?await Gr(p):await Kr(_.value,p);if(k.code===201||k.code===200)return Z.success(k.message),v("changed"),!0;throw new Error(k.message)}catch(S){return Z.error(S.message),!1}},M=()=>{var L;(L=w.value)==null||L.resetFields(),p.config={basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1"}};return(L,T)=>{const S=bn,k=fn,I=on("i18n-t"),A=Tt,P=hn,z=$t,j=kt;return h(),C(j,{visible:u.value,"onUpdate:visible":T[3]||(T[3]=B=>u.value=B),"mask-closable":!1,title:b.value?c(d)("page.dashboard.editModal.title.new"):c(d)("page.dashboard.editModal.title.edit"),unmountOnClose:"",onCancel:T[4]||(T[4]=()=>M()),onBeforeOk:y},{default:r(()=>[l(z,{ref_key:"formRef",ref:w,model:p,"auto-label-width":""},{default:r(()=>[l(A,{field:"config.type",label:c(d)("page.dashboard.editModal.label.type"),required:""},qn({default:r(()=>[l(k,{modelValue:p.config.type,"onUpdate:modelValue":T[0]||(T[0]=B=>p.config.type=B)},{default:r(()=>[l(S,{value:c(ie).qBittorrent},{default:r(()=>[g("qBittorrent")]),_:1},8,["value"]),l(S,{value:c(ie).Transmission},{default:r(()=>[g("Transmission")]),_:1},8,["value"]),l(S,{value:c(ie).BiglyBT},{default:r(()=>[g("BiglyBT")]),_:1},8,["value"]),l(S,{value:c(ie).Deluge},{default:r(()=>[g("Deluge")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:2},[p.config.type===c(ie).BiglyBT?{name:"extra",fn:r(()=>[l(I,{keypath:"page.dashboard.editModal.biglybt"},{url:r(()=>[O("a",tl,m(c(d)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),l(A,{field:"name",label:c(d)("page.dashboard.editModal.label.name"),required:""},{default:r(()=>[l(P,{modelValue:p.name,"onUpdate:modelValue":T[1]||(T[1]=B=>p.name=B),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(h(),C(sn(f[p.config.type]),{modelValue:p.config,"onUpdate:modelValue":T[2]||(T[2]=B=>p.config=B)},null,8,["modelValue"]))]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),al=te(nl,[["__scopeId","data-v-80f6ab9b"]]),ol=R({__name:"clientStatus",setup(e){const{t}=J(),n=U(),a=_e(),{data:o,refresh:i,loading:s}=we(Fr,{pollingInterval:$(()=>a.pollingInterval),cacheKey:()=>`${n.endpoint}-downloader`});de(()=>n.endpoint,i);const d=N(),u=N();return(b,f)=>{const p=da,_=fe,v=Te,w=gn,y=Y,M=mn,L=Lt,T=It,S=Ct;return h(),x(ye,null,[l(v,{heading:3},{default:r(()=>[g(m(c(t)("page.dashboard.clientStatus.title"))+" ",1),l(_,{class:"add-btn",type:"outline",shape:"circle",onClick:f[0]||(f[0]=()=>{var k;return(k=u.value)==null?void 0:k.showModal(!0)})},{icon:r(()=>[l(p)]),_:1})]),_:1}),l(S,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:r(()=>{var k;return[!c(o)||((k=c(o))==null?void 0:k.length)===0||c(s)?(h(),C(T,{key:0,xs:24,sm:12,md:8,lg:6},{default:r(()=>[l(L,{hoverable:"","header-style":{height:"auto"}},{title:r(()=>[l(M,{animation:!0},{default:r(()=>[l(y,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(w,{"line-height":44,"line-spacing":0})]),_:1})]),_:1})]),default:r(()=>[l(M,{animation:!0},{default:r(()=>[l(y,{direction:"vertical",style:{width:"100%"},size:0},{default:r(()=>[l(w,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})]),_:1})]),_:1})):(h(!0),x(ye,{key:1},vt(c(o),I=>(h(),C(T,{xs:24,sm:12,md:8,lg:6,key:I.name},{default:r(()=>[l(el,{"disable-remove":c(o).length===1,downloader:I,onTorrentViewClick:()=>{var A;return(A=d.value)==null?void 0:A.showModal(I.name)},onDownloaderDeleted:c(i),onEditClick:f[1]||(f[1]=A=>{var P;return(P=u.value)==null?void 0:P.showModal(!1,A)})},null,8,["disable-remove","downloader","onTorrentViewClick","onDownloaderDeleted"])]),_:2},1024))),128))]}),_:1}),l(Xr,{ref_key:"torrentList",ref:d},null,512),l(al,{ref_key:"editDownloaderModal",ref:u,onChanged:c(i)},null,8,["onChanged"])],64)}}}),sl=te(ol,[["__scopeId","data-v-33b822cc"]]),rl=R({__name:"statisticInfo",setup(e){const{t}=J(),n=_e(),a=U(),o=N({checkCounter:0,peerBanCounter:0,peerUnbanCounter:0,banlistCounter:0}),i=N(o.value),{refresh:s}=we(Hr,{pollingInterval:$(()=>n.pollingInterval),onSuccess:d=>{const u=i.value;i.value=d,Hn.isEqual(d,u)||(o.value=u),n.renewLastUpdate()},cacheKey:()=>`${a.endpoint}-statistic`});return de(()=>a.endpoint,s),(d,u)=>{const b=se,f=pa,p=ga,_=ma,v=Lt,w=Y;return h(),C(w,{direction:"vertical",fill:""},{default:r(()=>[l(v,{title:c(t)("page.dashboard.statics.currentStatus"),hoverable:""},{default:r(()=>[l(_,{cols:24,"row-gap":16,class:"panel"},{default:r(()=>[l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(f,{title:c(t)("page.dashboard.statics.checked"),value:(y=i.value)==null?void 0:y.checkCounter,"value-from":o.value.checkCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(b,null,{default:r(()=>[g(" "+m(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(f,{title:c(t)("page.dashboard.statics.banPeer"),value:(y=i.value)==null?void 0:y.peerBanCounter,"value-from":o.value.peerBanCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(b,null,{default:r(()=>[g(" "+m(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(f,{title:c(t)("page.dashboard.statics.unbanPeer"),value:(y=i.value)==null?void 0:y.peerUnbanCounter,"value-from":o.value.peerUnbanCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(b,null,{default:r(()=>[g(" "+m(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:r(()=>{var y;return[l(f,{title:c(t)("page.dashboard.statics.currentBan"),value:(y=i.value)==null?void 0:y.banlistCounter,"value-from":o.value.banlistCounter,animation:"","show-group-separator":""},{suffix:r(()=>[l(b,null,{default:r(()=>[g(" "+m(c(t)("page.dashboard.statics.number")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1})]),_:1})]),_:1},8,["title"])]),_:1})}}}),ll=O("br",null,null,-1),il=R({__name:"index",setup(e){return(t,n)=>{const a=se,o=Y;return h(),C(o,{direction:"vertical",fill:""},{default:r(()=>[l(a,{style:{"font-size":"1.2em"}},{default:r(()=>[g(m(t.$t("page.dashboard.description")),1)]),_:1}),l(sl),ll,l(rl)]),_:1})}}});async function pt(e,t){const n=U();await n.serverAvailable;const a=new URL(D(n.endpoint,"api/bans"),location.href);return a.searchParams.set("limit",String(e)),t&&a.searchParams.set("lastBanTime",String(t)),fetch(a,{headers:V()}).then(o=>(n.assertResponseLogin(o),o.json()))}async function cl(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,"api/bans"),location.href);return fetch(n,{headers:V(),method:"DELETE",body:JSON.stringify(e)}).then(a=>a.json())}function ul(e){let t=0,n,a;if(e.length===0)return t;for(n=0;n<e.length;n++)a=e.charCodeAt(n),t=(t<<5)-t+a,t|=0;return t}const jt=e=>{const t=Math.abs(ul(e))%nn.length;return nn[t]},nn=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta"],dl=["title"],pl=R({__name:"countryFlag",props:{iso:{},title:{},mode:{}},setup(e){const{locale:t}=J(),n=e,a=$(()=>{let o="",i=n.iso.toLowerCase();return t.value==="zh-CN"&&i==="tw"&&(i="cn"),o="flag-icon-"+i,n.mode&&(o+=" flag-icon-"+n.mode),o});return(o,i)=>n.iso!==""?(h(),x("span",{key:0,class:ee([a.value,"flag-icon"]),title:n.title||n.iso},null,10,dl)):K("",!0)}}),jn=R({__name:"asyncMethod",props:{once:{type:Boolean},asyncFn:{type:Function}},setup(e){const t=N(0),n=N(!1),a=N(),o=e,i=async(...s)=>{if(n.value&&o.once)return;n.value=!0;const d=++t.value;return Promise.resolve(o.asyncFn(...s)).catch(u=>{d===t.value&&(a.value=u)}).finally(()=>{d===t.value&&(n.value=!1)})};return(s,d)=>Fn(s.$slots,"default",{run:i,loading:n.value,error:a.value})}}),gl={class:"unban-button-container"},ml=R({__name:"banListItem",props:{item:{}},setup(e){const{t,d:n}=J(),a=Pt(N({md:1}),0),o=async i=>{const s=await cl(new Array(i));let d=0;return s.count&&(d=s.count),d<1?Z.error(t("page.banlist.banlist.listItem.unbanUnexcepted")):Z.success(t("page.banlist.banlist.listItem.unbanSuccess",{count:d})),!0};return(i,s)=>{const d=se,u=Ge,b=Be,f=ba,p=fe,_=Y,v=wt,w=At,y=Et,M=Ut,L=Mt,T=St;return h(),C(T,{column:{xs:3,md:6,xl:12},size:"medium",layout:["inline-vertical","horizontal"][c(a)]},{title:r(()=>[l(_,{wrap:""},{default:r(()=>[l(d,{bold:"",copyable:""},{default:r(()=>[g(m(i.item.banMetadata.peer.address.ip)+":"+m(i.item.banMetadata.peer.address.port),1)]),_:1}),l(b,{content:i.item.banMetadata.peer.id?i.item.banMetadata.peer.id:c(t)("page.banlist.banlist.listItem.empty")},{default:r(()=>[l(u,null,{default:r(()=>[g(m(i.item.banMetadata.peer.clientName?i.item.banMetadata.peer.clientName:c(t)("page.banlist.banlist.listItem.empty")),1)]),_:1})]),_:1},8,["content"]),l(jn,{once:"","async-fn":()=>o(i.item.banMetadata.peer.address.ip)},{default:r(({run:S,loading:k})=>[O("div",gl,[l(b,{content:c(t)("page.banlist.banlist.listItem.unban")},{default:r(()=>[l(p,{shape:"circle",disabled:k,onClick:S},{default:r(()=>[l(f)]),_:2},1032,["disabled","onClick"])]),_:2},1032,["content"])])]),_:1},8,["async-fn"])]),_:1})]),default:r(()=>{var S,k,I,A,P;return[l(v,{label:c(t)("page.banlist.banlist.listItem.banTime"),span:6},{default:r(()=>[g(m(c(n)(i.item.banMetadata.banAt,"long")),1)]),_:1},8,["label"]),l(v,{label:c(t)("page.banlist.banlist.listItem.expireTime"),span:6},{default:r(()=>[g(m(c(n)(i.item.banMetadata.unbanAt,"long")),1)]),_:1},8,["label"]),l(v,{label:c(t)("page.banlist.banlist.listItem.snapshot"),span:6},{default:r(()=>[l(w,{class:"green"}),g(" "+m(c(ke)(i.item.banMetadata.peer.uploaded))+" ",1),l(y,{class:"red"}),g(" "+m(c(ke)(i.item.banMetadata.peer.downloaded))+" - "+m((i.item.banMetadata.peer.progress*100).toFixed(2))+"% ",1)]),_:1},8,["label"]),i.item.banMetadata.geo?(h(),C(v,{key:0,label:c(t)("page.banlist.banlist.listItem.geo"),span:6},{default:r(()=>{var z,j,B,X,H,E;return[l(pl,{iso:((j=(z=i.item.banMetadata.geo)==null?void 0:z.country)==null?void 0:j.iso)??c(t)("page.banlist.banlist.listItem.empty")},null,8,["iso"]),g(" "+m(`${(X=(B=i.item.banMetadata.geo)==null?void 0:B.country)==null?void 0:X.name} ${((E=(H=i.item.banMetadata.geo)==null?void 0:H.city)==null?void 0:E.name)??c(t)("page.banlist.banlist.listItem.empty")}`),1)]}),_:1},8,["label"])):K("",!0),(S=i.item.banMetadata.geo)!=null&&S.as?(h(),C(v,{key:1,label:c(t)("page.banlist.banlist.listItem.asn"),span:6},{default:r(()=>[l(_,null,{default:r(()=>{var z,j,B,X,H;return[l(d,null,{default:r(()=>{var E,W;return[g(m((W=(E=i.item.banMetadata.geo)==null?void 0:E.as)==null?void 0:W.organization),1)]}),_:1}),l(u,{color:c(jt)((((j=(z=i.item.banMetadata.geo)==null?void 0:z.as)==null?void 0:j.number)??0).toString())},{default:r(()=>{var E,W;return[g(m((W=(E=i.item.banMetadata.geo)==null?void 0:E.as)==null?void 0:W.number),1)]}),_:1},8,["color"]),l(b,{content:c(t)("page.banlist.banlist.listItem.asn.subnet")+((H=(X=(B=i.item.banMetadata.geo)==null?void 0:B.as)==null?void 0:X.network)==null?void 0:H.ipAddress)},{default:r(()=>{var E,W;return[l(L,{href:`https://2ip.io/analytics/asn-list/?asnId=${(W=(E=i.item.banMetadata.geo)==null?void 0:E.as)==null?void 0:W.number}`,hoverable:!1},{default:r(()=>[l(M)]),_:1},8,["href"])]}),_:1},8,["content"])]}),_:1})]),_:1},8,["label"])):K("",!0),i.item.banMetadata.reverseLookup!="N/A"?(h(),C(v,{key:2,label:c(t)("page.banlist.banlist.listItem.reserveDNSLookup"),span:6},{default:r(()=>[g(m(i.item.banMetadata.reverseLookup),1)]),_:1},8,["label"])):K("",!0),(I=(k=i.item.banMetadata.geo)==null?void 0:k.network)!=null&&I.isp?(h(),C(v,{key:3,label:c(t)("page.banlist.banlist.listItem.network.isp"),span:6},{default:r(()=>{var z,j;return[g(m((j=(z=i.item.banMetadata.geo)==null?void 0:z.network)==null?void 0:j.isp),1)]}),_:1},8,["label"])):K("",!0),(P=(A=i.item.banMetadata.geo)==null?void 0:A.network)!=null&&P.netType?(h(),C(v,{key:4,label:c(t)("page.banlist.banlist.listItem.network.netType"),span:6},{default:r(()=>{var z,j;return[g(m((j=(z=i.item.banMetadata.geo)==null?void 0:z.network)==null?void 0:j.netType),1)]}),_:1},8,["label"])):K("",!0),l(v,{label:c(t)("page.banlist.banlist.listItem.location"),span:12},{default:r(()=>[l(b,{content:i.item.banMetadata.torrent.hash},{default:r(()=>[l(d,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(m(i.item.banMetadata.torrent.name),1)]),_:1})]),_:1},8,["content"])]),_:1},8,["label"]),l(v,{label:c(t)("page.banlist.banlist.listItem.rule"),span:12},{default:r(()=>[l(d,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(m(i.item.banMetadata.rule),1)]),_:1})]),_:1},8,["label"]),l(v,{label:c(t)("page.banlist.banlist.listItem.reason"),span:12},{default:r(()=>[l(d,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:r(()=>[g(m(i.item.banMetadata.description),1)]),_:1})]),_:1},8,["label"])]}),_:1},8,["layout"])}}}),bl=te(ml,[["__scopeId","data-v-795215f1"]]),fl=e=>(Gn("data-v-bcc8aabb"),e=e(),Kn(),e),hl=fl(()=>O("br",null,null,-1)),_l={key:1,style:{position:"absolute",transform:"translateY(-50%)"}},Se=5,vl=R({__name:"banList",setup(e){const{height:t}=Wn(),n=N(),a=_e(),o=U(),i=N(!1),s=N(5),d=N(!1),{t:u}=J();let b=!0;async function f(){var S;if(b||!p.value)return b=!1,pt(Se);if(p.value.length>s.value-Se){const k=[];let I=!1;for(;k.length<s.value&&!I;){const A=await pt(Se,(S=k[k.length-1])==null?void 0:S.banMetadata.banAt);for(const P of A)if(P.banMetadata.randomId!==p.value[0].banMetadata.randomId)k.push(P);else{I=!0;break}}return I?(s.value=p.value.length+k.length,k.concat(p.value)):k}return p.value}const{data:p,refresh:_,run:v}=we(f,{pollingInterval:$(()=>a.pollingInterval),onSuccess:a.renewLastUpdate,manual:!0}),w=S=>{var k,I;if(S){const A=(k=p.value)==null?void 0:k.map(P=>P.address).findIndex(P=>P.includes(S));A!==-1&&((I=n.value)==null||I.scrollIntoView({index:A,align:"auto"}))}},y=async()=>{var S;if(p.value){if(s.value=p.value.length+Se,d.value=!0,i.value=!1,p.value.length<=s.value){const k=[];for(;k.length+p.value.length<s.value&&!i.value;){const I=await pt(Se,(S=k[k.length-1]||p.value[p.value.length-1])==null?void 0:S.banMetadata.banAt);I.length<Se&&(i.value=!0),k.push(...I)}p.value=p.value.concat(k)}setTimeout(()=>{d.value=!1},i.value?1e3:0)}};de(()=>o.endpoint,()=>{s.value=Se,p.value=void 0,_()}),rn(v);const M=$(()=>p.value??[]),L=Pt(N({xs:1500,md:1e3,xl:800}),800),T=$(()=>Math.min(L.value,t.value-200));return(S,k)=>{const I=Te,A=se,P=_n,z=Y,j=fa,B=vn,X=ha,H=_a;return h(),C(z,{direction:"vertical",fill:""},{default:r(()=>[l(I,{heading:3},{default:r(()=>[g(m(c(u)("page.banlist.banlist")),1)]),_:1}),hl,l(z,{class:"list-header",wrap:""},{default:r(()=>[l(A,null,{default:r(()=>[g(m(c(u)("page.banlist.banlist.description")),1)]),_:1}),l(P,{style:{width:"250px"},placeholder:c(u)("page.banlist.banlist.searchPlaceHolder"),onSearch:w,"allow-clear":"","search-button":""},null,8,["placeholder"])]),_:1}),l(H,{virtualListProps:{height:T.value},ref_key:"banlist",ref:n,onReachBottom:y,scrollbar:!1,data:M.value},{item:r(({item:E,index:W})=>[l(j,{style:Q({marginBottom:W===M.value.length-1&&d.value?"50px":void 0})},{default:r(()=>[l(bl,{item:E},null,8,["item"])]),_:2},1032,["style"])]),"scroll-loading":r(()=>[M.value.length===0?(h(),C(B,{key:0,style:Q({height:`${T.value}px`})},null,8,["style"])):K("",!0),d.value?(h(),x("div",_l,[i.value?(h(),C(A,{key:0},{default:r(()=>[g(m(c(u)("page.banlist.banlist.bottomReached")),1)]),_:1})):(h(),C(X,{key:1}))])):K("",!0)]),_:1},8,["virtualListProps","data"])]),_:1})}}}),yl=te(vl,[["__scopeId","data-v-bcc8aabb"]]),kl=R({__name:"index",setup(e){return(t,n)=>{const a=Y;return h(),C(a,{direction:"vertical",fill:""},{default:r(()=>[l(yl)]),_:1})}}});async function wl(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,"api/bans/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:V()}).then(a=>a.json()).then(a=>(t.assertResponseLogin(a),{...a,pageIndex:a.pageIndex+1}))}const Sl=R({__name:"banlogTable",setup(e){const t=N(!0),n=_e(),a=U(),{t:o,d:i}=J(),{data:s,total:d,current:u,loading:b,pageSize:f,changeCurrent:p,changePageSize:_,refresh:v}=Jn(wl,{defaultParams:[{pageIndex:1,pageSize:10}],pagination:{currentKey:"pageIndex",pageSizeKey:"pageSize",totalKey:"total"},pollingInterval:$(()=>n.pollingInterval),cacheKey:L=>`${a.endpoint}-banlogs-${(L==null?void 0:L[0].pageIndex)||1}-${(L==null?void 0:L[0].pageSize)||10}`,onSuccess:n.renewLastUpdate,onAfter:()=>{t.value=!1}});de([f,u],()=>{t.value=!0}),de(()=>a.endpoint,v);const w=$(()=>t.value||b.value||!M.value),y=[{title:()=>o("page.banlog.banlogTable.column.banTime")+"/"+o("page.banlog.banlogTable.column.unbanTime"),slotName:"banAt",width:210},{title:()=>o("page.banlog.banlogTable.column.peerAddress"),slotName:"peerAddress",width:230},{title:()=>o("page.banlog.banlogTable.column.peerId"),slotName:"peerId",width:120},{title:()=>o("page.banlog.banlogTable.column.trafficSnapshot"),slotName:"peerStatus",width:150},{title:()=>o("page.banlog.banlogTable.column.torrentName"),dataIndex:"torrentName",ellipsis:!0,tooltip:!0},{title:()=>o("page.banlog.banlogTable.column.torrentSize"),slotName:"torrentSize",width:120},{title:()=>o("page.banlog.banlogTable.column.description"),dataIndex:"description",ellipsis:!0,tooltip:!0}],M=$(()=>{var L;return(L=s.value)==null?void 0:L.results});return(L,T)=>{const S=$o,k=se,I=yn,A=Y,P=At,z=Et,j=cn,B=Be,X=Ut,H=Oe;return h(),C(H,{stripe:!0,columns:y,data:M.value,loading:w.value,pagination:{total:c(d),current:c(u),pageSize:c(f),showPageSize:!0,baseSize:4,bufferSize:1},"column-resizable":"",size:"medium",onPageChange:c(p),onPageSizeChange:c(_),class:"banlog-table"},{banAt:r(({record:E})=>[l(A,{fill:"",direction:"vertical"},{default:r(()=>[l(k,null,{default:r(()=>[l(S),g(" "+m(c(i)(E.banAt,"long")),1)]),_:2},1024),l(k,null,{default:r(()=>[l(I),g(" "+m(E.unbanAt?c(i)(E.unbanAt,"long"):c(o)("page.banlog.banlogTable.notUnbanned")),1)]),_:2},1024)]),_:2},1024)]),peerAddress:r(({record:E})=>[l(k,{copyable:"",code:""},{default:r(()=>[g(m(E.peerIp)+":"+m(E.peerPort),1)]),_:2},1024)]),peerStatus:r(({record:E})=>[l(A,{fill:"",style:{"justify-content":"space-between"}},{default:r(()=>[l(A,{fill:"",direction:"vertical"},{default:r(()=>[l(k,null,{default:r(()=>[l(P,{class:"green"}),g(" "+m(c(ke)(E.peerUploaded)),1)]),_:2},1024),l(k,null,{default:r(()=>[l(z,{class:"red"}),g(" "+m(c(ke)(E.peerDownloaded)),1)]),_:2},1024)]),_:2},1024),l(B,{content:(E.peerProgress*100).toFixed(2)+"%"},{default:r(()=>[l(j,{percent:E.peerProgress,size:"mini"},null,8,["percent"])]),_:2},1032,["content"])]),_:2},1024)]),peerId:r(({record:E})=>[O("p",null,[g(m(E.peerId?E.peerId:c(o)("page.banlist.banlist.listItem.empty"))+" ",1),l(B,{content:E.peerClientName?E.peerClientName:c(o)("page.banlist.banlist.listItem.empty")},{default:r(()=>[l(X)]),_:2},1032,["content"])])]),torrentSize:r(({record:E})=>[l(B,{content:`Hash: ${E.torrentInfoHash}`},{default:r(()=>[O("p",null,m(c(ke)(E.torrentSize)),1)]),_:2},1032,["content"])]),_:1},8,["data","loading","pagination","onPageChange","onPageSizeChange"])}}}),Ll=te(Sl,[["__scopeId","data-v-4d465df4"]]),Tl=R({__name:"index",setup(e){const t=ge(()=>be(()=>import("./charts-Dn4a8QzF.js"),__vite__mapDeps([8,9,1,2,10]),import.meta.url)),{t:n}=J(),a=N("table");return(o,i)=>{const s=se,d=bn,u=fn,b=Y;return h(),C(b,{direction:"vertical",fill:""},{default:r(()=>[l(s,{style:{"font-size":"1.2em"}},{default:r(()=>[g(m(o.$t("page.banlog.description")),1)]),_:1}),l(b,{class:"align-right",fill:"",style:{"margin-bottom":"20px"}},{default:r(()=>[l(s,null,{default:r(()=>[g(m(c(n)("page.banlog.radio.viewMode")),1)]),_:1}),l(u,{type:"button",modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=f=>a.value=f)},{default:r(()=>[l(d,{value:"table"},{default:r(()=>[g(m(c(n)("page.banlog.radio.table")),1)]),_:1}),l(d,{value:"charts"},{default:r(()=>[g(m(c(n)("page.banlog.radio.charts")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a.value==="table"?(h(),C(Ll,{key:0})):c(t)?(h(),C(c(t),{key:1})):K("",!0)]),_:1})}}}),$l=te(Tl,[["__scopeId","data-v-bf92eb4c"]]);async function Il(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,"api/bans/ranks"),location.href);return n.searchParams.set("limit",String(e)),fetch(n,{headers:V()}).then(a=>(t.assertResponseLogin(a),a.json()))}const Cl={class:"search-box"},Pl=R({__name:"top50Table",props:{topNumber:{type:Number,required:!0}},setup(e){const t=_e(),n=U(),{t:a}=J(),o=[{title:()=>a("page.topban.top50Table.column.ipaddress"),dataIndex:"address",filterable:{filter:(f,p)=>p.address.includes(f[0]),slotName:"ip-filter",icon:()=>ln(va)}},{title:()=>a("page.topban.top50Table.column.historyCount"),dataIndex:"count"}],i=e,s=$(()=>i.topNumber),{data:d,loading:u,refresh:b}=we(()=>Il(s.value),{pollingInterval:$(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${n.endpoint}-topban-${s.value}`});return de([s,()=>n.endpoint],()=>{b()}),(f,p)=>{const _=_n,v=Y,w=Oe;return h(),C(w,{stripe:"","sticky-header":"",columns:o,data:c(d),"column-resizable":"",loading:c(u),pagination:{showPageSize:!0,baseSize:4,bufferSize:1},"filter-icon-align-left":""},{"ip-filter":r(({filterValue:y,setFilterValue:M,handleFilterConfirm:L,handleFilterReset:T})=>[O("div",Cl,[l(v,{direction:"vertical"},{default:r(()=>[l(_,{"model-value":y[0],placeholder:c(a)("page.topban.top50Table.searchPlaceholder"),"allow-clear":"",onSearch:L,onClear:T,onInput:S=>M([S])},null,8,["model-value","placeholder","onSearch","onClear","onInput"])]),_:2},1024)])]),_:1},8,["data","loading"])}}}),Ml=te(Pl,[["__scopeId","data-v-918dd8d5"]]),Nl=R({__name:"index",setup(e){const t=N(50);return(n,a)=>{const o=se,i=Te,s=wn,d=kn,u=ya,b=ka,f=Y;return h(),x(ye,null,[l(o,{style:{"font-size":"1.2em"}},{default:r(()=>[g(m(n.$t("page.topban.description")),1)]),_:1}),l(d,null,{default:r(()=>[l(i,{heading:3},{default:r(()=>[g(m(n.$t("page.topban.title",{topNumber:t.value})),1)]),_:1}),l(s,null,{default:r(()=>[g(m(n.$t("page.topban.usage")),1)]),_:1})]),_:1}),l(f,{fill:"",direction:"vertical"},{default:r(()=>[l(f,null,{default:r(()=>[l(o,null,{default:r(()=>[g(m(n.$t("page.topban.onlyShow")),1)]),_:1}),l(b,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=p=>t.value=p),"trigger-props":{autoFitPopupMinWidth:!0}},{default:r(()=>[l(u,{value:10},{default:r(()=>[g("10")]),_:1}),l(u,{value:20},{default:r(()=>[g("20")]),_:1}),l(u,{value:30},{default:r(()=>[g("30")]),_:1}),l(u,{value:40},{default:r(()=>[g("40")]),_:1}),l(u,{value:50},{default:r(()=>[g("50")]),_:1})]),_:1},8,["modelValue"]),l(o,null,{default:r(()=>[g(m(n.$t("page.topban.onlyShow.number")),1)]),_:1})]),_:1}),l(Ml,{"top-number":t.value},null,8,["top-number"])]),_:1})],64)}}});async function El(){const e=U();await e.serverAvailable;const t=new URL(D(e.endpoint,"api/statistic/rules"),location.href);return fetch(t,{headers:V()}).then(n=>(e.assertResponseLogin(n),n.json()))}const Al={class:"search-box"},Ul=R({__name:"ruleMetricsTable",setup(e){const t=_e(),{t:n}=J(),a=U(),{data:o,refresh:i,loading:s}=we(El,{pollingInterval:$(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${a.endpoint}-ruleStatic`}),d=b=>{var f;return(f=o.value)!=null&&f.dict[b]?jt(b):"gray"},u=[{title:()=>n("page.ruleMetrices.metricsTable.column.type"),slotName:"type",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.content"),slotName:"ruleName",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.run"),dataIndex:"query",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.hit"),dataIndex:"hit",filterable:{filter:(b,f)=>b[0]==="yes"&&f.hit>0,slotName:"hit-filter"},width:200}];return de(()=>a.endpoint,i),(b,f)=>{var L;const p=vn,_=Ge,v=se,w=Nt,y=Y,M=Oe;return h(),C(M,{columns:u,data:(L=c(o))==null?void 0:L.data,size:"large",loading:c(s),"column-resizable":"","filter-icon-align-left":"",pagination:{showPageSize:!0,baseSize:4,bufferSize:1}},{empty:r(()=>[l(p)]),type:r(({record:T})=>[l(_,{color:d(T.type)},{default:r(()=>{var S;return[g(m(((S=c(o))==null?void 0:S.dict[T.type])??T.type),1)]}),_:2},1032,["color"])]),ruleName:r(({record:T})=>[l(v,{code:""},{default:r(()=>[g(m(T.metadata.rule),1)]),_:2},1024)]),"hit-filter":r(({filterValue:T,handleFilterConfirm:S,handleFilterReset:k})=>[O("div",Al,[l(y,null,{default:r(()=>[l(w,{modelValue:T[0],"onUpdate:modelValue":I=>T[0]=I,"checked-value":"yes","unchecked-value":"no",onChange:I=>I==="yes"?S():k()},null,8,["modelValue","onUpdate:modelValue","onChange"]),l(v,null,{default:r(()=>[g(m(c(n)("page.ruleMetrices.metricsTable.filter")),1)]),_:1})]),_:2},1024)])]),_:1},8,["data","loading"])}}}),Rl=te(Ul,[["__scopeId","data-v-f4351b0d"]]),zl=R({__name:"index",setup(e){return(t,n)=>{const a=Te,o=wn,i=kn;return h(),x(ye,null,[l(i,null,{default:r(()=>[l(a,{heading:3},{default:r(()=>[g(m(t.$t("page.ruleMetrices.title")),1)]),_:1}),l(o,null,{default:r(()=>[g(m(t.$t("page.ruleMetrices.description")),1)]),_:1})]),_:1}),l(Rl)],64)}}});async function jl(){const e=U();await e.serverAvailable;const t=new URL(D(e.endpoint,"api/sub/rules"),location.href);return fetch(t,{headers:V()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Ol(e,t){const n=U();await n.serverAvailable;const a=new URL(D(n.endpoint,`api/sub/rule/${e}`),location.href);return fetch(a,{headers:V(),method:"PATCH",body:JSON.stringify({enabled:t})}).then(o=>(n.assertResponseLogin(o),o.json()))}async function _i({ruleId:e,ruleName:t,subUrl:n}){const a=U();await a.serverAvailable;const o=new URL(D(a.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(o,{headers:V(),method:"POST",body:JSON.stringify({ruleName:t,subUrl:n})}).then(i=>(a.assertResponseLogin(i),i.json()))}async function vi({ruleId:e,ruleName:t,subUrl:n}){const a=U();await a.serverAvailable;const o=new URL(D(a.endpoint,"api/sub/rule"),location.href);return fetch(o,{headers:V(),method:"PUT",body:JSON.stringify({ruleId:e,ruleName:t,subUrl:n})}).then(i=>(a.assertResponseLogin(i),i.json()))}async function Bl(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,`api/sub/rule/${e}/update`),location.href);return fetch(n,{headers:V(),method:"POST"}).then(a=>(t.assertResponseLogin(a),a.json()))}async function xl(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(n,{headers:V(),method:"DELETE"}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Dl(){const e=U();await e.serverAvailable;const t=new URL(D(e.endpoint,"/api/sub/rules/update"),location.href);return fetch(t,{headers:{...V(),"X-Audit":"Rule deletion"},method:"POST"}).then(n=>(e.assertResponseLogin(n),n.json()))}async function yi(){const e=U();await e.serverAvailable;const t=new URL(D(e.endpoint,"api/sub/interval"),location.href);return fetch(t,{headers:V()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function ki(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,"api/sub/interval"),location.href);return fetch(n,{headers:V(),method:"PATCH",body:JSON.stringify({checkInterval:e})}).then(a=>(t.assertResponseLogin(a),a.json()))}async function wi(e){const t=U();await t.serverAvailable;const n=new URL(D(t.endpoint,"/api/sub/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:V()}).then(a=>a.json()).then(a=>(t.assertResponseLogin(a),{...a.data,pageIndex:a.pageIndex+1}))}const Vl=R({__name:"ruleList",setup(e){const t=ge(()=>be(()=>import("./editRuleItemModal-HY_USDhh.js"),__vite__mapDeps([11,1,2,12]),import.meta.url)),n=ge(()=>be(()=>import("./settingsModal-DsICLtBu.js"),__vite__mapDeps([13,1,2]),import.meta.url)),a=ge(()=>be(()=>import("./logModal-BFIxN_EX.js"),__vite__mapDeps([14,1,2]),import.meta.url)),{t:o,d:i}=J(),{data:s,loading:d,refresh:u}=we(jl,{}),b=N(),f=N(),p=N(),_=[{title:()=>o("page.ruleSubscribe.column.status"),slotName:"status"},{title:"ID",slotName:"ruleId"},{title:()=>o("page.ruleSubscribe.column.ruleName"),dataIndex:"ruleName"},{title:"URL",slotName:"url"},{title:()=>o("page.ruleSubscribe.column.lastUpdated"),slotName:"lastUpdated"},{title:()=>o("page.ruleSubscribe.column.rulesCount"),slotName:"rulesCount"},{title:()=>o("page.ruleSubscribe.column.actions"),slotName:"action"}],v=S=>{var k;(k=b.value)==null||k.showModal(!1,()=>u(),S)},w=()=>{var S;(S=b.value)==null||S.showModal(!0,()=>u())},y=S=>Bl(S).then(k=>{k.code!==200?Z.error(k.message):Z.info(k.message),u()}),M=async S=>{const k=await xl(S);return k.code!==200?Z.error(k.message):Z.success(k.message),u(),!0},L=N(!1),T=async()=>{L.value=!0;const S=await Dl();S.code!==200?Z.error(S.message):Z.success(S.message),u(),L.value=!1};return(S,k)=>{const I=yo,A=fe,P=Oo,z=Sn,j=Be,B=Eo,X=wa,H=Y,E=Ge,W=se,$e=Nt,le=un,Je=dn,De=pn,On=Oe;return h(),C(H,{direction:"vertical",fill:""},{default:r(()=>{var Bt;return[l(H,{class:"align-right",fill:""},{default:r(()=>[l(A,{type:"primary",onClick:w},{icon:r(()=>[l(I)]),default:r(()=>[g(" "+m(S.$t("page.ruleSubscribe.addRule")),1)]),_:1}),l(X,null,{default:r(()=>[l(A,{loading:L.value,onClick:T},{icon:r(()=>[l(P)]),default:r(()=>[g(" "+m(c(o)("page.ruleSubscribe.updateAll")),1)]),_:1},8,["loading"]),l(j,{content:c(o)("page.ruleSubscribe.settingsTips")},{default:r(()=>{var q;return[l(A,{onClick:(q=f.value)==null?void 0:q.showModal},{icon:r(()=>[l(z)]),_:1},8,["onClick"])]}),_:1},8,["content"]),l(j,{content:c(o)("page.ruleSubscribe.updateLog")},{default:r(()=>{var q;return[l(A,{onClick:(q=p.value)==null?void 0:q.showModal},{icon:r(()=>[l(B)]),_:1},8,["onClick"])]}),_:1},8,["content"])]),_:1})]),_:1}),l(On,{stripe:"",columns:_,data:(Bt=c(s))==null?void 0:Bt.data,loading:c(d)},{ruleId:r(({record:q})=>[l(E,{color:c(jt)(q.ruleId)},{default:r(()=>[g(m(q.ruleId),1)]),_:2},1032,["color"])]),url:r(({record:q})=>[l(W,{copyable:"",ellipsis:{showTooltip:!0}},{default:r(()=>[g(m(q.subUrl),1)]),_:2},1024)]),status:r(({record:q})=>[l(H,null,{default:r(()=>[l($e,{modelValue:q.enabled,"onUpdate:modelValue":Ee=>q.enabled=Ee,beforeChange:async Ee=>{const Ve=await c(Ol)(q.ruleId,Ee);return Ve.code!==200?(c(Z).error(Ve.message),!1):(c(u)(),!0)}},null,8,["modelValue","onUpdate:modelValue","beforeChange"])]),_:2},1024)]),lastUpdated:r(({record:q})=>[l(W,null,{default:r(()=>[g(m(q.lastUpdate>0?c(i)(q.lastUpdate,"long"):c(o)("page.ruleSubscribe.column.notUpdated")),1)]),_:2},1024)]),rulesCount:r(({record:q})=>[l(W,null,{default:r(()=>[g(m(q.enabled?q.entCount:"NaN"),1)]),_:2},1024)]),action:r(({record:q})=>[l(H,{warp:""},{default:r(()=>[l(j,{content:c(o)("page.ruleSubscribe.column.actions.edit"),position:"top",mini:""},{default:r(()=>[l(A,{class:"edit-btn",shape:"circle",type:"text",onClick:()=>v(q)},{icon:r(()=>[l(le)]),_:2},1032,["onClick"])]),_:2},1032,["content"]),l(jn,{once:"","async-fn":()=>y(q.ruleId)},{default:r(({run:Ee,loading:Ve})=>[l(j,{content:c(o)("page.ruleSubscribe.column.actions.update"),position:"top",mini:""},{default:r(()=>[l(A,{class:"edit-btn",shape:"circle",type:"text",onClick:Ee},{icon:r(()=>[l(P,{spin:Ve},null,8,["spin"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:2},1032,["async-fn"]),l(De,{content:c(o)("page.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:()=>M(q.ruleId)},{default:r(()=>[l(A,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:r(()=>[l(Je)]),_:1})]),_:2},1032,["content","onBeforeOk"])]),_:2},1024)]),_:1},8,["data","loading"]),l(c(t),{ref_key:"editModal",ref:b},null,512),l(c(n),{ref_key:"settingsModal",ref:f},null,512),l(c(a),{ref_key:"updateLog",ref:p},null,512)]}),_:1})}}}),ql=te(Vl,[["__scopeId","data-v-9bef0eca"]]),Hl=R({__name:"index",setup(e){const{t}=J();return(n,a)=>{const o=se,i=Y;return h(),C(i,{direction:"vertical",fill:""},{default:r(()=>[l(o,{style:{"font-size":"1.2em"}},{default:r(()=>[g(m(c(t)("page.ruleSubscribe.description")),1)]),_:1}),l(ql)]),_:1})}}}),Ot=[{path:"/dashboard",name:"dashboard",meta:{label:"router.dashboard"},component:il},{path:"/list",name:"banlist",meta:{label:"router.banlist"},component:kl},{path:"/log",name:"banlogs",meta:{label:"router.banlogs"},component:$l},{path:"/top",name:"top",meta:{label:"router.topban"},component:Nl},{path:"/metrics",name:"rule_metrics",meta:{label:"router.ruleMetrics"},component:zl},{path:"/subscribe",name:"rule_subscribe",meta:{label:"router.ruleSubscribe",disableAutoUpdate:!0,moduleRequire:"com.ghostchu.peerbanhelper.module.impl.webapi.RuleSubController",documentation:"https://github.com/PBH-BTN/PeerBanHelper/wiki/%E8%A7%84%E5%88%99%E8%AE%A2%E9%98%85%E5%8A%9F%E8%83%BD"},component:Hl}];let Fe=location.pathname;var an;for(const e of Ot)if(!((an=e.meta)!=null&&an.hidden)&&Fe.endsWith(e.path)){Fe=Fe.slice(0,-e.path.length);break}const Fl=Zn({history:Yn(Fe),routes:Ot});function Wl(){const e=Xn(),t=yt(),n=i=>{e.replace({name:`${i}`})},a=$(()=>Ot.filter(i=>{var s;return!((s=i.meta)!=null&&s.hidden)})),o=$(()=>t.name);return[a,o,n]}const Gl=["href","title"],Kl={key:1},Jl=R({__name:"pageFooter",setup(e){const{t}=J(),n="2.0-dev",a=`79753488ba6aa3f847d3c8e2286e4730b173aec1
`,o=U(),i=$(()=>{var u;return(u=o.serverManifest)==null?void 0:u.version}),s=$(()=>o.latestVersion),d=$(()=>{var u,b;return Rn(((u=o.latestVersion)==null?void 0:u.tagName)??"1.0",((b=o.serverManifest)==null?void 0:b.version.version)??"1.0",">")});return de(d,()=>{var u;d.value&&Sa.info({title:t("footer.newVersion"),content:t("footer.newVersion.body",{version:(u=s.value)==null?void 0:u.tagName}),footer:()=>{var b;return ln(fe,{href:(b=s.value)==null?void 0:b.url,type:"primary"},[t("footer.newVersion.updateNow")])},duration:5e3,closable:!0})}),de(()=>o.checkUpgradeError,u=>{Z.error(`${t("settings.accessToken.error")},error:${u}`)}),(u,b)=>{const f=La,p=Mt,_=Y,v=wt,w=St,y=It,M=Ct;return h(),C(M,{align:"center",justify:"center"},{default:r(()=>[l(y,{class:"footer"},{default:r(()=>[l(w,{column:{xs:1,md:3,lg:4}},{default:r(()=>[l(v,{label:"Backend Version"},{default:r(()=>[l(_,null,{default:r(()=>{var L,T,S,k;return[d.value?(h(),x("a",{key:0,href:(L=s.value)==null?void 0:L.url,title:c(t)("footer.newVersionTips",{version:(T=s.value)==null?void 0:T.tagName})},[l(f,{dot:"",count:1,offset:[8,-1]},{default:r(()=>{var I;return[g(m((I=i.value)==null?void 0:I.version),1)]}),_:1})],8,Gl)):(h(),x("div",Kl,m((S=i.value)==null?void 0:S.version),1)),O("div",null,[g(" ("),l(p,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(k=i.value)==null?void 0:k.commit}`},{default:r(()=>{var I;return[g(m((I=i.value)==null?void 0:I.commit.substring(0,8)),1)]}),_:1},8,["href"]),g(") ")])]}),_:1})]),_:1}),l(v,{label:"WebUI Version"},{default:r(()=>[l(_,null,{default:r(()=>[g(m(c(n))+" ",1),O("div",null,[g(" ("),l(p,{href:`https://github.com/Gaojianli/pbh-fe/commit/${c(a)}`},{default:r(()=>[g(m(c(a).substring(0,8)),1)]),_:1},8,["href"]),g(") ")])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Zl=te(Jl,[["__scopeId","data-v-c1b0125c"]]),Yl=""+new URL("logo-dark-DcGjb6Oz.png",import.meta.url).href,Xl=""+new URL("logo-_lfdynTd.png",import.meta.url).href,Ql={href:"https://github.com/settings/tokens"},ei=R({__name:"settingsModal",setup(e,{expose:t}){const n=U(),a=_e(),o=N(!1),i=$(()=>n.loading),s=$(()=>n.status==="fail"),d=N({endpoint:n.endpoint,interval:a.interval,accessToken:n.accessToken}),{t:u}=J();function b(){d.value.endpoint=n.endpoint,d.value.interval=a.interval}t({showModal:()=>{o.value=!0,b()}});const f=()=>{if(!i.value)return a.interval=d.value.interval,n.setAccessToken(d.value.accessToken),n.setEndpoint(d.value.endpoint)};de(()=>n.error,v=>{ve.is(v)?p():Ne.is(v)?(Z.error(u(v.message)),!o.value&&v.isApiWrong&&(o.value=!0,b())):v&&(Z.error(`${u("settings.endpoint.error")},error:${v}`),o.value||(o.value=!0,b()))},{immediate:!0});const p=()=>{o.value=!1,b()},_=Pt(N({md:1}),0);return(v,w)=>{const y=hn,M=Tt,L=Ta,T=on("i18n-t"),S=$t,k=kt;return h(),C(k,{"modal-style":{"max-width":"80vw"},visible:o.value,"onUpdate:visible":w[3]||(w[3]=I=>o.value=I),onBeforeOk:f,onCancel:p,closable:!s.value,maskClosable:!s.value,"hide-cancel":s.value,"ok-loading":i.value},{title:r(()=>[g(m(c(u)("settings.modal.title")),1)]),default:r(()=>[l(S,{model:d.value,onSubmit:f,layout:["vertical","horizontal"][c(_)],"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:r(()=>[l(M,{field:"endpoint",label:"Endpoint:",tooltip:c(u)("settings.modal.endpointTips"),"validate-trigger":"input"},{default:r(()=>[l(y,{modelValue:d.value.endpoint,"onUpdate:modelValue":w[0]||(w[0]=I=>d.value.endpoint=I),placeholder:"http://localhost:8989","allow-clear":""},null,8,["modelValue"])]),_:1},8,["tooltip"]),l(M,{field:"interval",label:c(u)("settings.modal.pollInterval"),"validate-trigger":"input"},{default:r(()=>[l(L,{modelValue:d.value.interval,"onUpdate:modelValue":w[1]||(w[1]=I=>d.value.interval=I),placeholder:"3000",min:100,"hide-button":""},{suffix:r(()=>[g(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(M,{field:"accessToken",label:"Access Token:","validate-trigger":"input"},{extra:r(()=>[l(T,{keypath:"settings.modal.accessTokenTips"},{here:r(()=>[O("a",Ql,m(c(u)("settings.modal.accessTokenTips.here")),1)]),_:1})]),default:r(()=>[l(y,{modelValue:d.value.accessToken,"onUpdate:modelValue":w[2]||(w[2]=I=>d.value.accessToken=I),"allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","layout"])]),_:1},8,["visible","closable","maskClosable","hide-cancel","ok-loading"])}}}),ti=te(ei,[["__scopeId","data-v-5ac85002"]]),ni=We("locale",()=>{const e=Pe("locale.store","");return{localeStore:e,setLocale:n=>{e.value=n}}});function ai(){var a;const e=ni(),t=J({useScope:"global"}),n=o=>{var i;t.locale.value===o||!t.availableLocales.includes(o)||(t.locale.value=o,e.setLocale(o),(i=document.querySelector("html"))==null||i.setAttribute("lang",o),Z.success(t.t("navbar.action.locale")))};return e.localeStore!==""&&t.availableLocales.includes(e.localeStore)&&n(e.localeStore),(a=document.querySelector("html"))==null||a.setAttribute("lang",t.locale.value),{changeLocale:n}}const oi=We("dark",()=>{const e=N(!1);return{isDark:e,setDark:n=>{e.value=n}}}),si={href:"https://github.com/PBH-BTN/PeerBanHelper"},ri={key:0,src:Yl,alt:"logo",class:"logo"},li={key:1,src:Xl,alt:"logo",class:"logo"},ii={class:"lang-selector"},ci=R({__name:"pageHeader",props:{disableAutoUpdate:{type:Boolean,default:!1}},setup(e){const{t,d:n,locale:a}=J(),{changeLocale:o}=ai(),i=[...xs],s=_e(),d=oi(),u=Qn({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"dark-theme-config"});d.setDark(u.value);const b=N(),f=ea(u),p=()=>{f(),d.setDark(u.value)},_=e,v=$(()=>_.disableAutoUpdate);return(w,y)=>{const M=Te,L=Y,T=yn,S=se,k=Nt,I=us,A=fe,P=Be,z=Ca,j=Pa,B=$a,X=Zo,H=as,E=Sn,W=Ia;return h(),x(ye,null,[l(W,{"show-back":!1},{title:r(()=>[O("a",si,[l(L,{size:"mini"},{default:r(()=>[c(u)?(h(),x("img",ri)):(h(),x("img",li)),l(M,{style:{"margin-top":"0%","margin-bottom":"0%"}},{default:r(()=>[g("PeerBanHelper")]),_:1})]),_:1})])]),extra:r(()=>[l(L,{class:"right-side",wrap:""},{default:r(()=>{var $e;return[v.value?K("",!0):(h(),x(ye,{key:0},[l(S,null,{default:r(()=>[l(T),g(" "+m(c(t)("navbar.action.autoUpdate.lastUpdate"))+m(c(n)(c(s).lastUpdate,"longlong")),1)]),_:1}),l(k,{modelValue:c(s).autoUpdate,"onUpdate:modelValue":y[0]||(y[0]=le=>c(s).autoUpdate=le)},null,8,["modelValue"]),l(S,null,{default:r(()=>[g(m(c(t)("navbar.action.autoUpdate")),1)]),_:1})],64)),O("div",ii,[l(B,{trigger:"click",onSelect:y[1]||(y[1]=le=>c(o)(le))},{content:r(()=>[(h(),x(ye,null,vt(i,le=>l(j,{key:le.value,value:le.value},{icon:r(()=>[ta(l(z,null,null,512),[[na,le.value===c(a)]])]),default:r(()=>[g(" "+m(le.label),1)]),_:2},1032,["value"])),64))]),default:r(()=>[l(P,{content:c(t)("settings.language")},{default:r(()=>[l(A,{class:"nav-btn",type:"outline",shape:"circle"},{icon:r(()=>[l(I)]),_:1})]),_:1},8,["content"])]),_:1})]),l(P,{content:c(u)?c(t)("settings.navbar.theme.toLight"):c(t)("settings.navbar.theme.toDark")},{default:r(()=>[l(A,{class:"nav-btn",type:"outline",shape:"circle",onClick:p},{icon:r(()=>[c(u)?(h(),C(X,{key:0})):(h(),C(H,{key:1}))]),_:1})]),_:1},8,["content"]),l(A,{class:"nav-btn",type:"outline",shape:"circle",status:"normal",onClick:($e=b.value)==null?void 0:$e.showModal},{icon:r(()=>[l(E)]),_:1},8,["onClick"])]}),_:1})]),_:1}),l(ti,{ref_key:"settingsModalRef",ref:b},null,512)],64)}}}),ui=te(ci,[["__scopeId","data-v-4668c8a0"]]),di=R({__name:"index",setup(e){const t=U(),{t:n}=J(),a=N(!1),o=N({rememberPassword:!0,token:t.authToken}),i=N(),s=async({errors:u,values:b})=>{var v,w,y;const f=u?Object.keys(u):[];if(f.length>0){(v=i.value)==null||v.scrollToField(f[0]);return}const{token:p,rememberPassword:_}=b;if(!a.value){a.value=!0,(w=i.value)==null||w.setFields({token:{status:"validating",message:""}});try{await t.setAuthToken(p,_),Z.success(n("login.form.login.success"))}catch(M){(y=i.value)==null||y.setFields({token:{status:"error",message:`${n("login.form.login.failed")}  ${M.message}`}})}finally{a.value=!1}}},{query:d}=yt();return rn(()=>{var u;d.token&&(o.value.token=d.token,(u=i.value)==null||u.$emit("submit",{values:o.value,errors:void 0},new Event("submit")))}),(u,b)=>{const f=Te,p=hs,_=Ma,v=Tt,w=Na,y=Mt,M=fe,L=$t,T=Y,S=It,k=Ct;return h(),C(k,{justify:"center"},{default:r(()=>[l(S,{xs:24,sm:20,md:16,lg:12,xl:8},{default:r(()=>[l(T,{direction:"vertical",fill:""},{default:r(()=>[l(f,{heading:3},{default:r(()=>[g(m(u.$t("login.form.title")),1)]),_:1}),l(L,{ref_key:"loginForm",ref:i,model:o.value,class:"login-form",layout:"vertical",onSubmit:s},{default:r(()=>[l(v,{field:"token",rules:[{required:!0,message:u.$t("login.form.password.errMsg")}],"validate-trigger":["change","input"],"hide-label":""},{default:r(()=>[l(_,{modelValue:o.value.token,"onUpdate:modelValue":b[0]||(b[0]=I=>o.value.token=I),placeholder:u.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:r(()=>[l(p)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),l(v,{field:"rememberPassword",class:"login-form-password-actions"},{default:r(()=>[l(w,{checked:"rememberPassword","model-value":o.value.rememberPassword},{default:r(()=>[g(m(u.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value"]),l(y,{style:{marginLeft:"auto"},href:"https://github.com/PBH-BTN/PeerBanHelper/wiki/%E5%A6%82%E4%BD%95%E9%87%8D%E7%BD%AEToken"},{default:r(()=>[g(m(u.$t("login.form.forgetPassword")),1)]),_:1})]),_:1}),l(M,{type:"primary","html-type":"submit",long:"",loading:a.value},{default:r(()=>[g(m(u.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}}),pi=R({__name:"App",setup(e){const t=U(),n=$(()=>t.status),a=yt(),{t:o,locale:i}=J(),[s,d,u]=Wl(),b=$(()=>a.meta.disableAutoUpdate);return(f,p)=>{const _=Aa,v=Ua,w=se,y=fe,M=Y,L=Ba,T=xa,S=Ra,k=za,I=ja,A=Oa,P=Ea;return h(),C(P,{locale:c(Vs)[c(i)]},{default:r(()=>[l(A,null,{default:r(()=>[l(_,null,{default:r(()=>[l(ui,{"disable-auto-update":b.value},null,8,["disable-auto-update"])]),_:1}),n.value==="needLogin"?(h(),C(v,{key:0,class:"login-page"},{default:r(()=>[l(di,{style:{width:"100%","max-width":"1200px",margin:"auto"}})]),_:1})):(h(),C(v,{key:1},{default:r(()=>[l(M,{direction:"vertical",fill:"",style:{width:"100%","max-width":"1200px",margin:"auto"}},{default:r(()=>[l(S,{"active-key":c(d),onChange:c(u),size:"large",animation:!0,"destroy-on-hide":!0,"lazy-load":!0},{default:r(()=>[(h(!0),x(ye,null,vt(c(s),z=>{var j;return h(),C(T,{key:z.name,title:c(o)(String((j=z.meta)==null?void 0:j.label))},{default:r(()=>{var B,X,H;return[(B=z.meta)!=null&&B.moduleRequire&&!c(xr)(c(t).serverManifest,String((X=z.meta)==null?void 0:X.moduleRequire))?(h(),C(L,{key:0,status:"error",title:c(o)("router.moduleNotEnable",{moduleName:c(o)(String((H=z.meta)==null?void 0:H.label))})},{subtitle:r(()=>[l(w,{style:{"font-size":"0.8rem"}},{default:r(()=>[g(m(c(o)("router.moduleNotEnable.tips")),1)]),_:1})]),extra:r(()=>[l(M,null,{default:r(()=>{var E;return[l(y,{href:String((E=z.meta)==null?void 0:E.documentation),type:"primary"},{default:r(()=>[g(m(c(o)("router.moduleNotEnable.viewDoc")),1)]),_:2},1032,["href"])]}),_:2},1024)]),_:2},1032,["title"])):(h(),C(sn(z.component),{key:1}))]}),_:2},1032,["title"])}),128))]),_:1},8,["active-key","onChange"]),l(k)]),_:1})]),_:1})),l(I,null,{default:r(()=>[l(Zl)]),_:1})]),_:1})]),_:1},8,["locale"])}}}),gi=te(pi,[["__scopeId","data-v-c0d6f42c"]]),xe=aa(gi);Z._context=xe._context;oa({loadingDelay:400,loadingKeep:1e3,pollingWhenOffline:!0});xe.use(sa());xe.use(Ds);xe.use(Fl);xe.mount("#app");export{vi as A,yi as G,At as I,ki as S,_i as U,te as _,wi as a,jt as b,hi as c,pl as d,Et as e,ke as f,wl as g,Ut as h,Ae as p,oi as u};
