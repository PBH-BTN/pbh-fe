const __vite__fileDeps=["./qbittorrent-BHtqhZpH.js","./libs-CfNwz28r.js","./arcoDesign-COq-vaMw.js","./transmission-B9g-Ef1B.js","./biglybt-Baaa7ICU.js","./deluge-BmdhVeVF.js","./charts-BpU46vBV.js","./echarts-CeIfDHi3.js","./charts-CrBcdctI.css","./editRuleItemModal-zT-bQawe.js","./editRuleItemModal-Ck84q6_5.css","./settingsModal-BdU9bcpI.js","./logModal-C1kQd6Yk.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var jn=Object.defineProperty;var On=(e,t,n)=>t in e?jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var F=(e,t,n)=>On(e,typeof t!="symbol"?t+"":t,n);import{e as N,c as L,h as _,j as z,n as X,l as Z,m as R,a3 as Bn,a4 as We,a5 as Ie,r as M,H as pe,a6 as W,a7 as ye,q as I,C as s,y as g,N as h,a2 as c,v as l,s as J,a as xn,p as en,B as Dn,M as tn,a8 as he,w as ue,F as ve,O as bt,a9 as Vn,aa as qn,o as nn,ab as Hn,ac as Fn,ad as Wn,a1 as an,k as Gn,ae as Jn,af as Kn,ag as Yn,ah as _t,ai as Zn,aj as Xn,K as Qn,L as ea,$ as ta,ak as na,al as aa}from"./libs-CfNwz28r.js";import{_ as te,g as ne,i as ae,d as oa,l as ra,T as Q,P as on,S as G,a as Oe,M as vt,b as K,I as rn,B as Se,c as sn,e as ln,f as Te,h as cn,j as un,k as Ge,m as Be,D as yt,n as sa,o as la,p as ia,q as ca,r as wt,C as kt,R as dn,s as pn,F as St,t as mn,u as Tt,v as ua,w as $t,x as Lt,y as da,G as pa,z as ma,A as Ct,L as It,E as gn,H as ga,J as fn,K as fa,N as ha,O as hn,Q as ba,U as bn,V as _n,W as _a,X as va,Y as Pt,Z as ya,$ as wa,a0 as ka,a1 as Sa,a2 as Ta,a3 as $a,a4 as La,a5 as Ca,a6 as Ia,a7 as Pa,a8 as Ma,a9 as Na,aa as Ea,ab as Aa,ac as Ua,ad as Ra,ae as za,af as ja,ag as Oa}from"./arcoDesign-COq-vaMw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const Ba=N({name:"IconArrowDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-arrow-down`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),xa=["stroke-width","stroke-linecap","stroke-linejoin"],Da=R("path",{d:"m11.27 27.728 12.727 12.728 12.728-12.728M24 5v34.295"},null,-1),Va=[Da];function qa(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Va,14,xa)}var Ke=te(Ba,[["render",qa]]);const vn=Object.assign(Ke,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ke.name,Ke)}}),Ha=N({name:"IconArrowUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-arrow-up`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),Fa=["stroke-width","stroke-linecap","stroke-linejoin"],Wa=R("path",{d:"M11.27 20.272 23.997 7.544l12.728 12.728M24 43V8.705"},null,-1),Ga=[Wa];function Ja(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Ga,14,Fa)}var Ye=te(Ha,[["render",Ja]]);const yn=Object.assign(Ye,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ye.name,Ye)}}),Ka=N({name:"IconInfoCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-info-circle`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),Ya=["stroke-width","stroke-linecap","stroke-linejoin"],Za=R("path",{d:"M24 20v14m0-16v-4m18 10c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),Xa=[Za];function Qa(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Xa,14,Ya)}var Ze=te(Ka,[["render",Qa]]);const Mt=Object.assign(Ze,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Ze.name,Ze)}}),eo=N({name:"IconPlusCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-plus-circle`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),to=["stroke-width","stroke-linecap","stroke-linejoin"],no=R("path",{d:"M32 24h-8m-8 0h8m0 0v8m0-8v-8m18 8c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),ao=[no];function oo(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},ao,14,to)}var Xe=te(eo,[["render",oo]]);const ro=Object.assign(Xe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Xe.name,Xe)}}),so=N({name:"IconStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-stop`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),lo=["stroke-width","stroke-linecap","stroke-linejoin"],io=R("path",{d:"M36.728 36.728c7.03-7.03 7.03-18.427 0-25.456-7.03-7.03-18.427-7.03-25.456 0m25.456 25.456c-7.03 7.03-18.427 7.03-25.456 0-7.03-7.03-7.03-18.427 0-25.456m25.456 25.456L11.272 11.272"},null,-1),co=[io];function uo(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},co,14,lo)}var Qe=te(so,[["render",uo]]);const po=Object.assign(Qe,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+Qe.name,Qe)}}),mo=N({name:"IconHistory",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-history`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),go=["stroke-width","stroke-linecap","stroke-linejoin"],fo=R("path",{d:"M6 24c0-9.941 8.059-18 18-18s18 8.059 18 18-8.059 18-18 18c-6.26 0-11.775-3.197-15-8.047M6 24l-.5-.757h1L6 24Zm26 2h-9v-9"},null,-1),ho=[fo];function bo(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},ho,14,go)}var et=te(mo,[["render",bo]]);const _o=Object.assign(et,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+et.name,et)}}),vo=N({name:"IconRefresh",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-refresh`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),yo=["stroke-width","stroke-linecap","stroke-linejoin"],wo=R("path",{d:"M38.837 18C36.463 12.136 30.715 8 24 8 15.163 8 8 15.163 8 24s7.163 16 16 16c7.455 0 13.72-5.1 15.496-12M40 8v10H30"},null,-1),ko=[wo];function So(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},ko,14,yo)}var tt=te(vo,[["render",So]]);const To=Object.assign(tt,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+tt.name,tt)}}),$o=N({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-settings`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),Lo=["stroke-width","stroke-linecap","stroke-linejoin"],Co=R("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),Io=R("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1),Po=[Co,Io];function Mo(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Po,14,Lo)}var nt=te($o,[["render",Mo]]);const wn=Object.assign(nt,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+nt.name,nt)}}),No=N({name:"IconMoonFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-moon-fill`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),Eo=["stroke-width","stroke-linecap","stroke-linejoin"],Ao=R("path",{d:"M42.108 29.769c.124-.387-.258-.736-.645-.613A17.99 17.99 0 0 1 36 30c-9.941 0-18-8.059-18-18 0-1.904.296-3.74.844-5.463.123-.387-.226-.768-.613-.645C10.558 8.334 5 15.518 5 24c0 10.493 8.507 19 19 19 8.482 0 15.666-5.558 18.108-13.231Z",fill:"currentColor",stroke:"none"},null,-1),Uo=[Ao];function Ro(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Uo,14,Eo)}var at=te(No,[["render",Ro]]);const zo=Object.assign(at,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+at.name,at)}}),jo=N({name:"IconSunFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-sun-fill`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),Oo=["stroke-width","stroke-linecap","stroke-linejoin"],Bo=R("circle",{cx:"24",cy:"24",r:"9",fill:"currentColor",stroke:"none"},null,-1),xo=R("path",{d:"M21 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM21 37.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM42.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM10.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM39.203 34.96a.5.5 0 0 1 0 .707l-3.536 3.536a.5.5 0 0 1-.707 0l-3.535-3.536a.5.5 0 0 1 0-.707l3.535-3.535a.5.5 0 0 1 .707 0l3.536 3.535ZM16.575 12.333a.5.5 0 0 1 0 .707l-3.535 3.535a.5.5 0 0 1-.707 0L8.797 13.04a.5.5 0 0 1 0-.707l3.536-3.536a.5.5 0 0 1 .707 0l3.535 3.536ZM13.04 39.203a.5.5 0 0 1-.707 0l-3.536-3.536a.5.5 0 0 1 0-.707l3.536-3.535a.5.5 0 0 1 .707 0l3.536 3.535a.5.5 0 0 1 0 .707l-3.536 3.536ZM35.668 16.575a.5.5 0 0 1-.708 0l-3.535-3.535a.5.5 0 0 1 0-.707l3.535-3.536a.5.5 0 0 1 .708 0l3.535 3.536a.5.5 0 0 1 0 .707l-3.535 3.535Z",fill:"currentColor",stroke:"none"},null,-1),Do=[Bo,xo];function Vo(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Do,14,Oo)}var ot=te(jo,[["render",Vo]]);const qo=Object.assign(ot,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+ot.name,ot)}}),Ho=N({name:"IconLanguage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-language`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),Fo=["stroke-width","stroke-linecap","stroke-linejoin"],Wo=R("path",{d:"m42 43-2.385-6M26 43l2.384-6m11.231 0-.795-2-4.18-10h-1.28l-4.181 10-.795 2m11.231 0h-11.23M17 5l1 5M5 11h26M11 11s1.889 7.826 6.611 12.174C22.333 27.522 30 31 30 31"},null,-1),Go=R("path",{d:"M25 11s-1.889 7.826-6.611 12.174C13.667 27.522 6 31 6 31"},null,-1),Jo=[Wo,Go];function Ko(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Jo,14,Fo)}var rt=te(Ho,[["render",Ko]]);const Yo=Object.assign(rt,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+rt.name,rt)}}),Zo=N({name:"IconLocation",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-location`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),Xo=["stroke-width","stroke-linecap","stroke-linejoin"],Qo=R("circle",{cx:"24",cy:"19",r:"5"},null,-1),er=R("path",{d:"M39 20.405C39 28.914 24 43 24 43S9 28.914 9 20.405C9 11.897 15.716 5 24 5c8.284 0 15 6.897 15 15.405Z"},null,-1),tr=[Qo,er];function nr(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},tr,14,Xo)}var st=te(Zo,[["render",nr]]);const ar=Object.assign(st,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+st.name,st)}}),or=N({name:"IconLock",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=ne("icon"),o=L(()=>[n,`${n}-lock`,{[`${n}-spin`]:e.spin}]),a=L(()=>{const r={};return e.size&&(r.fontSize=ae(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:o,innerStyle:a,onClick:r=>{t("click",r)}}}}),rr=["stroke-width","stroke-linecap","stroke-linejoin"],sr=R("rect",{x:"7",y:"21",width:"34",height:"20",rx:"1"},null,-1),lr=R("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"},null,-1),ir=[sr,lr];function cr(e,t,n,o,a,i){return _(),z("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:X(e.cls),style:Z(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},ir,14,rr)}var lt=te(or,[["render",cr]]);const ur=Object.assign(lt,{install:(e,t)=>{var n;const o=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(o+lt.name,lt)}});function dr(e){var t=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var o=0;o<e.length;o++){var a=e[o];if(typeof a!="string")throw new TypeError("Url must be a string. Received "+a);a!==""&&(o>0&&(a=a.replace(/^[\/]+/,"")),o<e.length-1?a=a.replace(/[\/]+$/,""):a=a.replace(/[\/]+$/,"/"),t.push(a))}var i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");var r=i.split("?");return i=r.shift()+(r.length>0?"?":"")+r.join("&"),i}function B(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),dr(e)}const qe={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",view:{month:"Month",year:"Year",week:"Week",day:"Day"},month:{long:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},short:{January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sept",October:"Oct",November:"Nov",December:"Dec"}},week:{long:{self:"Week",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},short:{self:"Week",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"}}},pr={locale:"en-US",empty:{description:"No Data"},drawer:{okText:"Ok",cancelText:"Cancel"},popconfirm:{okText:"Ok",cancelText:"Cancel"},modal:{okText:"Ok",cancelText:"Cancel"},pagination:{goto:"Goto",page:"Page",countPerPage:" / Page",total:"Total: {0}"},table:{okText:"Ok",resetText:"Reset"},upload:{start:"Start",cancel:"Cancel",delete:"Delete",retry:"Click to retry",buttonText:"Upload",preview:"Preview",drag:"Click or drag file to this area to upload",dragHover:"Release to upload",error:"Upload Error"},calendar:qe,datePicker:{view:qe.view,month:qe.month,week:qe.week,placeholder:{date:"Please select date",week:"Please select week",month:"Please select month",year:"Please select year",quarter:"Please select quarter",time:"Please select time"},rangePlaceholder:{date:["Start date","End date"],week:["Start week","End week"],month:["Start month","End month"],year:["Start year","End year"],quarter:["Start quarter","End quarter"],time:["Start time","End time"]},selectTime:"Select time",today:"Today",now:"Now",ok:"Ok"},image:{loading:"loading"},imagePreview:{fullScreen:"Full Screen",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",zoomIn:"Zoom In",zoomOut:"Zoom Out",originalSize:"Original Size"},typography:{copied:"Copied",copy:"Copy",expand:"Expand",collapse:"Collapse",edit:"Edit"},form:{validateMessages:oa},colorPicker:{history:"History Colors",preset:"Preset Colors",empty:"Empty"}},mr={"settings.navbar.theme.toLight":"Click to use light mode","settings.navbar.theme.toDark":"Click to use dark mode","settings.language":"Language","settings.modal.title":"Settings","settings.modal.endpointTips":"If you can't access the backend of the PBH, you can try to set the Endpoint here","settings.modal.accessTokenTips":"You can set the Github access token at {here}","settings.modal.accessTokenTips.here":"here","settings.modal.pollInterval":"Polling interval:","settings.endpoint.error":"Cannot connect to the backend, please check the Endpoint settings","settings.accessToken.error":"Failed to get version, please check your network or try to set the access token in settings."},gr={"page.dashboard.description":"This page displays the basic data since PeerBanHelper started.","page.dashboard.clientStatus.title":"Connected Downloaders","page.dashboard.clientStatus.card.title":"Downloader Status","page.dashboard.clientStatus.card.status":"Status","page.dashboard.clientStatus.card.type":"Type","page.dashboard.clientStatus.card.status.normal":"Normal","page.dashboard.clientStatus.card.status.normal.info":"Status is good","page.dashboard.clientStatus.card.status.error":"Error","page.dashboard.clientStatus.card.status.error.info":"Error occurred when communicating with the client, please check the log file","page.dashboard.clientStatus.card.status.unknown":"Unknown","page.dashboard.clientStatus.card.status.unknown.info":"PeerBanHelper may not have communicated with this client yet","page.dashboard.clientStatus.card.status.torrentNumber":"Active Torrents","page.dashboard.clientStatus.card.status.peerNumber":"Connected Peers","page.dashboard.statics.currentStatus":"Current Status","page.dashboard.statics.checked":"Total checked","page.dashboard.statics.times":"times","page.dashboard.statics.banPeer":"Ban Peers","page.dashboard.statics.unbanPeer":"Unban Peers","page.dashboard.statics.currentBan":"Currently banned Peers","page.dashboard.statics.number":"","page.dashboard.torrentList.title":"Active Torrent List","page.dashboard.torrentList.tips":"Click to view the active torrent list","page.dashboard.torrentList.column.name":"Name","page.dashboard.torrentList.column.size":"Size","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"Progress","page.dashboard.editModal.title.new":"New Downloader","page.dashboard.editModal.title.edit":"Edit Downloader","page.dashboard.editModal.label.type":"Type","page.dashboard.editModal.label.name":"Name","page.dashboard.editModal.label.endpoint":"Endpoint","page.dashboard.editModal.label.username":"Username","page.dashboard.editModal.label.password":"Password","page.dashboard.editModal.label.useBasicAuth":"Use HTTP Basic Auth","page.dashboard.editModal.label.httpVersion":"HTTP Version","page.dashboard.editModal.label.httpVersion.description":"2.0 is faster, which 1.1 is more compatible","page.dashboard.editModal.label.incrementBan":"Incremental Ban","page.dashboard.editModal.label.incrementBan.description":"Helps to alleviate the downloader pressure when saving the ban list, but may cause the inability to ban Peers on some downloaders","page.dashboard.editModal.label.verifySsl":"Verify SSL","page.dashboard.editModal.biglybt":"Please install plugin at {url} first.","page.dashboard.editModal.biglybt.url":"here"},fr={"page.banlist.banlist":"Ban List","page.banlist.banlist.description":"Following is the ban list (sorted by time descending)","page.banlist.banlist.searchPlaceHolder":"Search an IP address","page.banlist.banlist.listItem.reserveDNSLookup":"Reverse DNS Lookup","page.banlist.banlist.listItem.banTime":"Ban Time","page.banlist.banlist.listItem.expireTime":"Unban Time","page.banlist.banlist.listItem.location":"Torrent","page.banlist.banlist.listItem.snapshot":"Snapshot","page.banlist.banlist.listItem.reason":"Ban Reason","page.banlist.banlist.listItem.geo":"Geo Location","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"ASN Subnet: ","page.banlist.banlist.listItem.empty":"Empty","page.banlist.banlist.bottomReached":"No more data!"},hr={"page.banlog.description":"This page shows the ban log information stored by PeerBanHelper.","page.banlog.banlogTable.notUnbanned":"Not Unbanned yet","page.banlog.banlogTable.column.banTime":"Ban Time","page.banlog.banlogTable.column.unbanTime":"Unban Time","page.banlog.banlogTable.column.peerAddress":"Peer Address","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"Traffic Snapshot","page.banlog.banlogTable.column.torrentName":"Torrent Name","page.banlog.banlogTable.column.torrentSize":"Size","page.banlog.banlogTable.column.description":"Description","page.banlog.radio.viewMode":"View Mode","page.banlog.radio.table":"Table","page.banlog.radio.charts":"Charts","page.banlog.charts.options.more":"More Options","page.banlog.charts.options.thresold":"Only show data above 1%","page.banlog.charts.options.field":"Field","page.banlog.charts.options.field.peerId":"Peer ID","page.banlog.charts.options.field.torrentName":"Torrent Name","page.banlog.charts.options.field.module":"Module","page.banlog.charts.title.line":"Last {days} days count","page.banlog.charts.line.options.field":"Count","page.banlog.charts.options.days":"Days","page.banlog.charts.options.mergeSame":"Try to merge same type clients"},br={"page.topban.description":"This page shows the ban history stored by PeerBanHelper.","page.topban.title":"Top {topNumber} most frequently banned IP addresses","page.topban.usage":"This data is analyzed from the ban history recorded in the database in the past 14 days. If some IP addresses are repeatedly banned, you may consider using the system firewall to block these IPs, or share these malicious IP addresses with others to help more people improve their blocking rules.","page.topban.onlyShow":"Only show the first","page.topban.onlyShow.number":"","page.topban.top50Table.searchPlaceholder":"Search IP address...","page.topban.top50Table.column.ipaddress":"IP Address","page.topban.top50Table.column.historyCount":"History Ban Count"},_r={"page.ruleMetrices.title":"Rule metrics","page.ruleMetrices.description":"The following is the rule statistics information, you can improve your rule through following information.","page.ruleMetrices.metricsTable.filter":"Show hit rules only","page.ruleMetrices.metricsTable.column.type":"Rule Type","page.ruleMetrices.metricsTable.column.content":"Rule Content","page.ruleMetrices.metricsTable.column.run":"Run Times","page.ruleMetrices.metricsTable.column.hit":"Hit Times"},vr={"service.manifest.networkError":"Network failure, unable to initiate request","service.manifest.parseError":"Unable to parse the data, please check whether the endpoint is correct","service.manifest.formatError":"The response format is incorrect, please check the backend version"},yr={"login.form.login.success":"Login success","login.form.title":"Login to PeerBanHelper","login.form.password.placeholder":"Please enter the management token","login.form.rememberPassword":"Remember token","login.form.forgetPassword":"Forget token","login.form.password.errMsg":"Please enter the management token","login.form.login.failed":"Login Failed:","login.form.login":"Login"},wr={"page.ruleSubscribe.description":"You can manage online rules subscriptions here.","page.ruleSubscribe.addRule":"Add Subscription","page.ruleSubscribe.updateAll":"Update all","page.ruleSubscribe.settingsTips":"Auto update settings","page.ruleSubscribe.updateLog":"Update Log","page.ruleSubscribe.column.ruleName":"Rule Name","page.ruleSubscribe.column.lastUpdated":"Last Updated","page.ruleSubscribe.column.notUpdated":"Never","page.ruleSubscribe.column.status":"Enabled","page.ruleSubscribe.column.actions":"Actions","page.ruleSubscribe.column.actions.edit":"Edit","page.ruleSubscribe.column.actions.update":"Update","page.ruleSubscribe.editModal.title":"Edit Rule","page.ruleSubscribe.editModal.title.new":"New Rule","page.ruleSubscribe.editModal.form.name":"Rule Name","page.ruleSubscribe.editModal.form.id.extra":"Rule ID, should be unique","page.ruleSubscribe.editModal.form.name.required":"Please input rule name","page.ruleSubscribe.column.rulesCount":"Rules","page.ruleSubscribe.column.deleteConfirm":"Are you sure you want to delete?","page.ruleSubscribe.settingsModal.title":"Subscribe Settings","page.ruleSubscribe.settingsModal.checkInterval":"Update Interval","page.ruleSubscribe.updateLog.updateTime":"Update at","page.ruleSubscribe.updateLog.ruleCount":"Rules Count","page.ruleSubscribe.updateLog.updateType":"Type","page.ruleSubscribe.updateLog.updateType.auto":"Auto","page.ruleSubscribe.updateLog.updateType.manual":"Manual","page.ruleSubscribe.updateLog.updateType.unknown":"Unknown"},kr={"navbar.action.locale":"Switch to English","navbar.action.autoUpdate":"Auto Update","navbar.action.autoUpdate.lastUpdate":"Last updated at: ","main.workInProgressTips":"This feature is still working in progress, and the data currently recorded and displayed is relatively limited","footer.newVersion":"New Version Found!","footer.newVersion.body":"{version} is available, click to view","footer.newVersionTips":"New version {version} is available, click to view","footer.newVersion.updateNow":"Update Now","router.login":"Login","router.dashboard":"Status","router.banlist":"Ban List","router.banlogs":"Ban Logs","router.topban":"Top Bans","router.ruleMetrics":"Rule Metrics","router.ruleSubscribe":"Rule Subscription","router.moduleNotEnable":"{moduleName} is not enabled","router.moduleNotEnable.tips":"Please enable the feature in the configuration file","router.moduleNotEnable.viewDoc":"View Documentation",...mr,...gr,...fr,...hr,...br,..._r,...vr,...yr,...wr},Sr={"settings.navbar.theme.toLight":"点击切换为亮色模式","settings.navbar.theme.toDark":"点击切换为暗黑模式","settings.language":"语言","settings.modal.title":"设置","settings.modal.endpointTips":"如果你无法访问PBH后端，可以尝试在此设置Endpoint","settings.modal.pollInterval":"轮询间隔：","settings.endpoint.error":"无法连接到后端，请检查Endpoint设置","settings.modal.accessTokenTips":"你可以在{here}填写 Github Access Token","settings.modal.accessTokenTips.here":"这里","settings.accessToken.error":"无法获取版本信息，请检查网络或尝试在设置中设置访问令牌"},Tr={"page.dashboard.description":"此页面展示 PeerBanHelper 自启动以来的基本数据。","page.dashboard.clientStatus.title":"已连接的下载器","page.dashboard.clientStatus.card.title":"下载器状态","page.dashboard.clientStatus.card.status":"状态","page.dashboard.clientStatus.card.type":"类型","page.dashboard.clientStatus.card.status.normal":"正常","page.dashboard.clientStatus.card.status.normal.info":"状态良好","page.dashboard.clientStatus.card.status.error":"错误","page.dashboard.clientStatus.card.status.error.info":"与客户端通信时出错，请检查日志文件","page.dashboard.clientStatus.card.status.unknown":"未知","page.dashboard.clientStatus.card.status.unknown.info":"PeerBanHelper 可能还没有与此客户端通信","page.dashboard.clientStatus.card.status.torrentNumber":"活动种子数","page.dashboard.clientStatus.card.status.peerNumber":"已连接的Peers","page.dashboard.statics.currentStatus":"当前状态","page.dashboard.statics.checked":"共检查","page.dashboard.statics.times":"次","page.dashboard.statics.banPeer":"封禁Peer","page.dashboard.statics.unbanPeer":"解除已到期的封禁","page.dashboard.statics.currentBan":"当前处于封禁状态Peer","page.dashboard.statics.number":"个","page.dashboard.torrentList.title":"活动种子列表","page.dashboard.torrentList.tips":"点击查看活动种子列表","page.dashboard.torrentList.column.name":"名称","page.dashboard.torrentList.column.size":"大小","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"进度","page.dashboard.editModal.title.new":"新建下载器","page.dashboard.editModal.title.edit":"编辑下载器","page.dashboard.editModal.label.type":"类型","page.dashboard.editModal.label.name":"名称","page.dashboard.editModal.label.endpoint":"地址","page.dashboard.editModal.label.username":"用户名","page.dashboard.editModal.label.password":"密码","page.dashboard.editModal.label.useBasicAuth":"使用 Basic Auth","page.dashboard.editModal.label.httpVersion":"HTTP版本","page.dashboard.editModal.label.httpVersion.description":"2.0性能更好，1.1兼容性更好","page.dashboard.editModal.label.incrementBan":"增量封禁","page.dashboard.editModal.label.incrementBan.description":"有助于缓解保存封禁列表时的下载器压力，但在部分下载器上可能会导致无法封禁Peers","page.dashboard.editModal.label.verifySsl":"验证SSL证书","page.dashboard.editModal.biglybt":"请先安装 {url}","page.dashboard.editModal.biglybt.url":"插件"},$r={"page.banlist.banlist":"封禁名单","page.banlist.banlist.description":"以下是封禁列表（按时间倒序排列）","page.banlist.banlist.searchPlaceHolder":"搜索 IP 地址","page.banlist.banlist.listItem.reserveDNSLookup":"反向 DNS 解析","page.banlist.banlist.listItem.banTime":"封禁时间","page.banlist.banlist.listItem.expireTime":"预计解封时间","page.banlist.banlist.listItem.location":"发现位置","page.banlist.banlist.listItem.snapshot":"封禁快照","page.banlist.banlist.listItem.reason":"封禁原因","page.banlist.banlist.listItem.geo":"地理位置","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"子网：","page.banlist.banlist.listItem.empty":"空","page.banlist.banlist.bottomReached":"已经到底啦！"},Lr={"page.banlog.description":" 此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.banlog.banlogTable.notUnbanned":"未解封","page.banlog.banlogTable.column.banTime":"封禁时间","page.banlog.banlogTable.column.unbanTime":"解封时间","page.banlog.banlogTable.column.peerAddress":"Peer 地址","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"流量快照","page.banlog.banlogTable.column.torrentName":"种子名","page.banlog.banlogTable.column.torrentSize":"大小","page.banlog.banlogTable.column.description":"描述","page.banlog.radio.viewMode":"视图模式","page.banlog.radio.table":"表格","page.banlog.radio.charts":"图表","page.banlog.charts.options.more":"更多选项","page.banlog.charts.options.thresold":"只显示1%以上的数据","page.banlog.charts.options.field":"维度","page.banlog.charts.options.field.peerId":"Peer ID","page.banlog.charts.options.field.torrentName":"种子名","page.banlog.charts.options.field.module":"功能模块","page.banlog.charts.title.line":"最近 {days} 天封禁","page.banlog.charts.line.options.field":"计数","page.banlog.charts.options.days":"展示天数","page.banlog.charts.options.mergeSame":"尝试合并同类型客户端"},Cr={"page.topban.description":"此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.topban.title":"被封禁频率最高的{topNumber}个 IP 地址","page.topban.usage":"这是从数据库中记录的近14天的封禁历史中分析得来的数据。如果某些 IP 地址持续被多次封禁，则可以考虑使用系统防火墙屏蔽这些 IP，或者向其他人分享这些恶意 IP 地址，以帮助更多人改善他们的屏蔽规则。","page.topban.onlyShow":"只展示前","page.topban.onlyShow.number":"个","page.topban.top50Table.searchPlaceholder":"搜索IP地址...","page.topban.top50Table.column.ipaddress":"IP 地址","page.topban.top50Table.column.historyCount":"历史封禁次数"},Ir={"page.ruleMetrices.title":"规则统计","page.ruleMetrices.description":"以下是规则统计信息，你可以通过规则命中次数（封禁次数）和运行次数来评估规则的有效性。","page.ruleMetrices.metricsTable.filter":"仅显示命中过的规则","page.ruleMetrices.metricsTable.column.type":"规则类型","page.ruleMetrices.metricsTable.column.content":"规则内容","page.ruleMetrices.metricsTable.column.run":"运行次数","page.ruleMetrices.metricsTable.column.hit":"命中次数"},Pr={"service.manifest.networkError":"网络故障，无法发起请求","service.manifest.parseError":"无法解析接口返回数据，请检查服务地址是否正确","service.manifest.formatError":"后端接口响应格式错误，请检查后端版本"},Mr={"login.form.login.success":"登录成功","login.form.title":"登录到 PeerBanHelper","login.form.password.placeholder":"请输入管理 Token","login.form.rememberPassword":"记住 Token","login.form.forgetPassword":"忘记 Token","login.form.password.errMsg":"请输入管理 Token","login.form.login.failed":"登录失败：","login.form.login":"登录"},Nr={"page.ruleSubscribe.description":"你可以在此处管理订阅的在线规则","page.ruleSubscribe.updateAll":"更新全部","page.ruleSubscribe.settingsTips":"自动更新设置","page.ruleSubscribe.updateLog":"更新记录","page.ruleSubscribe.column.ruleName":"规则名称","page.ruleSubscribe.column.lastUpdated":"最后更新","page.ruleSubscribe.column.notUpdated":"无","page.ruleSubscribe.column.status":"启用状态","page.ruleSubscribe.column.actions":"操作","page.ruleSubscribe.column.actions.edit":"编辑","page.ruleSubscribe.column.actions.update":"更新","page.ruleSubscribe.editModal.title":"编辑规则","page.ruleSubscribe.editModal.title.new":"新建规则","page.ruleSubscribe.editModal.form.name":"规则名称","page.ruleSubscribe.editModal.form.id.extra":"规则ID，不允许重复","page.ruleSubscribe.editModal.form.name.required":"请输入规则名称","page.ruleSubscribe.addRule":"新增订阅","page.ruleSubscribe.column.rulesCount":"规则数量","page.ruleSubscribe.column.deleteConfirm":"确定删除这条规则吗？","page.ruleSubscribe.settingsModal.title":"订阅设置","page.ruleSubscribe.settingsModal.checkInterval":"更新间隔","page.ruleSubscribe.updateLog.updateTime":"更新时间","page.ruleSubscribe.updateLog.ruleCount":"规则数量","page.ruleSubscribe.updateLog.updateType":"更新类型","page.ruleSubscribe.updateLog.updateType.auto":"自动更新","page.ruleSubscribe.updateLog.updateType.manual":"手动更新","page.ruleSubscribe.updateLog.updateType.unknown":"未知"},Er={"navbar.action.locale":"切换为中文","navbar.action.autoUpdate":"自动刷新","navbar.action.autoUpdate.lastUpdate":"最后更新于：","main.workInProgressTips":"请注意，此功能仍在施工中，目前记录和展示的数据较为有限。","footer.newVersion":"发现新版本！","footer.newVersion.body":"{version} 已发布，点击查看","footer.newVersionTips":"有新版本 {version} 可用，点击查看","footer.newVersion.updateNow":"立即更新","router.login":"登录","router.dashboard":"状态","router.banlist":"封禁名单","router.banlogs":"封禁日志","router.topban":"最多封禁","router.ruleMetrics":"规则统计","router.ruleSubscribe":"规则订阅","router.moduleNotEnable":"{moduleName}功能未启用","router.moduleNotEnable.tips":"请在配置文件中开启相关功能","router.moduleNotEnable.viewDoc":"查看文档",...Sr,...Tr,...$r,...Lr,...Cr,...Ir,...Pr,...Mr,...Nr},Ar=[{label:"中文",value:"zh-CN"},{label:"English",value:"en-US"}];function kn(){return navigator.language.includes("zh")?"zh-CN":"en-US"}const zt={short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},longlong:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}},Ur=Bn({locale:kn(),fallbackLocale:"en-US",legacy:!1,messages:{"en-US":kr,"zh-CN":Er},datetimeFormats:{"en-US":zt,"zh-CN":zt}}),Rr={"en-US":pr,"zh-CN":ra};function x(e=!0){var a;const{authToken:t}=E(),n=((a=document.querySelector("html"))==null?void 0:a.getAttribute("lang"))||kn(),o=new Headers;return o.set("Accept-Language",n),e&&o.set("Authorization",`Bearer ${t}`),o}function zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sn={exports:{}},q=Sn.exports={},ie,ce;function dt(){throw new Error("setTimeout has not been defined")}function pt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ie=setTimeout:ie=dt}catch{ie=dt}try{typeof clearTimeout=="function"?ce=clearTimeout:ce=pt}catch{ce=pt}})();function Tn(e){if(ie===setTimeout)return setTimeout(e,0);if((ie===dt||!ie)&&setTimeout)return ie=setTimeout,setTimeout(e,0);try{return ie(e,0)}catch{try{return ie.call(null,e,0)}catch{return ie.call(this,e,0)}}}function jr(e){if(ce===clearTimeout)return clearTimeout(e);if((ce===pt||!ce)&&clearTimeout)return ce=clearTimeout,clearTimeout(e);try{return ce(e)}catch{try{return ce.call(null,e)}catch{return ce.call(this,e)}}}var me=[],Pe=!1,ke,He=-1;function Or(){!Pe||!ke||(Pe=!1,ke.length?me=ke.concat(me):He=-1,me.length&&$n())}function $n(){if(!Pe){var e=Tn(Or);Pe=!0;for(var t=me.length;t;){for(ke=me,me=[];++He<t;)ke&&ke[He].run();He=-1,t=me.length}ke=null,Pe=!1,jr(e)}}q.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];me.push(new Ln(e,t)),me.length===1&&!Pe&&Tn($n)};function Ln(e,t){this.fun=e,this.array=t}Ln.prototype.run=function(){this.fun.apply(null,this.array)};q.title="browser";q.browser=!0;q.env={};q.argv=[];q.version="";q.versions={};function ge(){}q.on=ge;q.addListener=ge;q.once=ge;q.off=ge;q.removeListener=ge;q.removeAllListeners=ge;q.emit=ge;q.prependListener=ge;q.prependOnceListener=ge;q.listeners=function(e){return[]};q.binding=function(e){throw new Error("process.binding is not supported")};q.cwd=function(){return"/"};q.chdir=function(e){throw new Error("process.chdir is not supported")};q.umask=function(){return 0};var Br=Sn.exports;const Ae=zr(Br);function Je(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Ae=="object"&&Ae.version!==void 0?`Node.js/${Ae.version.substr(1)} (${Ae.platform}; ${Ae.arch})`:"<environment undetectable>"}function Nt(e,t,n,o){if(typeof n!="function")throw new Error("method for before hook must be a function");return o||(o={}),Array.isArray(t)?t.reverse().reduce((a,i)=>Nt.bind(null,e,i,a,o),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((a,i)=>i.hook.bind(null,a,o),n)():n(o))}function xr(e,t,n,o){const a=o;e.registry[n]||(e.registry[n]=[]),t==="before"&&(o=(i,r)=>Promise.resolve().then(a.bind(null,r)).then(i.bind(null,r))),t==="after"&&(o=(i,r)=>{let d;return Promise.resolve().then(i.bind(null,r)).then(u=>(d=u,a(d,r))).then(()=>d)}),t==="error"&&(o=(i,r)=>Promise.resolve().then(i.bind(null,r)).catch(d=>a(d,r))),e.registry[n].push({hook:o,orig:a})}function Dr(e,t,n){if(!e.registry[t])return;const o=e.registry[t].map(a=>a.orig).indexOf(n);o!==-1&&e.registry[t].splice(o,1)}const jt=Function.bind,Ot=jt.bind(jt);function Cn(e,t,n){const o=Ot(Dr,null).apply(null,n?[t,n]:[t]);e.api={remove:o},e.remove=o,["before","error","after","wrap"].forEach(a=>{const i=n?[t,a,n]:[t,a];e[a]=e.api[a]=Ot(xr,null).apply(null,i)})}function Vr(){const e=Symbol("Singular"),t={registry:{}},n=Nt.bind(null,t,e);return Cn(n,t,e),n}function qr(){const e={registry:{}},t=Nt.bind(null,e);return Cn(t,e),t}const Hr={Singular:Vr,Collection:qr};var Fr="0.0.0-development",Wr=`octokit-endpoint.js/${Fr} ${Je()}`,Gr={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Wr},mediaType:{format:""}};function Jr(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function Kr(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function In(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(o=>{Kr(t[o])?o in e?n[o]=In(e[o],t[o]):Object.assign(n,{[o]:t[o]}):Object.assign(n,{[o]:t[o]})}),n}function Bt(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function mt(e,t,n){var a;if(typeof t=="string"){let[i,r]=t.split(" ");n=Object.assign(r?{method:i,url:r}:{url:i},n)}else n=Object.assign({},t);n.headers=Jr(n.headers),Bt(n),Bt(n.headers);const o=In(e||{},n);return n.url==="/graphql"&&(e&&((a=e.mediaType.previews)!=null&&a.length)&&(o.mediaType.previews=e.mediaType.previews.filter(i=>!o.mediaType.previews.includes(i)).concat(o.mediaType.previews)),o.mediaType.previews=(o.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),o}function Yr(e,t){const n=/\?/.test(e)?"&":"?",o=Object.keys(t);return o.length===0?e:e+n+o.map(a=>a==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(t[a])}`).join("&")}var Zr=/\{[^}]+\}/g;function Xr(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Qr(e){const t=e.match(Zr);return t?t.map(Xr).reduce((n,o)=>n.concat(o),[]):[]}function xt(e,t){const n={__proto__:null};for(const o of Object.keys(e))t.indexOf(o)===-1&&(n[o]=e[o]);return n}function Pn(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function Ce(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Ue(e,t,n){return t=e==="+"||e==="#"?Pn(t):Ce(t),n?Ce(n)+"="+t:t}function Le(e){return e!=null}function it(e){return e===";"||e==="&"||e==="?"}function es(e,t,n,o){var a=e[n],i=[];if(Le(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),o&&o!=="*"&&(a=a.substring(0,parseInt(o,10))),i.push(Ue(t,a,it(t)?n:""));else if(o==="*")Array.isArray(a)?a.filter(Le).forEach(function(r){i.push(Ue(t,r,it(t)?n:""))}):Object.keys(a).forEach(function(r){Le(a[r])&&i.push(Ue(t,a[r],r))});else{const r=[];Array.isArray(a)?a.filter(Le).forEach(function(d){r.push(Ue(t,d))}):Object.keys(a).forEach(function(d){Le(a[d])&&(r.push(Ce(d)),r.push(Ue(t,a[d].toString())))}),it(t)?i.push(Ce(n)+"="+r.join(",")):r.length!==0&&i.push(r.join(","))}else t===";"?Le(a)&&i.push(Ce(n)):a===""&&(t==="&"||t==="?")?i.push(Ce(n)+"="):a===""&&i.push("");return i}function ts(e){return{expand:ns.bind(null,e)}}function ns(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(o,a,i){if(a){let d="";const u=[];if(n.indexOf(a.charAt(0))!==-1&&(d=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(m){var f=/([^:\*]*)(?::(\d+)|(\*))?/.exec(m);u.push(es(t,d,f[1],f[2]||f[3]))}),d&&d!=="+"){var r=",";return d==="?"?r="&":d!=="#"&&(r=d),(u.length!==0?d:"")+u.join(r)}else return u.join(",")}else return Pn(i)}),e==="/"?e:e.replace(/\/$/,"")}function Mn(e){var f;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),o=Object.assign({},e.headers),a,i=xt(e,["method","baseUrl","url","headers","request","mediaType"]);const r=Qr(n);n=ts(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const d=Object.keys(e).filter(p=>r.includes(p)).concat("baseUrl"),u=xt(i,d);if(!/application\/octet-stream/i.test(o.accept)&&(e.mediaType.format&&(o.accept=o.accept.split(/,/).map(p=>p.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(f=e.mediaType.previews)!=null&&f.length)){const p=o.accept.match(/[\w-]+(?=-preview)/g)||[];o.accept=p.concat(e.mediaType.previews).map(b=>{const T=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${b}-preview${T}`}).join(",")}return["GET","HEAD"].includes(t)?n=Yr(n,u):"data"in u?a=u.data:Object.keys(u).length&&(a=u),!o["content-type"]&&typeof a<"u"&&(o["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof a>"u"&&(a=""),Object.assign({method:t,url:n,headers:o},typeof a<"u"?{body:a}:null,e.request?{request:e.request}:null)}function as(e,t,n){return Mn(mt(e,t,n))}function Nn(e,t){const n=mt(e,t),o=as.bind(null,n);return Object.assign(o,{DEFAULTS:n,defaults:Nn.bind(null,n),merge:mt.bind(null,n),parse:Mn})}var os=Nn(null,Gr);class Re extends Error{constructor(n,o,a){super(n);F(this,"name");F(this,"status");F(this,"request");F(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=o,"response"in a&&(this.response=a.response);const i=Object.assign({},a.request);a.request.headers.authorization&&(i.headers=Object.assign({},a.request.headers,{authorization:a.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var rs="0.0.0-development";function ss(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function ls(e){return e.arrayBuffer()}function Dt(e){var d,u,m,f;const t=e.request&&e.request.log?e.request.log:console,n=((d=e.request)==null?void 0:d.parseSuccessResponseBody)!==!1;(ss(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let o={},a,i,{fetch:r}=globalThis;if((u=e.request)!=null&&u.fetch&&(r=e.request.fetch),!r)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return r(e.url,{method:e.method,body:e.body,redirect:(m=e.request)==null?void 0:m.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([p,b])=>[p,String(b)])),signal:(f=e.request)==null?void 0:f.signal,...e.body&&{duplex:"half"}}).then(async p=>{i=p.url,a=p.status;for(const b of p.headers)o[b[0]]=b[1];if("deprecation"in o){const b=o.link&&o.link.match(/<([^>]+)>; rel="deprecation"/),T=b&&b.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${o.sunset}${T?`. See ${T}`:""}`)}if(!(a===204||a===205)){if(e.method==="HEAD"){if(a<400)return;throw new Re(p.statusText,a,{response:{url:i,status:a,headers:o,data:void 0},request:e})}if(a===304)throw new Re("Not modified",a,{response:{url:i,status:a,headers:o,data:await ct(p)},request:e});if(a>=400){const b=await ct(p);throw new Re(is(b),a,{response:{url:i,status:a,headers:o,data:b},request:e})}return n?await ct(p):p.body}}).then(p=>({status:a,url:i,headers:o,data:p})).catch(p=>{if(p instanceof Re)throw p;if(p.name==="AbortError")throw p;let b=p.message;throw p.name==="TypeError"&&"cause"in p&&(p.cause instanceof Error?b=p.cause.message:typeof p.cause=="string"&&(b=p.cause)),new Re(b,500,{request:e})})}async function ct(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():ls(e)}function is(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function gt(e,t){const n=e.defaults(t);return Object.assign(function(a,i){const r=n.merge(a,i);if(!r.request||!r.request.hook)return Dt(n.parse(r));const d=(u,m)=>Dt(n.parse(n.merge(u,m)));return Object.assign(d,{endpoint:n,defaults:gt.bind(null,n)}),r.request.hook(d,r)},{endpoint:n,defaults:gt.bind(null,n)})}var ft=gt(os,{headers:{"user-agent":`octokit-request.js/${rs} ${Je()}`}}),cs="0.0.0-development";function us(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var ds=class extends Error{constructor(t,n,o){super(us(o));F(this,"name","GraphqlResponseError");F(this,"errors");F(this,"data");this.request=t,this.headers=n,this.response=o,this.errors=o.errors,this.data=o.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ps=["method","baseUrl","url","headers","request","query","mediaType"],ms=["query","method","url"],Vt=/\/api\/v3\/?$/;function gs(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const r in n)if(ms.includes(r))return Promise.reject(new Error(`[@octokit/graphql] "${r}" cannot be used as variable name`))}const o=typeof t=="string"?Object.assign({query:t},n):t,a=Object.keys(o).reduce((r,d)=>ps.includes(d)?(r[d]=o[d],r):(r.variables||(r.variables={}),r.variables[d]=o[d],r),{}),i=o.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Vt.test(i)&&(a.url=i.replace(Vt,"/api/graphql")),e(a).then(r=>{if(r.data.errors){const d={};for(const u of Object.keys(r.headers))d[u]=r.headers[u];throw new ds(a,d,r.data)}return r.data.data})}function Et(e,t){const n=e.defaults(t);return Object.assign((a,i)=>gs(n,a,i),{defaults:Et.bind(null,n),endpoint:n.endpoint})}Et(ft,{headers:{"user-agent":`octokit-graphql.js/${cs} ${Je()}`},method:"POST",url:"/graphql"});function fs(e){return Et(e,{method:"POST",url:"/graphql"})}var hs=/^v1\./,bs=/^ghs_/,_s=/^ghu_/;async function vs(e){const t=e.split(/\./).length===3,n=hs.test(e)||bs.test(e),o=_s.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":o?"user-to-server":"oauth"}}function ys(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function ws(e,t,n,o){const a=t.endpoint.merge(n,o);return a.headers.authorization=ys(e),t(a)}var ks=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(vs.bind(null,t),{hook:ws.bind(null,t)})};const En="6.1.2",qt=()=>{},Ss=console.warn.bind(console),Ts=console.error.bind(console),Ht=`octokit-core.js/${En} ${Je()}`;class ht{constructor(t={}){F(this,"request");F(this,"graphql");F(this,"log");F(this,"hook");F(this,"auth");const n=new Hr.Collection,o={baseUrl:ft.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(o.headers["user-agent"]=t.userAgent?`${t.userAgent} ${Ht}`:Ht,t.baseUrl&&(o.baseUrl=t.baseUrl),t.previews&&(o.mediaType.previews=t.previews),t.timeZone&&(o.headers["time-zone"]=t.timeZone),this.request=ft.defaults(o),this.graphql=fs(this.request).defaults(o),this.log=Object.assign({debug:qt,info:qt,warn:Ss,error:Ts},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...r}=t,d=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:r},t.auth));n.wrap("request",d.hook),this.auth=d}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=ks(t.auth);n.wrap("request",i.hook),this.auth=i}const a=this.constructor;for(let i=0;i<a.plugins.length;++i)Object.assign(this,a.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...o){const a=o[0]||{};if(typeof t=="function"){super(t(a));return}super(Object.assign({},t,a,a.userAgent&&t.userAgent?{userAgent:`${a.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var a;const n=this.plugins;return a=class extends this{},F(a,"plugins",n.concat(t.filter(i=>!n.includes(i)))),a}}F(ht,"VERSION",En),F(ht,"plugins",[]);const ze=class ze extends Error{constructor(n,o=!0){super(n);F(this,"name",ze.name);this.isApiWrong=o}static is(n){return(n==null?void 0:n.name)===ze.name}};F(ze,"name","GetManifestError");let Me=ze;function $s(e=E().accessToken){return new ht({auth:e}).request("GET /repos/{owner}/{repo}/releases/latest",{owner:"PBH-BTN",repo:"PeerBanHelper",headers:{"X-GitHub-Api-Version":"2022-11-28"}}).then(n=>n.data)}function Ls(e=E().endpoint){const t=new URL(B(e,"/api/metadata/manifest"),location.href);return fetch(t,{headers:x(!1)}).catch(()=>{throw new Me("service.manifest.networkError",!1)}).then(n=>n.json().catch(()=>{throw new Me("service.manifest.parseError")})).then(n=>{if(!Array.isArray(n.modules)||typeof n.version!="object")throw new Me("service.manifest.formatError");return n})}const je=class je extends Error{constructor(){super(...arguments);F(this,"name",je.name)}static is(n){return(n==null?void 0:n.name)===je.name}};F(je,"name","IncorrectTokenError");let be=je;async function Cs(e){const t=E(),n=new URL(B(t.endpoint,"/api/auth/login"),location.href);return fetch(n,{headers:x(!1),method:"POST",body:JSON.stringify({token:e})}).then(async o=>{const a=await o.json();if(o.status===401)throw new be(a.message);if(o.status!==200)throw new Error(a.message)})}const Is=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Ft=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(Is);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},Wt=e=>e==="*"||e==="x"||e==="X",Gt=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},Ps=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],Ms=(e,t)=>{if(Wt(e)||Wt(t))return 0;const[n,o]=Ps(Gt(e),Gt(t));return n>o?1:n<o?-1:0},Jt=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const o=Ms(e[n]||"0",t[n]||"0");if(o!==0)return o}return 0},Ns=(e,t)=>{const n=Ft(e),o=Ft(t),a=n.pop(),i=o.pop(),r=Jt(n,o);return r!==0?r:a&&i?Jt(a.split("."),i.split(".")):a||i?a?-1:1:0},An=(e,t,n)=>{Es(n);const o=Ns(e,t);return Un[n].includes(o)},Un={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},Kt=Object.keys(Un),Es=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(Kt.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${Kt.join("|")}`)};function Yt(){let e;const t=new Promise(n=>e=n);return Object.assign(t,{resolve:e})}function As(e,t){return e?e.modules.some(n=>n.className===t):null}const E=We("endpoint",()=>{const e=Ie("endpoint",""),t=Ie("accessToken",""),n=Ie("authToken","",void 0,{writeDefaults:!1}),o=M(n.value),a=M(),i=M(Yt()),r=()=>{const y=Yt();return i.value.resolve(y),i.value=y,y},d=M(),u=M("checking"),m=M(null),f=M(null),p=async(y,S=!1)=>{if(d.value&&An(d.value.version.version,"4.0.0","<"))return;y&&(o.value=y),y&&S&&(n.value=y);const P=u.value==="checking";P||r();try{if(y)await Cs(y);else throw new be;P||(i.value.resolve(),m.value=null,u.value="pass")}catch(w){throw P||(m.value=w,be.is(w)&&(u.value="needLogin")),w}},b=async y=>{u.value="checking",e.value=y,r();try{d.value=await Ls(y);try{await p(o.value)}catch(S){throw be.is(S)&&(u.value="needLogin"),S}return i.value.resolve(),m.value=null,u.value="pass",!0}catch(S){return m.value=S,u.value==="checking"&&(u.value="fail"),!1}},T=async y=>{t.value=y;try{const S=await $s();a.value={tagName:S.tag_name,url:S.html_url}}catch(S){f.value=S,console.error("Failed to get version:",S)}};return b(e.value),setTimeout(async()=>T(t.value),3e3),{endpoint:pe(e),serverAvailable:pe(i),serverManifest:pe(d),loading:L(()=>u.value==="checking"),status:pe(u),error:pe(m),checkUpgradeError:pe(f),accessToken:pe(t),latestVersion:pe(a),setEndpoint:b,setAccessToken:T,authToken:pe(o),setAuthToken:p,assertResponseLogin:y=>{if(y.status===403)throw p(null),new be}}});async function Us(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,`api/downloaders/${e}/status`),location.href);return fetch(n,{headers:x()}).then(o=>(t.assertResponseLogin(o),o.json()))}async function Rs(){const e=E();await e.serverAvailable;const t=new URL(B(e.endpoint,"/api/statistic/counter"),location.href);return fetch(t,{headers:x()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function zs(){const e=E();await e.serverAvailable;const t=new URL(B(e.endpoint,"/api/downloaders"),location.href);return fetch(t,{headers:x()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function js(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,`/api/downloaders/${e}/torrents`),location.href);return fetch(n,{headers:x()}).then(o=>(t.assertResponseLogin(o),o.json()))}async function Os(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,"/api/downloaders"),location.href);return fetch(n,{method:"PUT",headers:x(),body:JSON.stringify(e)}).then(async o=>(t.assertResponseLogin(o),o.json()))}async function Bs(e,t){const n=E();await n.serverAvailable;const o=new URL(B(n.endpoint,`/api/downloaders/${e}`),location.href);return fetch(o,{method:"PATCH",headers:x(),body:JSON.stringify(t)}).then(async a=>(n.assertResponseLogin(a),a.json()))}async function xs(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,"/api/downloaders/test"),location.href);return fetch(n,{method:"POST",headers:x(),body:JSON.stringify(e)}).then(o=>(t.assertResponseLogin(o),o.json()))}async function Ds(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,`/api/downloaders/${e}`),location.href);return fetch(n,{method:"DELETE",headers:x()}).then(o=>(t.assertResponseLogin(o),o.json()))}function Ne(e,t=2){if(e===0)return"0 Bytes";const n=1024,o=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB"],i=Math.floor(Math.log(e)/Math.log(n));return i>=a.length?"Too large":parseFloat((e/Math.pow(n,i)).toFixed(o))+" "+a[i]}const Vs=N({__name:"torrentListModal",setup(e,{expose:t}){const{t:n}=W(),o=M(!1),a=M("");t({showModal:f=>{a.value=f,o.value=!0,u(f)}});const i=()=>{o.value=!1,a.value=""},{data:r,loading:d,run:u}=ye(js,{manual:!0}),m=[{title:()=>n("page.dashboard.torrentList.column.name"),slotName:"name"},{title:()=>n("page.dashboard.torrentList.column.size"),slotName:"size"},{title:()=>n("page.dashboard.torrentList.column.hash"),slotName:"hash"},{title:()=>n("page.dashboard.torrentList.column.progress"),slotName:"progress"}];return(f,p)=>{const b=Q,T=on,y=G,S=Oe,P=vt;return _(),I(P,{"hide-cancel":"",closable:"",visible:o.value,"onUpdate:visible":p[0]||(p[0]=w=>o.value=w),onOk:i,draggable:"",width:"auto"},{title:s(()=>[g(h(c(n)("page.dashboard.torrentList.title")),1)]),default:s(()=>[l(S,{columns:m,data:c(r),loading:c(d),pagination:{pageSize:5,baseSize:4,bufferSize:1}},{name:s(({record:w})=>[l(b,{bold:"",style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:s(()=>[g(h(w.name),1)]),_:2},1024)]),size:s(({record:w})=>[l(b,null,{default:s(()=>[g(h(c(Ne)(w.size)),1)]),_:2},1024)]),hash:s(({record:w})=>[l(b,{copyable:"",code:""},{default:s(()=>[g(h(w.hash),1)]),_:2},1024)]),progress:s(({record:w})=>[l(y,null,{default:s(()=>[l(T,{percent:w.progress,size:"mini"},null,8,["percent"]),l(b,null,{default:s(()=>[g(h((w.progress*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["data","loading"])]),_:1},8,["visible"])}}});var se=(e=>(e.HEALTHY="HEALTHY",e.ERROR="ERROR",e.UNKNOWN="UNKNOWN",e))(se||{}),le=(e=>(e.qBittorrent="qbittorrent",e.Transmission="transmission",e.BiglyBT="biglybt",e.Deluge="deluge",e.Unknown="Unknown",e))(le||{});const fe=We("autoUpdate",()=>{const e=M(new Date),t=Ie("autoUpdate.enable",!0),n=Ie("autoUpdate.interval",3e3),o=L(()=>t.value?n.value:-1);function a(){e.value=new Date}return{lastUpdate:e,autoUpdate:t,interval:n,pollingInterval:o,renewLastUpdate:a}}),qs=N({__name:"clientStatusCard",props:{downloader:{}},emits:["torrent-view-click","downloader-deleted","edit-click"],setup(e,{emit:t}){const{t:n}=W(),o={[se.HEALTHY]:["success","page.dashboard.clientStatus.card.status.normal"],[se.ERROR]:["warning","page.dashboard.clientStatus.card.status.error"],[se.UNKNOWN]:["danger","page.dashboard.clientStatus.card.status.unknown"]},a=e,i=t,r=L(()=>a.downloader),d=fe(),u=E(),m=b=>o[(b==null?void 0:b.lastStatus)??se.UNKNOWN]??o[se.UNKNOWN],{data:f}=ye(Us,{pollingInterval:L(()=>d.pollingInterval),onSuccess:d.renewLastUpdate,cacheKey:()=>`${u.endpoint}-clientStatus-${r.value.name}`,defaultParams:[r.value.name],refreshDeps:[()=>r.value.name],refreshDepsAction:()=>{d.renewLastUpdate()}}),p=async()=>{try{const b=await Ds(r.value.name);if(b.code!==200)throw new Error(b.message);return K.success(b.message),i("downloader-deleted"),!0}catch(b){return K.error(b.message),!1}};return(b,T)=>{const y=rn,S=Se,P=sn,w=ln,$=G,v=Te,k=cn,C=un,A=Ge,j=Mt,D=Be,H=yt,V=sa,oe=la,Y=ia,U=Q,de=ca,$e=wt,re=kt;return _(),I(re,{hoverable:"",style:{height:"100%"},"header-style":{height:"auto"},class:"card"},{extra:s(()=>[c(f)?(_(),I($,{key:0,size:"mini"},{default:s(()=>[l(S,{class:"edit-btn",shape:"circle",type:"text",onClick:T[0]||(T[0]=()=>{var De;return i("edit-click",{name:r.value.name,config:(De=c(f))==null?void 0:De.config})})},{icon:s(()=>[l(y)]),_:1}),l(w,{content:c(n)("page.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:p},{default:s(()=>[l(S,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:s(()=>[l(P)]),_:1})]),_:1},8,["content"])]),_:1})):J("",!0)]),title:s(()=>[l(v,{style:{margin:"0px"},ellipsis:{rows:2,showTooltip:!0},heading:3},{default:s(()=>[g(h(r.value.name),1)]),_:1})]),default:s(()=>[c(f)?J("",!0):(_(),I(C,{key:0,animation:!0},{default:s(()=>[l($,{direction:"vertical",style:{width:"100%"},size:0},{default:s(()=>[l(k,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})),c(f)?(_(),I($e,{key:1,column:1,layout:"inline-horizontal",class:"space","label-style":{paddingRight:"10px"}},{default:s(()=>[l(H,{label:c(n)("page.dashboard.clientStatus.card.type")},{default:s(()=>[l($,null,{default:s(()=>[l(A,{bordered:""},{default:s(()=>[g(h(r.value.type),1)]),_:1}),l(D,{content:r.value.endpoint},{default:s(()=>[l(j,{size:"large"})]),_:1},8,["content"])]),_:1})]),_:1},8,["label"]),l(H,{label:c(n)("page.dashboard.clientStatus.card.status")},{default:s(()=>[l(D,{content:c(n)(m(c(f))[1]+".info")},{default:s(()=>[l(U,{type:m(c(f))[0]},{default:s(()=>[c(f).lastStatus==c(se).HEALTHY?(_(),I(V,{key:0})):J("",!0),c(f).lastStatus==c(se).ERROR?(_(),I(oe,{key:1})):J("",!0),c(f).lastStatus==c(se).UNKNOWN?(_(),I(Y,{key:2})):J("",!0),g(" "+h(c(n)(m(c(f))[1])),1)]),_:1},8,["type"])]),_:1},8,["content"])]),_:1},8,["label"]),c(f).lastStatus==c(se).HEALTHY?(_(),I(H,{key:0,label:c(n)("page.dashboard.clientStatus.card.status.torrentNumber")},{default:s(()=>[l($,null,{default:s(()=>[l(U,null,{default:s(()=>[g(h(c(f).activeTorrents),1)]),_:1}),c(f).activeTorrents>0?(_(),I(D,{key:0,content:c(n)("page.dashboard.torrentList.tips")},{default:s(()=>[l(S,{onClick:T[1]||(T[1]=()=>i("torrent-view-click",r.value.name)),shape:"circle",type:"text",size:"mini"},{icon:s(()=>[l(de,{size:"large",style:{color:"var(--color-text-1)"}})]),_:1})]),_:1},8,["content"])):J("",!0)]),_:1})]),_:1},8,["label"])):J("",!0),c(f).lastStatus==c(se).HEALTHY?(_(),I(H,{key:1,label:c(n)("page.dashboard.clientStatus.card.status.peerNumber")},{default:s(()=>[l(U,null,{default:s(()=>[g(h(c(f).activePeers),1)]),_:1})]),_:1},8,["label"])):J("",!0)]),_:1})):J("",!0)]),_:1})}}}),ee=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},Hs=ee(qs,[["__scopeId","data-v-f46660ec"]]),Fs="modulepreload",Ws=function(e,t){return new URL(e,t).href},Zt={},_e=function(t,n,o){let a=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),d=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));a=Promise.all(n.map(u=>{if(u=Ws(u,o),u in Zt)return;Zt[u]=!0;const m=u.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(!!o)for(let T=i.length-1;T>=0;T--){const y=i[T];if(y.href===u&&(!m||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":Fs,m||(b.as="script",b.crossOrigin=""),b.href=u,d&&b.setAttribute("nonce",d),document.head.appendChild(b),m)return new Promise((T,y)=>{b.addEventListener("load",T),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}return a.then(()=>t()).catch(i=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i})},Gs={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},Js=N({__name:"editDownloaderModal",emits:["changed"],setup(e,{expose:t,emit:n}){const o=he(()=>_e(()=>import("./qbittorrent-BHtqhZpH.js"),__vite__mapDeps([0,1,2]),import.meta.url)),a=he(()=>_e(()=>import("./transmission-B9g-Ef1B.js"),__vite__mapDeps([3,1,2]),import.meta.url)),i=he(()=>_e(()=>import("./biglybt-Baaa7ICU.js"),__vite__mapDeps([4,1,2]),import.meta.url)),r=he(()=>_e(()=>import("./deluge-BmdhVeVF.js"),__vite__mapDeps([5,1,2]),import.meta.url)),{t:d}=W(),u=M(!1),m=M(!1),f={[le.qBittorrent]:o,[le.Transmission]:a,[le.BiglyBT]:i,[le.Deluge]:r},p=xn({name:"",config:{basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1"}}),b=M("");t({showModal:(w,$)=>{m.value=w,!w&&$?(p.name=$.name,b.value=$.name,p.config=$.config):(p.name="",p.config={basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1"}),u.value=!0}});const T=n,y=M(),S=async()=>{var $;if(await(($=y.value)==null?void 0:$.validate()))return!1;try{const v=await xs(p);if(!v.valid)throw new Error(v.message);const k=m.value?await Os(p):await Bs(b.value,p);if(k.code===201||k.code===200)return K.success(k.message),T("changed"),!0;throw new Error(k.message)}catch(v){return K.error(v.message),!1}},P=()=>{var w;(w=y.value)==null||w.resetFields(),p.config={basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1"}};return(w,$)=>{const v=dn,k=pn,C=en("i18n-t"),A=St,j=mn,D=Tt,H=vt;return _(),I(H,{visible:u.value,"onUpdate:visible":$[3]||($[3]=V=>u.value=V),"mask-closable":!1,title:m.value?c(d)("page.dashboard.editModal.title.new"):c(d)("page.dashboard.editModal.title.edit"),unmountOnClose:"",onCancel:$[4]||($[4]=()=>P()),onBeforeOk:S},{default:s(()=>[l(D,{ref_key:"formRef",ref:y,model:p,"auto-label-width":""},{default:s(()=>[l(A,{field:"config.type",label:c(d)("page.dashboard.editModal.label.type"),required:""},Dn({default:s(()=>[l(k,{modelValue:p.config.type,"onUpdate:modelValue":$[0]||($[0]=V=>p.config.type=V)},{default:s(()=>[l(v,{value:c(le).qBittorrent},{default:s(()=>[g("qBittorrent")]),_:1},8,["value"]),l(v,{value:c(le).Transmission},{default:s(()=>[g("Transmission")]),_:1},8,["value"]),l(v,{value:c(le).BiglyBT},{default:s(()=>[g("BiglyBT")]),_:1},8,["value"]),l(v,{value:c(le).Deluge},{default:s(()=>[g("Deluge")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:2},[p.config.type===c(le).BiglyBT?{name:"extra",fn:s(()=>[l(C,{keypath:"page.dashboard.editModal.biglybt"},{url:s(()=>[R("a",Gs,h(c(d)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),l(A,{field:"name",label:c(d)("page.dashboard.editModal.label.name"),required:""},{default:s(()=>[l(j,{modelValue:p.name,"onUpdate:modelValue":$[1]||($[1]=V=>p.name=V),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(_(),I(tn(f[p.config.type]),{modelValue:p.config,"onUpdate:modelValue":$[2]||($[2]=V=>p.config=V)},null,8,["modelValue"]))]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),Ks=ee(Js,[["__scopeId","data-v-e25009ae"]]),Ys=N({__name:"clientStatus",setup(e){const{t}=W(),n=E(),o=fe(),{data:a,refresh:i,loading:r}=ye(zs,{pollingInterval:L(()=>o.pollingInterval),cacheKey:()=>`${n.endpoint}-downloader`});ue(()=>n.endpoint,i);const d=M(),u=M();return(m,f)=>{const p=ua,b=Se,T=Te,y=cn,S=G,P=un,w=kt,$=$t,v=Lt;return _(),z(ve,null,[l(T,{heading:3},{default:s(()=>[g(h(c(t)("page.dashboard.clientStatus.title"))+" ",1),l(b,{class:"add-btn",type:"outline",shape:"circle",onClick:f[0]||(f[0]=()=>{var k;return(k=u.value)==null?void 0:k.showModal(!0)})},{icon:s(()=>[l(p)]),_:1})]),_:1}),l(v,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:s(()=>{var k;return[!c(a)||((k=c(a))==null?void 0:k.length)===0||c(r)?(_(),I($,{key:0,xs:24,sm:12,md:8,lg:6},{default:s(()=>[l(w,{hoverable:"","header-style":{height:"auto"}},{title:s(()=>[l(P,{animation:!0},{default:s(()=>[l(S,{direction:"vertical",style:{width:"100%"},size:0},{default:s(()=>[l(y,{"line-height":44,"line-spacing":0})]),_:1})]),_:1})]),default:s(()=>[l(P,{animation:!0},{default:s(()=>[l(S,{direction:"vertical",style:{width:"100%"},size:0},{default:s(()=>[l(y,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})]),_:1})]),_:1})):(_(!0),z(ve,{key:1},bt(c(a),C=>(_(),I($,{xs:24,sm:12,md:8,lg:6,key:C.name},{default:s(()=>[l(Hs,{downloader:C,onTorrentViewClick:()=>{var A;return(A=d.value)==null?void 0:A.showModal(C.name)},onDownloaderDeleted:c(i),onEditClick:f[1]||(f[1]=A=>{var j;return(j=u.value)==null?void 0:j.showModal(!1,A)})},null,8,["downloader","onTorrentViewClick","onDownloaderDeleted"])]),_:2},1024))),128))]}),_:1}),l(Vs,{ref_key:"torrentList",ref:d},null,512),l(Ks,{ref_key:"editDownloaderModal",ref:u,onChanged:c(i)},null,8,["onChanged"])],64)}}}),Zs=ee(Ys,[["__scopeId","data-v-34609d63"]]),Xs=N({__name:"statisticInfo",setup(e){const{t}=W(),n=fe(),o=E(),a=M({checkCounter:0,peerBanCounter:0,peerUnbanCounter:0,banlistCounter:0}),i=M(a.value),{refresh:r}=ye(Rs,{pollingInterval:L(()=>n.pollingInterval),onSuccess:d=>{const u=i.value;i.value=d,Vn.isEqual(d,u)||(a.value=u),n.renewLastUpdate()},cacheKey:()=>`${o.endpoint}-statistic`});return ue(()=>o.endpoint,r),(d,u)=>{const m=Q,f=da,p=pa,b=ma,T=kt,y=G;return _(),I(y,{direction:"vertical",fill:""},{default:s(()=>[l(T,{title:c(t)("page.dashboard.statics.currentStatus"),hoverable:""},{default:s(()=>[l(b,{cols:24,"row-gap":16,class:"panel"},{default:s(()=>[l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var S;return[l(f,{title:c(t)("page.dashboard.statics.checked"),value:(S=i.value)==null?void 0:S.checkCounter,"value-from":a.value.checkCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(m,null,{default:s(()=>[g(" "+h(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var S;return[l(f,{title:c(t)("page.dashboard.statics.banPeer"),value:(S=i.value)==null?void 0:S.peerBanCounter,"value-from":a.value.peerBanCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(m,null,{default:s(()=>[g(" "+h(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var S;return[l(f,{title:c(t)("page.dashboard.statics.unbanPeer"),value:(S=i.value)==null?void 0:S.peerUnbanCounter,"value-from":a.value.peerUnbanCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(m,null,{default:s(()=>[g(" "+h(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(p,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var S;return[l(f,{title:c(t)("page.dashboard.statics.currentBan"),value:(S=i.value)==null?void 0:S.banlistCounter,"value-from":a.value.banlistCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(m,null,{default:s(()=>[g(" "+h(c(t)("page.dashboard.statics.number")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1})]),_:1})]),_:1},8,["title"])]),_:1})}}}),Qs=R("br",null,null,-1),el=N({__name:"index",setup(e){return(t,n)=>{const o=Q,a=G;return _(),I(a,{direction:"vertical",fill:""},{default:s(()=>[l(o,{style:{"font-size":"1.2em"}},{default:s(()=>[g(h(t.$t("page.dashboard.description")),1)]),_:1}),l(Zs),Qs,l(Xs)]),_:1})}}});async function ut(e,t){const n=E();await n.serverAvailable;const o=new URL(B(n.endpoint,"api/bans"),location.href);return o.searchParams.set("limit",String(e)),t&&o.searchParams.set("lastBanTime",String(t)),fetch(o,{headers:x()}).then(a=>(n.assertResponseLogin(a),a.json()))}function tl(e){let t=0,n,o;if(e.length===0)return t;for(n=0;n<e.length;n++)o=e.charCodeAt(n),t=(t<<5)-t+o,t|=0;return t}const At=e=>{const t=Math.abs(tl(e))%Xt.length;return Xt[t]},Xt=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta"],nl=["title"],al=N({__name:"countryFlag",props:{iso:{},title:{},mode:{}},setup(e){const{locale:t}=W(),n=e,o=L(()=>{let a="",i=n.iso.toLowerCase();return t.value==="zh-CN"&&i==="tw"&&(i="cn"),a="flag-icon-"+i,n.mode&&(a+=" flag-icon-"+n.mode),a});return(a,i)=>n.iso!==""?(_(),z("span",{key:0,class:X([o.value,"flag-icon"]),title:n.title||n.iso},null,10,nl)):J("",!0)}}),ol=N({__name:"banListItem",props:{item:{}},setup(e){const{t,d:n}=W(),o=Ct(M({md:1}),0);return(a,i)=>{const r=Q,d=Be,u=G,m=yt,f=yn,p=vn,b=ar,T=It,y=Ge,S=Mt,P=wt;return _(),I(P,{column:{xs:3,md:6,xl:12},size:"medium",layout:["inline-vertical","horizontal"][c(o)]},{title:s(()=>[l(u,{wrap:""},{default:s(()=>[l(r,{bold:"",copyable:""},{default:s(()=>[g(h(a.item.banMetadata.peer.address.ip)+":"+h(a.item.banMetadata.peer.address.port),1)]),_:1}),l(d,{content:a.item.banMetadata.peer.id?a.item.banMetadata.peer.id:c(t)("page.banlist.banlist.listItem.empty")},{default:s(()=>[l(r,{code:""},{default:s(()=>[g(h(a.item.banMetadata.peer.clientName?a.item.banMetadata.peer.clientName:c(t)("page.banlist.banlist.listItem.empty")),1)]),_:1})]),_:1},8,["content"])]),_:1})]),default:s(()=>[l(m,{label:c(t)("page.banlist.banlist.listItem.banTime"),span:4},{default:s(()=>[g(h(c(n)(a.item.banMetadata.banAt,"long")),1)]),_:1},8,["label"]),l(m,{label:c(t)("page.banlist.banlist.listItem.expireTime"),span:4},{default:s(()=>[g(h(c(n)(a.item.banMetadata.unbanAt,"long")),1)]),_:1},8,["label"]),l(m,{label:c(t)("page.banlist.banlist.listItem.snapshot"),span:4},{default:s(()=>[l(f,{class:"green"}),g(" "+h(c(Ne)(a.item.banMetadata.peer.uploaded))+" ",1),l(p,{class:"red"}),g(" "+h(c(Ne)(a.item.banMetadata.peer.downloaded))+" - "+h((a.item.banMetadata.peer.progress*100).toFixed(2))+"% ",1)]),_:1},8,["label"]),l(m,{label:c(t)("page.banlist.banlist.listItem.location"),span:12},{default:s(()=>[l(d,{content:a.item.banMetadata.torrent.hash},{default:s(()=>[l(r,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:s(()=>[g(h(a.item.banMetadata.torrent.name),1)]),_:1})]),_:1},8,["content"])]),_:1},8,["label"]),l(m,{label:c(t)("page.banlist.banlist.listItem.reason"),span:12},{default:s(()=>[l(r,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:s(()=>[g(h(a.item.banMetadata.description),1)]),_:1})]),_:1},8,["label"]),a.item.banMetadata.geo?(_(),I(m,{key:0,label:c(t)("page.banlist.banlist.listItem.geo"),span:4},{default:s(()=>{var w,$,v,k,C;return[l(al,{iso:(w=a.item.banMetadata.geo)==null?void 0:w.iso},null,8,["iso"]),g(" "+h(`${($=a.item.banMetadata.geo)==null?void 0:$.countryRegion} ${((v=a.item.banMetadata.geo)==null?void 0:v.city)??""}`)+" ",1),l(T,{href:`https://uri.amap.com/marker?position=${(k=a.item.banMetadata.geo)==null?void 0:k.longitude},${(C=a.item.banMetadata.geo)==null?void 0:C.latitude}`,hoverable:!1},{default:s(()=>[l(b)]),_:1},8,["href"])]}),_:1},8,["label"])):J("",!0),a.item.banMetadata.asn?(_(),I(m,{key:1,label:c(t)("page.banlist.banlist.listItem.asn"),span:4},{default:s(()=>[l(u,null,{default:s(()=>{var w,$;return[l(r,null,{default:s(()=>{var v;return[g(h((v=a.item.banMetadata.asn)==null?void 0:v.asOrganization),1)]}),_:1}),l(y,{color:c(At)((w=a.item.banMetadata.asn)==null?void 0:w.asn.toString())},{default:s(()=>{var v;return[g(h((v=a.item.banMetadata.asn)==null?void 0:v.asn),1)]}),_:1},8,["color"]),l(d,{content:c(t)("page.banlist.banlist.listItem.asn.subnet")+(($=a.item.banMetadata.asn)==null?void 0:$.asNetwork)},{default:s(()=>{var v;return[l(T,{href:`https://2ip.io/analytics/asn-list/?asnId=${(v=a.item.banMetadata.asn)==null?void 0:v.asn}`,hoverable:!1},{default:s(()=>[l(S)]),_:1},8,["href"])]}),_:1},8,["content"])]}),_:1})]),_:1},8,["label"])):J("",!0),a.item.banMetadata.reverseLookup!=="N/A"?(_(),I(m,{key:2,label:c(t)("page.banlist.banlist.listItem.reserveDNSLookup"),span:4},{default:s(()=>[g(h(a.item.banMetadata.reverseLookup),1)]),_:1},8,["label"])):J("",!0)]),_:1},8,["layout"])}}}),rl=ee(ol,[["__scopeId","data-v-c1ad48e4"]]),sl=e=>(Hn("data-v-bcc8aabb"),e=e(),Fn(),e),ll=sl(()=>R("br",null,null,-1)),il={key:1,style:{position:"absolute",transform:"translateY(-50%)"}},we=5,cl=N({__name:"banList",setup(e){const{height:t}=qn(),n=M(),o=fe(),a=E(),i=M(!1),r=M(5),d=M(!1),{t:u}=W();let m=!0;async function f(){var v;if(m||!p.value)return m=!1,ut(we);if(p.value.length>r.value-we){const k=[];let C=!1;for(;k.length<r.value&&!C;){const A=await ut(we,(v=k[k.length-1])==null?void 0:v.banMetadata.banAt);for(const j of A)if(j.banMetadata.randomId!==p.value[0].banMetadata.randomId)k.push(j);else{C=!0;break}}return C?(r.value=p.value.length+k.length,k.concat(p.value)):k}return p.value}const{data:p,refresh:b,run:T}=ye(f,{pollingInterval:L(()=>o.pollingInterval),onSuccess:o.renewLastUpdate,manual:!0}),y=v=>{var k,C;if(v){const A=(k=p.value)==null?void 0:k.map(j=>j.address).findIndex(j=>j.includes(v));A!==-1&&((C=n.value)==null||C.scrollIntoView({index:A,align:"auto"}))}},S=async()=>{var v;if(p.value){if(r.value=p.value.length+we,d.value=!0,i.value=!1,p.value.length<=r.value){const k=[];for(;k.length+p.value.length<r.value&&!i.value;){const C=await ut(we,(v=k[k.length-1]||p.value[p.value.length-1])==null?void 0:v.banMetadata.banAt);C.length<we&&(i.value=!0),k.push(...C)}p.value=p.value.concat(k)}setTimeout(()=>{d.value=!1},i.value?1e3:0)}};ue(()=>a.endpoint,()=>{r.value=we,p.value=void 0,b()}),nn(T);const P=L(()=>p.value??[]),w=Ct(M({xs:1500,md:1e3,xl:800}),800),$=L(()=>Math.min(w.value,t.value-200));return(v,k)=>{const C=Te,A=Q,j=gn,D=G,H=ga,V=fn,oe=fa,Y=ha;return _(),I(D,{direction:"vertical",fill:""},{default:s(()=>[l(C,{heading:3},{default:s(()=>[g(h(c(u)("page.banlist.banlist")),1)]),_:1}),ll,l(D,{class:"list-header",wrap:""},{default:s(()=>[l(A,null,{default:s(()=>[g(h(c(u)("page.banlist.banlist.description")),1)]),_:1}),l(j,{style:{width:"250px"},placeholder:c(u)("page.banlist.banlist.searchPlaceHolder"),onSearch:y,"allow-clear":"","search-button":""},null,8,["placeholder"])]),_:1}),l(Y,{virtualListProps:{height:$.value},ref_key:"banlist",ref:n,onReachBottom:S,scrollbar:!1,data:P.value},{item:s(({item:U,index:de})=>[l(H,{style:Z({marginBottom:de===P.value.length-1&&d.value?"50px":void 0})},{default:s(()=>[l(rl,{item:U},null,8,["item"])]),_:2},1032,["style"])]),"scroll-loading":s(()=>[P.value.length===0?(_(),I(V,{key:0,style:Z({height:`${$.value}px`})},null,8,["style"])):J("",!0),d.value?(_(),z("div",il,[i.value?(_(),I(A,{key:0},{default:s(()=>[g(h(c(u)("page.banlist.banlist.bottomReached")),1)]),_:1})):(_(),I(oe,{key:1}))])):J("",!0)]),_:1},8,["virtualListProps","data"])]),_:1})}}}),ul=ee(cl,[["__scopeId","data-v-bcc8aabb"]]),dl=N({__name:"index",setup(e){return(t,n)=>{const o=G;return _(),I(o,{direction:"vertical",fill:""},{default:s(()=>[l(ul)]),_:1})}}});async function pl(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,"api/bans/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:x()}).then(o=>o.json()).then(o=>(t.assertResponseLogin(o),{...o,pageIndex:o.pageIndex+1}))}const ml=N({__name:"banlogTable",setup(e){const t=M(!0),n=fe(),o=E(),{t:a,d:i}=W(),{data:r,total:d,current:u,loading:m,pageSize:f,changeCurrent:p,changePageSize:b,refresh:T}=Wn(pl,{defaultParams:[{pageIndex:1,pageSize:10}],pagination:{currentKey:"pageIndex",pageSizeKey:"pageSize",totalKey:"total"},pollingInterval:L(()=>n.pollingInterval),cacheKey:w=>`${o.endpoint}-banlogs-${(w==null?void 0:w[0].pageIndex)||1}-${(w==null?void 0:w[0].pageSize)||10}`,onSuccess:n.renewLastUpdate,onAfter:()=>{t.value=!1}});ue([f,u],()=>{t.value=!0}),ue(()=>o.endpoint,T);const y=L(()=>t.value||m.value||!P.value),S=[{title:()=>a("page.banlog.banlogTable.column.banTime")+"/"+a("page.banlog.banlogTable.column.unbanTime"),slotName:"banAt",width:210},{title:()=>a("page.banlog.banlogTable.column.peerAddress"),slotName:"peerAddress",width:230},{title:()=>a("page.banlog.banlogTable.column.peerId"),slotName:"peerId",width:120},{title:()=>a("page.banlog.banlogTable.column.trafficSnapshot"),slotName:"peerStatus",width:150},{title:()=>a("page.banlog.banlogTable.column.torrentName"),dataIndex:"torrentName",ellipsis:!0,tooltip:!0},{title:()=>a("page.banlog.banlogTable.column.torrentSize"),slotName:"torrentSize",width:120},{title:()=>a("page.banlog.banlogTable.column.description"),dataIndex:"description",ellipsis:!0,tooltip:!0}],P=L(()=>{var w;return(w=r.value)==null?void 0:w.results});return(w,$)=>{const v=po,k=Q,C=hn,A=G,j=yn,D=vn,H=on,V=Be,oe=Mt,Y=Oe;return _(),I(Y,{stripe:!0,columns:S,data:P.value,loading:y.value,pagination:{total:c(d),current:c(u),pageSize:c(f),showPageSize:!0,baseSize:4,bufferSize:1},"column-resizable":"",size:"medium",onPageChange:c(p),onPageSizeChange:c(b),class:"banlog-table"},{banAt:s(({record:U})=>[l(A,{fill:"",direction:"vertical"},{default:s(()=>[l(k,null,{default:s(()=>[l(v),g(" "+h(c(i)(U.banAt,"long")),1)]),_:2},1024),l(k,null,{default:s(()=>[l(C),g(" "+h(U.unbanAt?c(i)(U.unbanAt,"long"):c(a)("page.banlog.banlogTable.notUnbanned")),1)]),_:2},1024)]),_:2},1024)]),peerAddress:s(({record:U})=>[l(k,{copyable:"",code:""},{default:s(()=>[g(h(U.peerIp)+":"+h(U.peerPort),1)]),_:2},1024)]),peerStatus:s(({record:U})=>[l(A,{fill:"",style:{"justify-content":"space-between"}},{default:s(()=>[l(A,{fill:"",direction:"vertical"},{default:s(()=>[l(k,null,{default:s(()=>[l(j,{class:"green"}),g(" "+h(c(Ne)(U.peerUploaded)),1)]),_:2},1024),l(k,null,{default:s(()=>[l(D,{class:"red"}),g(" "+h(c(Ne)(U.peerDownloaded)),1)]),_:2},1024)]),_:2},1024),l(V,{content:(U.peerProgress*100).toFixed(2)+"%"},{default:s(()=>[l(H,{percent:U.peerProgress,size:"mini"},null,8,["percent"])]),_:2},1032,["content"])]),_:2},1024)]),peerId:s(({record:U})=>[R("p",null,[g(h(U.peerId?U.peerId:c(a)("page.banlist.banlist.listItem.empty"))+" ",1),l(V,{content:U.peerClientName?U.peerClientName:c(a)("page.banlist.banlist.listItem.empty")},{default:s(()=>[l(oe)]),_:2},1032,["content"])])]),torrentSize:s(({record:U})=>[l(V,{content:`Hash: ${U.torrentInfoHash}`},{default:s(()=>[R("p",null,h(c(Ne)(U.torrentSize)),1)]),_:2},1032,["content"])]),_:1},8,["data","loading","pagination","onPageChange","onPageSizeChange"])}}}),gl=ee(ml,[["__scopeId","data-v-4d465df4"]]),fl=N({__name:"index",setup(e){const t=he(()=>_e(()=>import("./charts-BpU46vBV.js"),__vite__mapDeps([6,7,1,2,8]),import.meta.url)),{t:n}=W(),o=M("table");return(a,i)=>{const r=Q,d=dn,u=pn,m=G;return _(),I(m,{direction:"vertical",fill:""},{default:s(()=>[l(r,{style:{"font-size":"1.2em"}},{default:s(()=>[g(h(a.$t("page.banlog.description")),1)]),_:1}),l(m,{class:"align-right",fill:"",style:{"margin-bottom":"20px"}},{default:s(()=>[l(r,null,{default:s(()=>[g(h(c(n)("page.banlog.radio.viewMode")),1)]),_:1}),l(u,{type:"button",modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=f=>o.value=f)},{default:s(()=>[l(d,{value:"table"},{default:s(()=>[g(h(c(n)("page.banlog.radio.table")),1)]),_:1}),l(d,{value:"charts"},{default:s(()=>[g(h(c(n)("page.banlog.radio.charts")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o.value==="table"?(_(),I(gl,{key:0})):c(t)?(_(),I(c(t),{key:1})):J("",!0)]),_:1})}}}),hl=ee(fl,[["__scopeId","data-v-bf92eb4c"]]);async function bl(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,"api/bans/ranks"),location.href);return n.searchParams.set("limit",String(e)),fetch(n,{headers:x()}).then(o=>(t.assertResponseLogin(o),o.json()))}const _l={class:"search-box"},vl=N({__name:"top50Table",props:{topNumber:{type:Number,required:!0}},setup(e){const t=fe(),n=E(),{t:o}=W(),a=[{title:()=>o("page.topban.top50Table.column.ipaddress"),dataIndex:"address",filterable:{filter:(f,p)=>p.address.includes(f[0]),slotName:"ip-filter",icon:()=>an(ba)}},{title:()=>o("page.topban.top50Table.column.historyCount"),dataIndex:"count"}],i=e,r=L(()=>i.topNumber),{data:d,loading:u,refresh:m}=ye(()=>bl(r.value),{pollingInterval:L(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${n.endpoint}-topban-${r.value}`});return ue([r,()=>n.endpoint],()=>{m()}),(f,p)=>{const b=gn,T=G,y=Oe;return _(),I(y,{stripe:"","sticky-header":"",columns:a,data:c(d),"column-resizable":"",loading:c(u),pagination:{showPageSize:!0,baseSize:4,bufferSize:1},"filter-icon-align-left":""},{"ip-filter":s(({filterValue:S,setFilterValue:P,handleFilterConfirm:w,handleFilterReset:$})=>[R("div",_l,[l(T,{direction:"vertical"},{default:s(()=>[l(b,{"model-value":S[0],placeholder:c(o)("page.topban.top50Table.searchPlaceholder"),"allow-clear":"",onSearch:w,onClear:$,onInput:v=>P([v])},null,8,["model-value","placeholder","onSearch","onClear","onInput"])]),_:2},1024)])]),_:1},8,["data","loading"])}}}),yl=ee(vl,[["__scopeId","data-v-918dd8d5"]]),wl=N({__name:"index",setup(e){const t=M(50);return(n,o)=>{const a=Q,i=Te,r=_n,d=bn,u=_a,m=va,f=G;return _(),z(ve,null,[l(a,{style:{"font-size":"1.2em"}},{default:s(()=>[g(h(n.$t("page.topban.description")),1)]),_:1}),l(d,null,{default:s(()=>[l(i,{heading:3},{default:s(()=>[g(h(n.$t("page.topban.title",{topNumber:t.value})),1)]),_:1}),l(r,null,{default:s(()=>[g(h(n.$t("page.topban.usage")),1)]),_:1})]),_:1}),l(f,{fill:"",direction:"vertical"},{default:s(()=>[l(f,null,{default:s(()=>[l(a,null,{default:s(()=>[g(h(n.$t("page.topban.onlyShow")),1)]),_:1}),l(m,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=p=>t.value=p),"trigger-props":{autoFitPopupMinWidth:!0}},{default:s(()=>[l(u,{value:10},{default:s(()=>[g("10")]),_:1}),l(u,{value:20},{default:s(()=>[g("20")]),_:1}),l(u,{value:30},{default:s(()=>[g("30")]),_:1}),l(u,{value:40},{default:s(()=>[g("40")]),_:1}),l(u,{value:50},{default:s(()=>[g("50")]),_:1})]),_:1},8,["modelValue"]),l(a,null,{default:s(()=>[g(h(n.$t("page.topban.onlyShow.number")),1)]),_:1})]),_:1}),l(yl,{"top-number":t.value},null,8,["top-number"])]),_:1})],64)}}});async function kl(){const e=E();await e.serverAvailable;const t=new URL(B(e.endpoint,"api/statistic/rules"),location.href);return fetch(t,{headers:x()}).then(n=>(e.assertResponseLogin(n),n.json()))}const Sl={class:"search-box"},Tl=N({__name:"ruleMetricsTable",setup(e){const t=fe(),{t:n}=W(),o=E(),{data:a,refresh:i,loading:r}=ye(kl,{pollingInterval:L(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${o.endpoint}-ruleStatic`}),d=m=>{var f;return(f=a.value)!=null&&f.dict[m]?At(m):"gray"},u=[{title:()=>n("page.ruleMetrices.metricsTable.column.type"),slotName:"type",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.content"),slotName:"ruleName",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.run"),dataIndex:"query",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.hit"),dataIndex:"hit",filterable:{filter:(m,f)=>m[0]==="yes"&&f.hit>0,slotName:"hit-filter"},width:200}];return ue(()=>o.endpoint,i),(m,f)=>{var w;const p=fn,b=Ge,T=Q,y=Pt,S=G,P=Oe;return _(),I(P,{columns:u,data:(w=c(a))==null?void 0:w.data,size:"large",loading:c(r),"column-resizable":"","filter-icon-align-left":"",pagination:{showPageSize:!0,baseSize:4,bufferSize:1}},{empty:s(()=>[l(p)]),type:s(({record:$})=>[l(b,{color:d($.type)},{default:s(()=>{var v;return[g(h(((v=c(a))==null?void 0:v.dict[$.type])??$.type),1)]}),_:2},1032,["color"])]),ruleName:s(({record:$})=>[l(T,{code:""},{default:s(()=>[g(h($.metadata.rule),1)]),_:2},1024)]),"hit-filter":s(({filterValue:$,handleFilterConfirm:v,handleFilterReset:k})=>[R("div",Sl,[l(S,null,{default:s(()=>[l(y,{modelValue:$[0],"onUpdate:modelValue":C=>$[0]=C,"checked-value":"yes","unchecked-value":"no",onChange:C=>C==="yes"?v():k()},null,8,["modelValue","onUpdate:modelValue","onChange"]),l(T,null,{default:s(()=>[g(h(c(n)("page.ruleMetrices.metricsTable.filter")),1)]),_:1})]),_:2},1024)])]),_:1},8,["data","loading"])}}}),$l=ee(Tl,[["__scopeId","data-v-f4351b0d"]]),Ll=N({__name:"index",setup(e){return(t,n)=>{const o=Te,a=_n,i=bn;return _(),z(ve,null,[l(i,null,{default:s(()=>[l(o,{heading:3},{default:s(()=>[g(h(t.$t("page.ruleMetrices.title")),1)]),_:1}),l(a,null,{default:s(()=>[g(h(t.$t("page.ruleMetrices.description")),1)]),_:1})]),_:1}),l($l)],64)}}});async function Cl(){const e=E();await e.serverAvailable;const t=new URL(B(e.endpoint,"api/sub/rules"),location.href);return fetch(t,{headers:x()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Il(e,t){const n=E();await n.serverAvailable;const o=new URL(B(n.endpoint,`api/sub/rule/${e}`),location.href);return fetch(o,{headers:x(),method:"PATCH",body:JSON.stringify({enabled:t})}).then(a=>(n.assertResponseLogin(a),a.json()))}async function ii({ruleId:e,ruleName:t,subUrl:n}){const o=E();await o.serverAvailable;const a=new URL(B(o.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(a,{headers:x(),method:"POST",body:JSON.stringify({ruleName:t,subUrl:n})}).then(i=>(o.assertResponseLogin(i),i.json()))}async function ci({ruleId:e,ruleName:t,subUrl:n}){const o=E();await o.serverAvailable;const a=new URL(B(o.endpoint,"api/sub/rule"),location.href);return fetch(a,{headers:x(),method:"PUT",body:JSON.stringify({ruleId:e,ruleName:t,subUrl:n})}).then(i=>(o.assertResponseLogin(i),i.json()))}async function Pl(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,`api/sub/rule/${e}/update`),location.href);return fetch(n,{headers:x(),method:"POST"}).then(o=>(t.assertResponseLogin(o),o.json()))}async function Ml(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(n,{headers:x(),method:"DELETE"}).then(o=>(t.assertResponseLogin(o),o.json()))}async function Nl(){const e=E();await e.serverAvailable;const t=new URL(B(e.endpoint,"/api/sub/rules/update"),location.href);return fetch(t,{headers:{...x(),"X-Audit":"Rule deletion"},method:"POST"}).then(n=>(e.assertResponseLogin(n),n.json()))}async function ui(){const e=E();await e.serverAvailable;const t=new URL(B(e.endpoint,"api/sub/interval"),location.href);return fetch(t,{headers:x()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function di(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,"api/sub/interval"),location.href);return fetch(n,{headers:x(),method:"PATCH",body:JSON.stringify({checkInterval:e})}).then(o=>(t.assertResponseLogin(o),o.json()))}async function pi(e){const t=E();await t.serverAvailable;const n=new URL(B(t.endpoint,"/api/sub/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:x()}).then(o=>o.json()).then(o=>(t.assertResponseLogin(o),{...o.data,pageIndex:o.pageIndex+1}))}const El=N({__name:"asyncMethod",props:{once:{type:Boolean},asyncFn:{type:Function}},setup(e){const t=M(0),n=M(!1),o=M(),a=e,i=async(...r)=>{if(n.value&&a.once)return;n.value=!0;const d=++t.value;return Promise.resolve(a.asyncFn(...r)).catch(u=>{d===t.value&&(o.value=u)}).finally(()=>{d===t.value&&(n.value=!1)})};return(r,d)=>Gn(r.$slots,"default",{run:i,loading:n.value,error:o.value})}}),Al=N({__name:"ruleList",setup(e){const t=he(()=>_e(()=>import("./editRuleItemModal-zT-bQawe.js"),__vite__mapDeps([9,1,2,10]),import.meta.url)),n=he(()=>_e(()=>import("./settingsModal-BdU9bcpI.js"),__vite__mapDeps([11,1,2]),import.meta.url)),o=he(()=>_e(()=>import("./logModal-C1kQd6Yk.js"),__vite__mapDeps([12,1,2]),import.meta.url)),{t:a,d:i}=W(),{data:r,loading:d,refresh:u}=ye(Cl,{}),m=M(),f=M(),p=M(),b=[{title:()=>a("page.ruleSubscribe.column.status"),slotName:"status"},{title:"ID",slotName:"ruleId"},{title:()=>a("page.ruleSubscribe.column.ruleName"),dataIndex:"ruleName"},{title:"URL",slotName:"url"},{title:()=>a("page.ruleSubscribe.column.lastUpdated"),slotName:"lastUpdated"},{title:()=>a("page.ruleSubscribe.column.rulesCount"),slotName:"rulesCount"},{title:()=>a("page.ruleSubscribe.column.actions"),slotName:"action"}],T=v=>{var k;(k=m.value)==null||k.showModal(!1,()=>u(),v)},y=()=>{var v;(v=m.value)==null||v.showModal(!0,()=>u())},S=v=>Pl(v).then(k=>{k.code!==200?K.error(k.message):K.info(k.message),u()}),P=async v=>{const k=await Ml(v);return k.code!==200?K.error(k.message):K.success(k.message),u(),!0},w=M(!1),$=async()=>{w.value=!0;const v=await Nl();v.code!==200?K.error(v.message):K.success(v.message),u(),w.value=!1};return(v,k)=>{const C=ro,A=Se,j=To,D=wn,H=Be,V=_o,oe=ya,Y=G,U=Ge,de=Q,$e=Pt,re=rn,De=sn,Rn=ln,zn=Oe;return _(),I(Y,{direction:"vertical",fill:""},{default:s(()=>{var Rt;return[l(Y,{class:"align-right",fill:""},{default:s(()=>[l(A,{type:"primary",onClick:y},{icon:s(()=>[l(C)]),default:s(()=>[g(" "+h(v.$t("page.ruleSubscribe.addRule")),1)]),_:1}),l(oe,null,{default:s(()=>[l(A,{loading:w.value,onClick:$},{icon:s(()=>[l(j)]),default:s(()=>[g(" "+h(c(a)("page.ruleSubscribe.updateAll")),1)]),_:1},8,["loading"]),l(H,{content:c(a)("page.ruleSubscribe.settingsTips")},{default:s(()=>{var O;return[l(A,{onClick:(O=f.value)==null?void 0:O.showModal},{icon:s(()=>[l(D)]),_:1},8,["onClick"])]}),_:1},8,["content"]),l(H,{content:c(a)("page.ruleSubscribe.updateLog")},{default:s(()=>{var O;return[l(A,{onClick:(O=p.value)==null?void 0:O.showModal},{icon:s(()=>[l(V)]),_:1},8,["onClick"])]}),_:1},8,["content"])]),_:1})]),_:1}),l(zn,{stripe:"",columns:b,data:(Rt=c(r))==null?void 0:Rt.data,loading:c(d)},{ruleId:s(({record:O})=>[l(U,{color:c(At)(O.ruleId)},{default:s(()=>[g(h(O.ruleId),1)]),_:2},1032,["color"])]),url:s(({record:O})=>[l(de,{copyable:"",ellipsis:{showTooltip:!0}},{default:s(()=>[g(h(O.subUrl),1)]),_:2},1024)]),status:s(({record:O})=>[l(Y,null,{default:s(()=>[l($e,{modelValue:O.enabled,"onUpdate:modelValue":Ee=>O.enabled=Ee,beforeChange:async Ee=>{const Ve=await c(Il)(O.ruleId,Ee);return Ve.code!==200?(c(K).error(Ve.message),!1):(c(u)(),!0)}},null,8,["modelValue","onUpdate:modelValue","beforeChange"])]),_:2},1024)]),lastUpdated:s(({record:O})=>[l(de,null,{default:s(()=>[g(h(O.lastUpdate>0?c(i)(O.lastUpdate,"long"):c(a)("page.ruleSubscribe.column.notUpdated")),1)]),_:2},1024)]),rulesCount:s(({record:O})=>[l(de,null,{default:s(()=>[g(h(O.enabled?O.entCount:"NaN"),1)]),_:2},1024)]),action:s(({record:O})=>[l(Y,{warp:""},{default:s(()=>[l(H,{content:c(a)("page.ruleSubscribe.column.actions.edit"),position:"top",mini:""},{default:s(()=>[l(A,{class:"edit-btn",shape:"circle",type:"text",onClick:()=>T(O)},{icon:s(()=>[l(re)]),_:2},1032,["onClick"])]),_:2},1032,["content"]),l(El,{once:"","async-fn":()=>S(O.ruleId)},{default:s(({run:Ee,loading:Ve})=>[l(H,{content:c(a)("page.ruleSubscribe.column.actions.update"),position:"top",mini:""},{default:s(()=>[l(A,{class:"edit-btn",shape:"circle",type:"text",onClick:Ee},{icon:s(()=>[l(j,{spin:Ve},null,8,["spin"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:2},1032,["async-fn"]),l(Rn,{content:c(a)("page.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:()=>P(O.ruleId)},{default:s(()=>[l(A,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:s(()=>[l(De)]),_:1})]),_:2},1032,["content","onBeforeOk"])]),_:2},1024)]),_:1},8,["data","loading"]),l(c(t),{ref_key:"editModal",ref:m},null,512),l(c(n),{ref_key:"settingsModal",ref:f},null,512),l(c(o),{ref_key:"updateLog",ref:p},null,512)]}),_:1})}}}),Ul=ee(Al,[["__scopeId","data-v-9bef0eca"]]),Rl=N({__name:"index",setup(e){const{t}=W();return(n,o)=>{const a=Q,i=G;return _(),I(i,{direction:"vertical",fill:""},{default:s(()=>[l(a,{style:{"font-size":"1.2em"}},{default:s(()=>[g(h(c(t)("page.ruleSubscribe.description")),1)]),_:1}),l(Ul)]),_:1})}}}),Ut=[{path:"/dashboard",name:"dashboard",meta:{label:"router.dashboard"},component:el},{path:"/list",name:"banlist",meta:{label:"router.banlist"},component:dl},{path:"/log",name:"banlogs",meta:{label:"router.banlogs"},component:hl},{path:"/top",name:"top",meta:{label:"router.topban"},component:wl},{path:"/metrics",name:"rule_metrics",meta:{label:"router.ruleMetrics"},component:Ll},{path:"/subscribe",name:"rule_subscribe",meta:{label:"router.ruleSubscribe",disableAutoUpdate:!0,moduleRequire:"com.ghostchu.peerbanhelper.module.impl.webapi.RuleSubController",documentation:"https://github.com/PBH-BTN/PeerBanHelper/wiki/%E8%A7%84%E5%88%99%E8%AE%A2%E9%98%85%E5%8A%9F%E8%83%BD"},component:Rl}];let Fe=location.pathname;var Qt;for(const e of Ut)if(!((Qt=e.meta)!=null&&Qt.hidden)&&Fe.endsWith(e.path)){Fe=Fe.slice(0,-e.path.length);break}const zl=Jn({history:Kn(Fe),routes:Ut});function jl(){const e=Yn(),t=_t(),n=i=>{e.replace({name:`${i}`})},o=L(()=>Ut.filter(i=>{var r;return!((r=i.meta)!=null&&r.hidden)})),a=L(()=>t.name);return[o,a,n]}const Ol=["href","title"],Bl={key:1},xl=N({__name:"pageFooter",setup(e){const{t}=W(),n="1.7.1",o=`90675b8bfa51388d2080a61fa586e582444dbc98
`,a=E(),i=L(()=>{var u;return(u=a.serverManifest)==null?void 0:u.version}),r=L(()=>a.latestVersion),d=L(()=>{var u,m;return An(((u=a.latestVersion)==null?void 0:u.tagName)??"1.0",((m=a.serverManifest)==null?void 0:m.version.version)??"1.0",">")});return ue(d,()=>{var u;d.value&&wa.info({title:t("footer.newVersion"),content:t("footer.newVersion.body",{version:(u=r.value)==null?void 0:u.tagName}),footer:()=>{var m;return an(Se,{href:(m=r.value)==null?void 0:m.url,type:"primary"},[t("footer.newVersion.updateNow")])},duration:5e3,closable:!0})}),ue(()=>a.checkUpgradeError,u=>{K.error(`${t("settings.accessToken.error")},error:${u}`)}),(u,m)=>{const f=ka,p=It,b=G,T=yt,y=wt,S=$t,P=Lt;return _(),I(P,{align:"center",justify:"center"},{default:s(()=>[l(S,{class:"footer"},{default:s(()=>[l(y,{column:{xs:1,md:3,lg:4}},{default:s(()=>[l(T,{label:"Backend Version"},{default:s(()=>[l(b,null,{default:s(()=>{var w,$,v,k;return[d.value?(_(),z("a",{key:0,href:(w=r.value)==null?void 0:w.url,title:c(t)("footer.newVersionTips",{version:($=r.value)==null?void 0:$.tagName})},[l(f,{dot:"",count:1,offset:[8,-1]},{default:s(()=>{var C;return[g(h((C=i.value)==null?void 0:C.version),1)]}),_:1})],8,Ol)):(_(),z("div",Bl,h((v=i.value)==null?void 0:v.version),1)),R("div",null,[g(" ("),l(p,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(k=i.value)==null?void 0:k.commit}`},{default:s(()=>{var C;return[g(h((C=i.value)==null?void 0:C.commit.substring(0,8)),1)]}),_:1},8,["href"]),g(") ")])]}),_:1})]),_:1}),l(T,{label:"WebUI Version"},{default:s(()=>[l(b,null,{default:s(()=>[g(h(c(n))+" ",1),R("div",null,[g(" ("),l(p,{href:`https://github.com/Gaojianli/pbh-fe/commit/${c(o)}`},{default:s(()=>[g(h(c(o).substring(0,8)),1)]),_:1},8,["href"]),g(") ")])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Dl=ee(xl,[["__scopeId","data-v-c1b0125c"]]),Vl=""+new URL("logo-dark-DcGjb6Oz.png",import.meta.url).href,ql=""+new URL("logo-_lfdynTd.png",import.meta.url).href,Hl={href:"https://github.com/settings/tokens"},Fl=N({__name:"settingsModal",setup(e,{expose:t}){const n=E(),o=fe(),a=M(!1),i=L(()=>n.loading),r=L(()=>n.status==="fail"),d=M({endpoint:n.endpoint,interval:o.interval,accessToken:n.accessToken}),{t:u}=W();function m(){d.value.endpoint=n.endpoint,d.value.interval=o.interval}t({showModal:()=>{a.value=!0,m()}});const f=()=>{if(!i.value)return o.interval=d.value.interval,n.setAccessToken(d.value.accessToken),n.setEndpoint(d.value.endpoint)};ue(()=>n.error,T=>{be.is(T)?p():Me.is(T)?(K.error(u(T.message)),!a.value&&T.isApiWrong&&(a.value=!0,m())):T&&(K.error(`${u("settings.endpoint.error")},error:${T}`),a.value||(a.value=!0,m()))},{immediate:!0});const p=()=>{a.value=!1,m()},b=Ct(M({md:1}),0);return(T,y)=>{const S=mn,P=St,w=Sa,$=en("i18n-t"),v=Tt,k=vt;return _(),I(k,{"modal-style":{"max-width":"80vw"},visible:a.value,"onUpdate:visible":y[3]||(y[3]=C=>a.value=C),onBeforeOk:f,onCancel:p,closable:!r.value,maskClosable:!r.value,"hide-cancel":r.value,"ok-loading":i.value},{title:s(()=>[g(h(c(u)("settings.modal.title")),1)]),default:s(()=>[l(v,{model:d.value,onSubmit:f,layout:["vertical","horizontal"][c(b)],"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:s(()=>[l(P,{field:"endpoint",label:"Endpoint:",tooltip:c(u)("settings.modal.endpointTips"),"validate-trigger":"input"},{default:s(()=>[l(S,{modelValue:d.value.endpoint,"onUpdate:modelValue":y[0]||(y[0]=C=>d.value.endpoint=C),placeholder:"http://localhost:8989","allow-clear":""},null,8,["modelValue"])]),_:1},8,["tooltip"]),l(P,{field:"interval",label:c(u)("settings.modal.pollInterval"),"validate-trigger":"input"},{default:s(()=>[l(w,{modelValue:d.value.interval,"onUpdate:modelValue":y[1]||(y[1]=C=>d.value.interval=C),placeholder:"3000",min:100,"hide-button":""},{suffix:s(()=>[g(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(P,{field:"accessToken",label:"Access Token:","validate-trigger":"input"},{extra:s(()=>[l($,{keypath:"settings.modal.accessTokenTips"},{here:s(()=>[R("a",Hl,h(c(u)("settings.modal.accessTokenTips.here")),1)]),_:1})]),default:s(()=>[l(S,{modelValue:d.value.accessToken,"onUpdate:modelValue":y[2]||(y[2]=C=>d.value.accessToken=C),"allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","layout"])]),_:1},8,["visible","closable","maskClosable","hide-cancel","ok-loading"])}}}),Wl=ee(Fl,[["__scopeId","data-v-5ac85002"]]),Gl=We("locale",()=>{const e=Ie("locale.store","");return{localeStore:e,setLocale:n=>{e.value=n}}});function Jl(){const e=Gl(),t=W({useScope:"global"}),n=o=>{var a;t.locale.value===o||!t.availableLocales.includes(o)||(t.locale.value=o,e.setLocale(o),(a=document.querySelector("html"))==null||a.setAttribute("lang",o),K.success(t.t("navbar.action.locale")))};return e.localeStore!==""&&t.availableLocales.includes(e.localeStore)&&n(e.localeStore),{changeLocale:n}}const Kl=We("dark",()=>{const e=M(!1);return{isDark:e,setDark:n=>{e.value=n}}}),Yl={href:"https://github.com/PBH-BTN/PeerBanHelper"},Zl={key:0,src:Vl,alt:"logo",class:"logo"},Xl={key:1,src:ql,alt:"logo",class:"logo"},Ql={class:"lang-selector"},ei=N({__name:"pageHeader",props:{disableAutoUpdate:{type:Boolean,default:!1}},setup(e){const{t,d:n,locale:o}=W(),{changeLocale:a}=Jl(),i=[...Ar],r=fe(),d=Kl(),u=Zn({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"dark-theme-config"});d.setDark(u.value);const m=M(),f=Xn(u),p=()=>{f(),d.setDark(u.value)},b=e,T=L(()=>b.disableAutoUpdate);return(y,S)=>{const P=Te,w=G,$=hn,v=Q,k=Pt,C=Yo,A=Se,j=Be,D=La,H=Ca,V=Ta,oe=zo,Y=qo,U=wn,de=$a;return _(),z(ve,null,[l(de,{"show-back":!1},{title:s(()=>[R("a",Yl,[l(w,{size:"mini"},{default:s(()=>[c(u)?(_(),z("img",Zl)):(_(),z("img",Xl)),l(P,{style:{"margin-top":"0%","margin-bottom":"0%"}},{default:s(()=>[g("PeerBanHelper")]),_:1})]),_:1})])]),extra:s(()=>[l(w,{class:"right-side",wrap:""},{default:s(()=>{var $e;return[T.value?J("",!0):(_(),z(ve,{key:0},[l(v,null,{default:s(()=>[l($),g(" "+h(c(t)("navbar.action.autoUpdate.lastUpdate"))+h(c(n)(c(r).lastUpdate,"longlong")),1)]),_:1}),l(k,{modelValue:c(r).autoUpdate,"onUpdate:modelValue":S[0]||(S[0]=re=>c(r).autoUpdate=re)},null,8,["modelValue"]),l(v,null,{default:s(()=>[g(h(c(t)("navbar.action.autoUpdate")),1)]),_:1})],64)),R("div",Ql,[l(V,{trigger:"click",onSelect:S[1]||(S[1]=re=>c(a)(re))},{content:s(()=>[(_(),z(ve,null,bt(i,re=>l(H,{key:re.value,value:re.value},{icon:s(()=>[Qn(l(D,null,null,512),[[ea,re.value===c(o)]])]),default:s(()=>[g(" "+h(re.label),1)]),_:2},1032,["value"])),64))]),default:s(()=>[l(j,{content:c(t)("settings.language")},{default:s(()=>[l(A,{class:"nav-btn",type:"outline",shape:"circle"},{icon:s(()=>[l(C)]),_:1})]),_:1},8,["content"])]),_:1})]),l(j,{content:c(u)?c(t)("settings.navbar.theme.toLight"):c(t)("settings.navbar.theme.toDark")},{default:s(()=>[l(A,{class:"nav-btn",type:"outline",shape:"circle",onClick:p},{icon:s(()=>[c(u)?(_(),I(oe,{key:0})):(_(),I(Y,{key:1}))]),_:1})]),_:1},8,["content"]),l(A,{class:"nav-btn",type:"outline",shape:"circle",status:"normal",onClick:($e=m.value)==null?void 0:$e.showModal},{icon:s(()=>[l(U)]),_:1},8,["onClick"])]}),_:1})]),_:1}),l(Wl,{ref_key:"settingsModalRef",ref:m},null,512)],64)}}}),ti=ee(ei,[["__scopeId","data-v-4668c8a0"]]),ni=N({__name:"index",setup(e){const t=E(),{t:n}=W(),o=M(!1),a=M({rememberPassword:!0,token:t.authToken}),i=M(),r=async({errors:u,values:m})=>{var T,y,S;const f=u?Object.keys(u):[];if(f.length>0){(T=i.value)==null||T.scrollToField(f[0]);return}const{token:p,rememberPassword:b}=m;if(!o.value){o.value=!0,(y=i.value)==null||y.setFields({token:{status:"validating",message:""}});try{await t.setAuthToken(p,b),K.success(n("login.form.login.success"))}catch(P){(S=i.value)==null||S.setFields({token:{status:"error",message:`${n("login.form.login.failed")}  ${P.message}`}})}finally{o.value=!1}}},{query:d}=_t();return nn(()=>{var u;d.token&&(a.value.token=d.token,(u=i.value)==null||u.$emit("submit",{values:a.value,errors:void 0},new Event("submit")))}),(u,m)=>{const f=Te,p=ur,b=Ia,T=St,y=Pa,S=It,P=Se,w=Tt,$=G,v=$t,k=Lt;return _(),I(k,{justify:"center"},{default:s(()=>[l(v,{xs:24,sm:20,md:16,lg:12,xl:8},{default:s(()=>[l($,{direction:"vertical",fill:""},{default:s(()=>[l(f,{heading:3},{default:s(()=>[g(h(u.$t("login.form.title")),1)]),_:1}),l(w,{ref_key:"loginForm",ref:i,model:a.value,class:"login-form",layout:"vertical",onSubmit:r},{default:s(()=>[l(T,{field:"token",rules:[{required:!0,message:u.$t("login.form.password.errMsg")}],"validate-trigger":["change","input"],"hide-label":""},{default:s(()=>[l(b,{modelValue:a.value.token,"onUpdate:modelValue":m[0]||(m[0]=C=>a.value.token=C),placeholder:u.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:s(()=>[l(p)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),l(T,{field:"rememberPassword",class:"login-form-password-actions"},{default:s(()=>[l(y,{checked:"rememberPassword","model-value":a.value.rememberPassword},{default:s(()=>[g(h(u.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value"]),l(S,{style:{marginLeft:"auto"},href:"https://github.com/PBH-BTN/PeerBanHelper/wiki/%E5%A6%82%E4%BD%95%E9%87%8D%E7%BD%AEToken"},{default:s(()=>[g(h(u.$t("login.form.forgetPassword")),1)]),_:1})]),_:1}),l(P,{type:"primary","html-type":"submit",long:"",loading:o.value},{default:s(()=>[g(h(u.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}}),ai=N({__name:"App",setup(e){const t=E(),n=L(()=>t.status),o=_t(),{t:a,locale:i}=W(),[r,d,u]=jl(),m=L(()=>o.meta.disableAutoUpdate);return(f,p)=>{const b=Na,T=Ea,y=Q,S=Se,P=G,w=ja,$=Oa,v=Aa,k=Ua,C=Ra,A=za,j=Ma;return _(),I(j,{locale:c(Rr)[c(i)]},{default:s(()=>[l(A,null,{default:s(()=>[l(b,null,{default:s(()=>[l(ti,{"disable-auto-update":m.value},null,8,["disable-auto-update"])]),_:1}),n.value==="needLogin"?(_(),I(T,{key:0,class:"login-page"},{default:s(()=>[l(ni,{style:{width:"100%","max-width":"1200px",margin:"auto"}})]),_:1})):(_(),I(T,{key:1},{default:s(()=>[l(P,{direction:"vertical",fill:"",style:{width:"100%","max-width":"1200px",margin:"auto"}},{default:s(()=>[l(v,{"active-key":c(d),onChange:c(u),size:"large",animation:!0,"destroy-on-hide":!0,"lazy-load":!0},{default:s(()=>[(_(!0),z(ve,null,bt(c(r),D=>{var H;return _(),I($,{key:D.name,title:c(a)(String((H=D.meta)==null?void 0:H.label))},{default:s(()=>{var V,oe,Y;return[(V=D.meta)!=null&&V.moduleRequire&&!c(As)(c(t).serverManifest,String((oe=D.meta)==null?void 0:oe.moduleRequire))?(_(),I(w,{key:0,status:"error",title:c(a)("router.moduleNotEnable",{moduleName:c(a)(String((Y=D.meta)==null?void 0:Y.label))})},{subtitle:s(()=>[l(y,{style:{"font-size":"0.8rem"}},{default:s(()=>[g(h(c(a)("router.moduleNotEnable.tips")),1)]),_:1})]),extra:s(()=>[l(P,null,{default:s(()=>{var U;return[l(S,{href:String((U=D.meta)==null?void 0:U.documentation),type:"primary"},{default:s(()=>[g(h(c(a)("router.moduleNotEnable.viewDoc")),1)]),_:2},1032,["href"])]}),_:2},1024)]),_:2},1032,["title"])):(_(),I(tn(D.component),{key:1}))]}),_:2},1032,["title"])}),128))]),_:1},8,["active-key","onChange"]),l(k)]),_:1})]),_:1})),l(C,null,{default:s(()=>[l(Dl)]),_:1})]),_:1})]),_:1},8,["locale"])}}}),oi=ee(ai,[["__scopeId","data-v-c0d6f42c"]]),xe=ta(oi);K._context=xe._context;na({loadingDelay:400,loadingKeep:1e3,pollingWhenOffline:!0});xe.use(aa());xe.use(Ur);xe.use(zl);xe.mount("#app");export{ci as A,ui as G,di as S,ii as U,ee as _,pi as a,At as b,pl as g,Ae as p,Kl as u};
