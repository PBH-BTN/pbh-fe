const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./peerListModal-mc3KN-sq.js","./libs-CPdh8xC_.js","./arcoDesign-CD4eothr.js","./peerListModal-TejyhKsi.css","./qbittorrent-UesWCwMQ.js","./transmission-BPra-LJ8.js","./biglybt-KVmVe6ql.js","./deluge-BZTXXsRE.js","./charts-CESiY3nH.js","./echarts-CjZoIP63.js","./charts-BkeKcYkI.css","./editRuleItemModal-DTeYb_nY.js","./editRuleItemModal-Ck84q6_5.css","./settingsModal-CcEIf0Ab.js","./logModal-D7XvC3Ne.js","./index-Bzw48wxq.js","./index-DoDFLbaN.css","./index-CI3JTudA.js","./index-ByZN7NJf.js"])))=>i.map(i=>d[i]);
var sa=Object.defineProperty;var ra=(e,t,n)=>t in e?sa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var J=(e,t,n)=>ra(e,typeof t!="symbol"?t+"":t,n);import{a3 as la,a4 as rt,a5 as Oe,r as M,I as ke,c as T,f as z,a6 as X,w as ge,j as g,s as w,D as s,x as l,k as D,z as b,O as f,a2 as c,p as j,a1 as de,n as te,m as ne,q as Dt,t as Z,a7 as Le,a8 as me,a as wn,C as Ce,N as we,F as he,P as De,a9 as ia,l as ca,aa as ua,o as da,ab as pa,ac as ma,ad as ga,R as ba,ae as fa,af as ha,ag as _a,ah as Sn,ai as va,aj as ya,L as ka,M as wa,K as Sa,$ as La,ak as Ta,al as $a}from"./libs-CPdh8xC_.js";import{d as Ca,l as Ia,N as Pa,B as ye,M as G,a as Na,L as Ln,S as ee,D as Bt,b as Ot,C as Tn,R as $n,_ as oe,g as se,i as re,u as lt,I as xt,F as Cn,c as Ma,e as In,f as Vt,h as Pn,j as Ht,P as Ea,T as ie,k as Nn,m as He,n as qt,o as Ft,p as Qe,q as Wt,r as qe,s as Mn,t as En,v as it,w as Ua,x as Aa,y as Ra,z as Zt,A as Un,E as An,G as za,H as ja,J as Da,K as Ba,O as Rn,Q as Oa,U as zn,V as xa,W as Va,X as Ha,Y as jn,Z as Dn,$ as qa,a0 as Fa,a1 as Bn,a2 as Wa,a3 as Za,a4 as Ga,a5 as Ka,a6 as Ja,a7 as Ya,a8 as Xa,a9 as Qa,aa as eo,ab as to,ac as no,ad as ao,ae as oo,af as so,ag as ro,ah as lo,ai as io,aj as co}from"./arcoDesign-CD4eothr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const uo="modulepreload",po=function(e,t){return new URL(e,t).href},tn={},ue=function(t,n,a){let o=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.all(n.map(p=>{if(p=po(p,a),p in tn)return;tn[p]=!0;const h=p.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(!!a)for(let S=i.length-1;S>=0;S--){const _=i[S];if(_.href===p&&(!h||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":uo,h||(y.as="script",y.crossOrigin=""),y.href=p,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((S,_)=>{y.addEventListener("load",S),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}return o.then(()=>t()).catch(i=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i})};function mo(e){var t=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var a=0;a<e.length;a++){var o=e[a];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(a>0&&(o=o.replace(/^[\/]+/,"")),a<e.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");var r=i.split("?");return i=r.shift()+(r.length>0?"?":"")+r.join("&"),i}function q(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),mo(e)}const nt={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",view:{month:"Month",year:"Year",week:"Week",day:"Day"},month:{long:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},short:{January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sept",October:"Oct",November:"Nov",December:"Dec"}},week:{long:{self:"Week",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},short:{self:"Week",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"}}},go={locale:"en-US",empty:{description:"No Data"},drawer:{okText:"Ok",cancelText:"Cancel"},popconfirm:{okText:"Ok",cancelText:"Cancel"},modal:{okText:"Ok",cancelText:"Cancel"},pagination:{goto:"Goto",page:"Page",countPerPage:" / Page",total:"Total: {0}"},table:{okText:"Ok",resetText:"Reset"},upload:{start:"Start",cancel:"Cancel",delete:"Delete",retry:"Click to retry",buttonText:"Upload",preview:"Preview",drag:"Click or drag file to this area to upload",dragHover:"Release to upload",error:"Upload Error"},calendar:nt,datePicker:{view:nt.view,month:nt.month,week:nt.week,placeholder:{date:"Please select date",week:"Please select week",month:"Please select month",year:"Please select year",quarter:"Please select quarter",time:"Please select time"},rangePlaceholder:{date:["Start date","End date"],week:["Start week","End week"],month:["Start month","End month"],year:["Start year","End year"],quarter:["Start quarter","End quarter"],time:["Start time","End time"]},selectTime:"Select time",today:"Today",now:"Now",ok:"Ok"},image:{loading:"loading"},imagePreview:{fullScreen:"Full Screen",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",zoomIn:"Zoom In",zoomOut:"Zoom Out",originalSize:"Original Size"},typography:{copied:"Copied",copy:"Copy",expand:"Expand",collapse:"Collapse",edit:"Edit"},form:{validateMessages:Ca},colorPicker:{history:"History Colors",preset:"Preset Colors",empty:"Empty"}},bo={"settings.navbar.theme.toLight":"Click to use light mode","settings.navbar.theme.toDark":"Click to use dark mode","settings.language":"Language","settings.modal.title":"Settings","settings.modal.endpointTips":"If you can't access the backend of the PBH, you can try to set the Endpoint here","settings.modal.accessTokenTips":"You can set the Github access token at {here}","settings.modal.accessTokenTips.here":"here","settings.modal.pollInterval":"Polling interval:","settings.endpoint.error":"Cannot connect to the backend, please check the Endpoint settings","settings.accessToken.error":"Failed to get version, please check your network or try to set the access token in settings."},fo={"page.dashboard.description":"This page displays the basic data since PeerBanHelper started.","page.dashboard.clientStatus.title":"Connected Downloaders","page.dashboard.clientStatus.card.title":"Downloader Status","page.dashboard.clientStatus.card.status":"Status","page.dashboard.clientStatus.card.type":"Type","page.dashboard.clientStatus.card.status.normal":"Normal","page.dashboard.clientStatus.card.status.error":"Error","page.dashboard.clientStatus.card.status.unknown":"Unknown","page.dashboard.clientStatus.card.status.need_take_action":"Need Take Action","page.dashboard.clientStatus.card.status.torrentNumber":"Active Torrents","page.dashboard.clientStatus.card.status.peerNumber":"Connected Peers","page.dashboard.clientStatus.card.lastDelete":"Last downloader cannot be deleted","page.dashboard.statics.currentStatus":"Current Status","page.dashboard.statics.checked":"Total checked","page.dashboard.statics.times":"times","page.dashboard.statics.banPeer":"Ban Peers","page.dashboard.statics.unbanPeer":"Unban Peers","page.dashboard.statics.currentBan":"Currently banned Peers","page.dashboard.statics.currentBanIps":"Currently banned IP(s)","page.dashboard.statics.number":"","page.dashboard.torrentList.title":"Active Torrent List","page.dashboard.torrentList.tips":"Click to view the active torrent list","page.dashboard.torrentList.column.name":"Name","page.dashboard.torrentList.column.size":"Size","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"Progress","page.dashboard.torrentList.column.speed":"Speed","page.dashboard.torrentList.column.view":"View","page.dashboard.editModal.title.new":"New Downloader","page.dashboard.editModal.title.edit":"Edit Downloader","page.dashboard.editModal.label.type":"Type","page.dashboard.editModal.label.name":"Name","page.dashboard.editModal.label.endpoint":"Endpoint","page.dashboard.editModal.label.endpoint.error.invalidSchema":"Must start with http:// or https://","page.dashboard.editModal.label.endpoint.error.invalidUrl":"Invalid URL","page.dashboard.editModal.label.username":"Username","page.dashboard.editModal.label.password":"Password","page.dashboard.editModal.label.useBasicAuth":"Use HTTP Basic Auth","page.dashboard.editModal.label.httpVersion":"HTTP Version","page.dashboard.editModal.label.httpVersion.description":"2.0 is faster, which 1.1 is more compatible","page.dashboard.editModal.label.incrementBan":"Incremental Ban","page.dashboard.editModal.label.incrementBan.description":"Helps to alleviate the downloader pressure when saving the ban list, but may cause the inability to ban Peers on some downloaders","page.dashboard.editModal.label.verifySsl":"Verify SSL","page.dashboard.editModal.biglybt":"Please install plugin at {url} first.","page.dashboard.editModal.biglybt.url":"here","page.dashboard.peerList.title":"Active Peer List: ","page.dashboard.peerList.column.address":"Address","page.dashboard.peerList.column.port":"Port","page.dashboard.peerList.column.clientName":"Client Name","page.dashboard.peerList.column.flag":"Flags","page.dashboard.peerList.column.speed":"Speed","page.dashboard.peerList.column.uploadedDownloaded":"Uploaded/Downloaded","page.dashboard.peerList.column.progress":"Progress","page.dashboard.peerList.column.flags.P":"μtp","page.dashboard.peerList.column.flags.D":"Currently downloading (interested and not choked)","page.dashboard.peerList.column.flags.d":"Your client wants to download, but peer doesn't want to send (interested and choked)","page.dashboard.peerList.column.flags.U":"Currently uploading (interested and not choked)","page.dashboard.peerList.column.flags.u":"Peer wants your client to upload, but your client doesn't want to (interested and choked)","page.dashboard.peerList.column.flags.O":"Optimistic unchoke","page.dashboard.peerList.column.flags.S":"Peer is snubbed","page.dashboard.peerList.column.flags.I":"Peer is an incoming connection","page.dashboard.peerList.column.flags.K":"Peer is unchoking your client, but your client is not interested","page.dashboard.peerList.column.flags.?":"Your client unchoked the peer but the peer is not interested","page.dashboard.peerList.column.flags.X":"Peer was included in peerlists obtained through Peer Exchange (PEX)","page.dashboard.peerList.column.flags.H":"Peer was obtained through DHT.","page.dashboard.peerList.column.flags.E":"Peer is using Protocol Encryption (all traffic)","page.dashboard.peerList.column.flags.e":"Peer is using Protocol Encryption (handshake)","page.dashboard.peerList.column.flags.L":"Peer is local (discovered through network broadcast, or in reserved local IP ranges)"},ho={"page.banlist.banlist":"Ban List","page.banlist.banlist.description":"Following is the ban list (sorted by time descending)","page.banlist.banlist.searchPlaceHolder":"Search an IP address","page.banlist.banlist.listItem.reserveDNSLookup":"Reverse DNS Lookup","page.banlist.banlist.listItem.banTime":"Ban Time","page.banlist.banlist.listItem.expireTime":"Unban Time","page.banlist.banlist.listItem.location":"Torrent","page.banlist.banlist.listItem.snapshot":"Snapshot","page.banlist.banlist.listItem.rule":"Hit Rule","page.banlist.banlist.listItem.reason":"Ban Reason","page.banlist.banlist.listItem.geo":"Geo Location","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"ASN Subnet: ","page.banlist.banlist.listItem.empty":"Empty","page.banlist.banlist.listItem.network.isp":"ISP","page.banlist.banlist.listItem.network.netType":"Net","page.banlist.banlist.bottomReached":"No more data!","page.banlist.banlist.listItem.unban":"Unban","page.banlist.banlist.listItem.unbanUnexcepted":"No IP address(s) unbanned","page.banlist.banlist.listItem.unbanSuccess":"Unbanned {count} IP address"},_o={"page.banlog.description":"This page shows the ban log information stored by PeerBanHelper.","page.banlog.banlogTable.notUnbanned":"Not Unbanned yet","page.banlog.banlogTable.column.banTime":"Ban Time","page.banlog.banlogTable.column.unbanTime":"Unban Time","page.banlog.banlogTable.column.peerAddress":"Peer Address","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"Traffic Snapshot","page.banlog.banlogTable.column.torrentName":"Torrent Name","page.banlog.banlogTable.column.torrentSize":"Size","page.banlog.banlogTable.column.description":"Description","page.banlog.radio.viewMode":"View Mode","page.banlog.radio.table":"Table","page.banlog.radio.charts":"Charts","page.banlog.charts.loading":"Loading...","page.banlog.charts.options.more":"More Options","page.banlog.charts.options.thresold":"Only show data above 1%","page.banlog.charts.options.field":"Field","page.banlog.charts.options.field.peerId":"Peer ID","page.banlog.charts.options.field.empty":"N/A","page.banlog.charts.options.field.torrentName":"Torrent Name","page.banlog.charts.options.field.module":"Module","page.banlog.charts.title.line":"Ban count","page.banlog.charts.line.options.field":"Count","page.banlog.charts.options.days":"Time Range","page.banlog.charts.options.mergeSame":"Try to merge same type clients","page.banlog.charts.options.steps":"Steps","page.banlog.charts.options.day":"Days","page.banlog.charts.options.hour":"Hours","page.banlog.charts.options.shortcut.6hours":"6 hours before","page.banlog.charts.options.shortcut.12hours":"12 hours before","page.banlog.charts.options.shortcut.24hours":"24 hours before","page.banlog.charts.options.shortcut.7days":"7 days before","page.banlog.charts.options.shortcut.14days":"14 days before","page.banlog.charts.options.shortcut.30days":"30 days before"},vo={"page.topban.description":"This page shows the ban history stored by PeerBanHelper.","page.topban.title":"Top {topNumber} most frequently banned IP addresses","page.topban.usage":"This data is analyzed from the ban history recorded in the database. If some IP addresses are repeatedly banned, you may consider using the system firewall to block these IPs, or share these malicious IP addresses with others to help more people improve their blocking rules.","page.topban.onlyShow":"Only show the first","page.topban.onlyShow.number":"","page.topban.top50Table.searchPlaceholder":"Search IP address...","page.topban.top50Table.column.ipaddress":"IP Address","page.topban.top50Table.column.historyCount":"History Ban Count"},yo={"page.ruleMetrices.title":"Rule metrics","page.ruleMetrices.description":"The following is the rule statistics information, you can improve your rule through following information.","page.ruleMetrices.metricsTable.filter":"Show hit rules only","page.ruleMetrices.metricsTable.column.type":"Rule Type","page.ruleMetrices.metricsTable.column.content":"Rule Content","page.ruleMetrices.metricsTable.column.run":"Run Times","page.ruleMetrices.metricsTable.column.hit":"Hit Times"},ko={"service.manifest.networkError":"Network failure, unable to initiate request","service.manifest.parseError":"Unable to parse the data, please check whether the endpoint is correct","service.manifest.formatError":"The response format is incorrect, please check the backend version"},wo={"login.form.login.success":"Login success","login.form.title":"Login to PeerBanHelper","login.form.password.placeholder":"Please enter the management token","login.form.rememberPassword":"Remember token","login.form.forgetPassword":"Forget token","login.form.password.errMsg":"Please enter the management token","login.form.login.failed":"Login Failed:","login.form.login":"Login"},So={"page.oobe.action.next":"Next","page.oobe.action.back":"Back","page.oobe.steps.welcome":"Welcome","page.oobe.steps.setToken.title":"Set Token","page.oobe.steps.setToken.description":"Security comes first","page.oobe.steps.addDownloader.title":"Add Downloader","page.oobe.steps.success.title":"Initialization success","page.oobe.steps.success.description":"Start using!","page.oobe.welcome.title":"Welcome to PeerBanHelper!","page.oobe.welcome.description":"PeerBanHelper is a tool for anti-leech. PBH will connect to your downloader and check if any bad peers connected to your downloader. Once any bad peer was found, PBH will ban it. Before we start, let's do some simple config first.","page.oobe.setToken.title":"Set Token","page.oobe.setToken.description":"First, you need to set a token, this token can prevent your WebUI from malicious access and protect your privacy. Once you login to your WebUI once, your browser will remember it and automaticlly login in future.","page.oobe.setToken.generate":"Generate","page.oobe.addDownloader.title":"Add your first downloader","page.oobe.addDownloader.description":"Choose your downloader type first, then fill in the related authentication information.","page.oobe.addDownloader.test":"Test downloader","page.oobe.addDownloader.test.success":"Test success","page.oobe.result.title":"Initialization success!","page.oobe.result.title.error":"Initialization failed","page.oobe.result.description":"You have completed the initialization, now you can start using PeerBanHelper!","page.oobe.result.goto":"Start using","page.oobe.result.initlizing":"Initializing, This may take a while...","page.oobe.result.retry":"Retry"},Lo={"page.rule_management.ruleSubscribe.title":"Rule Subscription","page.rule_management.ruleSubscribe.description":"You can manage online rules subscriptions here.","page.rule_management.ruleSubscribe.addRule":"Add Subscription","page.rule_management.ruleSubscribe.updateAll":"Update all","page.rule_management.ruleSubscribe.settingsTips":"Auto update settings","page.rule_management.ruleSubscribe.updateLog":"Update Log","page.rule_management.ruleSubscribe.column.ruleName":"Rule Name","page.rule_management.ruleSubscribe.column.lastUpdated":"Last Updated","page.rule_management.ruleSubscribe.column.notUpdated":"Never","page.rule_management.ruleSubscribe.column.status":"Enabled","page.rule_management.ruleSubscribe.column.clickToCopy":"Copy","page.rule_management.ruleSubscribe.column.actions":"Actions","page.rule_management.ruleSubscribe.column.actions.edit":"Edit","page.rule_management.ruleSubscribe.column.actions.update":"Update","page.rule_management.ruleSubscribe.editModal.title":"Edit Rule","page.rule_management.ruleSubscribe.editModal.title.new":"New Rule","page.rule_management.ruleSubscribe.editModal.form.name":"Rule Name","page.rule_management.ruleSubscribe.editModal.form.id.extra":"Rule ID, should be unique","page.rule_management.ruleSubscribe.editModal.form.name.required":"Please input rule name","page.rule_management.ruleSubscribe.column.rulesCount":"Rules","page.rule_management.ruleSubscribe.column.deleteConfirm":"Are you sure you want to delete?","page.rule_management.ruleSubscribe.settingsModal.title":"Subscribe Settings","page.rule_management.ruleSubscribe.settingsModal.checkInterval":"Update Interval","page.rule_management.ruleSubscribe.updateLog.updateTime":"Update at","page.rule_management.ruleSubscribe.updateLog.ruleCount":"Rules Count","page.rule_management.ruleSubscribe.updateLog.updateType":"Type","page.rule_management.ruleSubscribe.updateLog.updateType.auto":"Auto","page.rule_management.ruleSubscribe.updateLog.updateType.manual":"Manual","page.rule_management.ruleSubscribe.updateLog.updateType.unknown":"Unknown","page.rule_management.ruleSubscribe.copySuccess":"Copied"},To={"page.rule_management.ip":"IP","page.rule_management.asn":"ASN","page.rule_management.port":"Port","page.rule_management.region":"Region","page.rule_management.netType":"Net Type","page.rule_management.city":"City","page.rule_management.generic.description":"You can manage {type} rules here.","page.rule_management.generic.addOne":"New","page.rule_management.ip.placeholder":"192.168.1.0/24","page.rule_management.asn.placeholder":"114514","page.rule_management.port.placeholder":"8080","page.rule_management.region.placeholder":"CN","page.rule_management.city.placeholder":"Shanghai","page.rule_management.netType.placeholder":"宽带"},$o={...Lo,...To},Co={"navbar.action.locale":"Switch to English","navbar.action.autoUpdate":"Auto Update","navbar.action.autoUpdate.lastUpdate":"Last updated at: ","main.workInProgressTips":"This feature is still working in progress, and the data currently recorded and displayed is relatively limited","footer.newVersion":"New Version Found!","footer.newVersion.body":"{version} is available, click to view","footer.newVersionTips":"New version {version} is available, click to view","footer.newVersion.updateNow":"Update Now","router.login":"Login","router.dashboard":"Status","router.banlist":"Ban List","router.banlogs":"Ban Logs","router.topban":"Top Bans","router.ruleMetrics":"Rule Metrics","router.rule_management":"Rule Management","router.moduleNotEnable":"{moduleName} is not enabled","router.moduleNotEnable.tips":"Please enable the feature in the configuration file","router.moduleNotEnable.viewDoc":"View Documentation",...bo,...fo,...ho,..._o,...vo,...yo,...ko,...wo,...So,...$o},Io={"settings.navbar.theme.toLight":"点击切换为亮色模式","settings.navbar.theme.toDark":"点击切换为暗黑模式","settings.language":"语言","settings.modal.title":"设置","settings.modal.endpointTips":"如果你无法访问PBH后端，可以尝试在此设置Endpoint","settings.modal.pollInterval":"轮询间隔：","settings.endpoint.error":"无法连接到后端，请检查Endpoint设置","settings.modal.accessTokenTips":"你可以在{here}填写 Github Access Token","settings.modal.accessTokenTips.here":"这里","settings.accessToken.error":"无法获取版本信息，请检查网络或尝试在设置中设置访问令牌"},Po={"page.dashboard.description":"此页面展示 PeerBanHelper 自启动以来的基本数据。","page.dashboard.clientStatus.title":"已连接的下载器","page.dashboard.clientStatus.card.title":"下载器状态","page.dashboard.clientStatus.card.status":"状态","page.dashboard.clientStatus.card.type":"类型","page.dashboard.clientStatus.card.status.normal":"正常","page.dashboard.clientStatus.card.status.normal.info":"状态良好","page.dashboard.clientStatus.card.status.error":"错误","page.dashboard.clientStatus.card.status.error.info":"与客户端通信时出错，请检查日志文件","page.dashboard.clientStatus.card.status.unknown":"未知","page.dashboard.clientStatus.card.status.unknown.info":"PeerBanHelper 可能还没有与此客户端通信","page.dashboard.clientStatus.card.status.need_take_action":"需要采取行动","page.dashboard.clientStatus.card.status.torrentNumber":"活动种子数","page.dashboard.clientStatus.card.status.peerNumber":"已连接的Peers","page.dashboard.clientStatus.card.lastDelete":"最后一个下载器不能被删除","page.dashboard.statics.currentStatus":"当前状态","page.dashboard.statics.checked":"共检查","page.dashboard.statics.times":"次","page.dashboard.statics.banPeer":"封禁Peer","page.dashboard.statics.unbanPeer":"解除封禁","page.dashboard.statics.currentBan":"当前处于封禁状态Peer","page.dashboard.statics.currentBanIps":"正处于封禁的IP数量","page.dashboard.statics.number":"个","page.dashboard.torrentList.title":"活动种子列表","page.dashboard.torrentList.tips":"点击查看活动种子列表","page.dashboard.torrentList.column.name":"名称","page.dashboard.torrentList.column.size":"大小","page.dashboard.torrentList.column.hash":"Hash","page.dashboard.torrentList.column.progress":"进度","page.dashboard.torrentList.column.speed":"速度","page.dashboard.torrentList.column.view":"查看","page.dashboard.editModal.title.new":"新建下载器","page.dashboard.editModal.title.edit":"编辑下载器","page.dashboard.editModal.label.type":"类型","page.dashboard.editModal.label.name":"名称","page.dashboard.editModal.label.endpoint":"地址","page.dashboard.editModal.label.endpoint.error.invalidSchema":"必须以'http://'或'https://'开头","page.dashboard.editModal.label.endpoint.error.invalidUrl":"无效的URL","page.dashboard.editModal.label.username":"用户名","page.dashboard.editModal.label.password":"密码","page.dashboard.editModal.label.useBasicAuth":"使用 Basic Auth","page.dashboard.editModal.label.httpVersion":"HTTP版本","page.dashboard.editModal.label.httpVersion.description":"2.0性能更好，1.1兼容性更好","page.dashboard.editModal.label.incrementBan":"增量封禁","page.dashboard.editModal.label.incrementBan.description":"有助于缓解保存封禁列表时的下载器压力，但在部分下载器上可能会导致无法封禁Peers","page.dashboard.editModal.label.verifySsl":"验证SSL证书","page.dashboard.editModal.biglybt":"请先安装 {url}","page.dashboard.editModal.biglybt.url":"插件","page.dashboard.peerList.title":"活动 Peer 列表：","page.dashboard.peerList.column.address":"地址","page.dashboard.peerList.column.port":"端口","page.dashboard.peerList.column.clientName":"客户端名称","page.dashboard.peerList.column.flag":"标志位","page.dashboard.peerList.column.speed":"速度","page.dashboard.peerList.column.uploadedDownloaded":"已上传/已下载","page.dashboard.peerList.column.progress":"进度","page.dashboard.peerList.column.flags.P":"μtp","page.dashboard.peerList.column.flags.d":"您：期待下载╱他：拒绝上传","page.dashboard.peerList.column.flags.D":"您：期待下载╱他：同意上传","page.dashboard.peerList.column.flags.u":"他：期待下载╱您：拒绝上传","page.dashboard.peerList.column.flags.U":"他：期待下载╱您：同意上传","page.dashboard.peerList.column.flags.K":"您：不想下载╱他：同意上传","page.dashboard.peerList.column.flags.?":"他：不想下载╱您：同意上传","page.dashboard.peerList.column.flags.O":"多传者优先","page.dashboard.peerList.column.flags.S":"下载者突然停止","page.dashboard.peerList.column.flags.I":"传入连接","page.dashboard.peerList.column.flags.H":"来自 DHT 的下载者","page.dashboard.peerList.column.flags.X":"来自 PEX 的下载者","page.dashboard.peerList.column.flags.L":"来自 LSD 的下载者","page.dashboard.peerList.column.flags.E":"加密的流量","page.dashboard.peerList.column.flags.e":"加密握手"},No={"page.banlist.banlist":"封禁名单","page.banlist.banlist.description":"以下是封禁列表（按时间倒序排列）","page.banlist.banlist.searchPlaceHolder":"搜索 IP 地址","page.banlist.banlist.listItem.reserveDNSLookup":"反向 DNS 解析","page.banlist.banlist.listItem.banTime":"封禁时间","page.banlist.banlist.listItem.expireTime":"预计解封时间","page.banlist.banlist.listItem.location":"发现位置","page.banlist.banlist.listItem.snapshot":"封禁快照","page.banlist.banlist.listItem.rule":"命中规则","page.banlist.banlist.listItem.reason":"封禁原因","page.banlist.banlist.listItem.geo":"地理位置","page.banlist.banlist.listItem.asn":"ASN","page.banlist.banlist.listItem.asn.subnet":"子网：","page.banlist.banlist.listItem.empty":"空","page.banlist.banlist.listItem.network.isp":"ISP","page.banlist.banlist.listItem.network.netType":"网络类型","page.banlist.banlist.bottomReached":"已经到底啦！","page.banlist.banlist.listItem.unban":"解除封禁","page.banlist.banlist.listItem.unbanUnexcepted":"没有 IP 地址被成功解除封禁","page.banlist.banlist.listItem.unbanSuccess":"成功解封 {count} 个 IP 地址"},Mo={"page.banlog.description":" 此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.banlog.banlogTable.notUnbanned":"未解封","page.banlog.banlogTable.column.banTime":"封禁时间","page.banlog.banlogTable.column.unbanTime":"解封时间","page.banlog.banlogTable.column.peerAddress":"Peer 地址","page.banlog.banlogTable.column.peerId":"Peer ID","page.banlog.banlogTable.column.trafficSnapshot":"流量快照","page.banlog.banlogTable.column.torrentName":"种子名","page.banlog.banlogTable.column.torrentSize":"大小","page.banlog.banlogTable.column.description":"描述","page.banlog.radio.viewMode":"视图模式","page.banlog.radio.table":"表格","page.banlog.radio.charts":"图表","page.banlog.charts.loading":"加载中...","page.banlog.charts.options.more":"更多选项","page.banlog.charts.options.thresold":"只显示1%以上的数据","page.banlog.charts.options.field":"维度","page.banlog.charts.options.field.peerId":"Peer ID","page.banlog.charts.options.field.empty":"N/A","page.banlog.charts.options.field.torrentName":"种子名","page.banlog.charts.options.field.module":"功能模块","page.banlog.charts.title.line":"封禁统计","page.banlog.charts.line.options.field":"计数","page.banlog.charts.options.days":"时间范围","page.banlog.charts.options.mergeSame":"尝试合并同类型客户端","page.banlog.charts.options.steps":"步长","page.banlog.charts.options.day":"天","page.banlog.charts.options.hour":"小时","page.banlog.charts.options.shortcut.6hours":"6 小时前","page.banlog.charts.options.shortcut.12hours":"12 小时前","page.banlog.charts.options.shortcut.24hours":"24 小时前","page.banlog.charts.options.shortcut.7days":"7 天前","page.banlog.charts.options.shortcut.14days":"14 天前","page.banlog.charts.options.shortcut.30days":"30 天前"},Eo={"page.topban.description":"此页面展示 PeerBanHelper 储存的封禁历史记录信息。","page.topban.title":"被封禁频率最高的 {topNumber} 个 IP 地址","page.topban.usage":"这是从数据库中记录的的封禁历史中分析得来的数据。如果某些 IP 地址持续被多次封禁，则可以考虑使用系统防火墙屏蔽这些 IP，或者向其他人分享这些恶意 IP 地址，以帮助更多人改善他们的屏蔽规则。","page.topban.onlyShow":"只展示前","page.topban.onlyShow.number":"个","page.topban.top50Table.searchPlaceholder":"搜索IP地址...","page.topban.top50Table.column.ipaddress":"IP 地址","page.topban.top50Table.column.historyCount":"历史封禁次数"},Uo={"page.ruleMetrices.title":"规则统计","page.ruleMetrices.description":"以下是规则统计信息，你可以通过规则命中次数（封禁次数）和运行次数来评估规则的有效性。","page.ruleMetrices.metricsTable.filter":"仅显示命中过的规则","page.ruleMetrices.metricsTable.column.type":"规则类型","page.ruleMetrices.metricsTable.column.content":"规则内容","page.ruleMetrices.metricsTable.column.run":"运行次数","page.ruleMetrices.metricsTable.column.hit":"命中次数"},Ao={"service.manifest.networkError":"网络故障，无法发起请求","service.manifest.parseError":"无法解析接口返回数据，请检查服务地址是否正确","service.manifest.formatError":"后端接口响应格式错误，请检查后端版本"},Ro={"login.form.login.success":"登录成功","login.form.title":"登录到 PeerBanHelper","login.form.password.placeholder":"请输入管理 Token","login.form.rememberPassword":"记住 Token","login.form.forgetPassword":"忘记 Token","login.form.password.errMsg":"请输入管理 Token","login.form.login.failed":"登录失败：","login.form.login":"登录"},zo={"page.oobe.action.next":"下一步","page.oobe.action.back":"上一步","page.oobe.steps.welcome":"欢迎","page.oobe.steps.setToken.title":"设置 Token","page.oobe.steps.setToken.description":"信息安全非常重要","page.oobe.steps.addDownloader.title":"添加下载器","page.oobe.steps.success.title":"初始化完成","page.oobe.steps.success.description":"开始使用！","page.oobe.welcome.title":"欢迎使用 PeerBanHelper!","page.oobe.welcome.description":"PeerbanHelper 是一个 BT 反吸血工具。通过连接到您的下载器的 WebUI，PeerBanHelper 可以使用这些信息检查并封禁恶意吸血者。在一切开始之前，让我们先进行一些简单配置。","page.oobe.setToken.title":"设置 Token","page.oobe.setToken.description":"首先你需要设置一个 Token，这个 Token 可以保护你的 WebUI 不被恶意访问，并保护您的隐私。务必确保强度够高。一旦您成功登陆过一次 WebUI，后续浏览器就会记住 Token 并自动登录。","page.oobe.setToken.generate":"随机生成","page.oobe.addDownloader.title":"添加你的第一个下载器","page.oobe.addDownloader.description":"首先选择你的下载器类型，随后填写相关认证信息。","page.oobe.addDownloader.test":"测试下载器","page.oobe.addDownloader.test.success":"测试成功","page.oobe.result.title":"初始化完成！","page.oobe.result.title.error":"初始化失败","page.oobe.result.description":"你已经完成了初始化，现在可以开始使用 PeerBanHelper 了！","page.oobe.result.goto":"开始使用","page.oobe.result.initlizing":"正在初始化，请稍后...","page.oobe.result.retry":"重试"},jo={"page.rule_management.ruleSubscribe.title":"规则订阅","page.rule_management.ruleSubscribe.description":"你可以在此处管理订阅的在线规则","page.rule_management.ruleSubscribe.updateAll":"更新全部","page.rule_management.ruleSubscribe.settingsTips":"自动更新设置","page.rule_management.ruleSubscribe.updateLog":"更新记录","page.rule_management.ruleSubscribe.column.ruleName":"规则名称","page.rule_management.ruleSubscribe.column.lastUpdated":"最后更新","page.rule_management.ruleSubscribe.column.notUpdated":"无","page.rule_management.ruleSubscribe.column.status":"启用状态","page.rule_management.ruleSubscribe.column.clickToCopy":"点击复制","page.rule_management.ruleSubscribe.column.actions":"操作","page.rule_management.ruleSubscribe.column.actions.edit":"编辑","page.rule_management.ruleSubscribe.column.actions.update":"更新","page.rule_management.ruleSubscribe.editModal.title":"编辑规则","page.rule_management.ruleSubscribe.editModal.title.new":"新建规则","page.rule_management.ruleSubscribe.editModal.form.name":"规则名称","page.rule_management.ruleSubscribe.editModal.form.id.extra":"规则ID，不允许重复","page.rule_management.ruleSubscribe.editModal.form.name.required":"请输入规则名称","page.rule_management.ruleSubscribe.addRule":"新增订阅","page.rule_management.ruleSubscribe.column.rulesCount":"规则数量","page.rule_management.ruleSubscribe.column.deleteConfirm":"确定删除这条规则吗？","page.rule_management.ruleSubscribe.settingsModal.title":"订阅设置","page.rule_management.ruleSubscribe.settingsModal.checkInterval":"更新间隔","page.rule_management.ruleSubscribe.updateLog.updateTime":"更新时间","page.rule_management.ruleSubscribe.updateLog.ruleCount":"规则数量","page.rule_management.ruleSubscribe.updateLog.updateType":"更新类型","page.rule_management.ruleSubscribe.updateLog.updateType.auto":"自动更新","page.rule_management.ruleSubscribe.updateLog.updateType.manual":"手动更新","page.rule_management.ruleSubscribe.updateLog.updateType.unknown":"未知","page.rule_management.ruleSubscribe.copySuccess":"已复制"},Do={"page.rule_management.ip":"IP","page.rule_management.asn":"ASN","page.rule_management.port":"端口","page.rule_management.region":"地区","page.rule_management.netType":"网络类型","page.rule_management.city":"城市","page.rule_management.generic.description":"您可以在这里管理基于{type}的规则。","page.rule_management.generic.addOne":"新增","page.rule_management.ip.placeholder":"192.168.1.0/24","page.rule_management.asn.placeholder":"114514","page.rule_management.port.placeholder":"8080","page.rule_management.region.placeholder":"CN","page.rule_management.city.placeholder":"Shanghai","page.rule_management.netType.placeholder":"宽带"},Bo={...jo,...Do},Oo={"navbar.action.locale":"切换为中文","navbar.action.autoUpdate":"自动刷新","navbar.action.autoUpdate.lastUpdate":"最后更新于：","main.workInProgressTips":"请注意，此功能仍在施工中，目前记录和展示的数据较为有限。","footer.newVersion":"发现新版本！","footer.newVersion.body":"{version} 已发布，点击查看","footer.newVersionTips":"有新版本 {version} 可用，点击查看","footer.newVersion.updateNow":"立即更新","router.login":"登录","router.dashboard":"状态","router.banlist":"封禁名单","router.banlogs":"封禁日志","router.topban":"最多封禁","router.ruleMetrics":"规则统计","router.rule_management":"规则管理","router.moduleNotEnable":"{moduleName}功能未启用","router.moduleNotEnable.tips":"请在配置文件中开启相关功能","router.moduleNotEnable.viewDoc":"查看文档",...Io,...Po,...No,...Mo,...Eo,...Uo,...Ao,...Ro,...zo,...Bo},xo=[{label:"中文",value:"zh-CN"},{label:"English",value:"en-US"}];function On(){return navigator.language.includes("zh")?"zh-CN":"en-US"}const nn={hour:{month:"short",day:"numeric",hour:"numeric"},short:{year:"numeric",month:"short",day:"numeric"},day:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},longlong:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}},Vo=la({locale:On(),fallbackLocale:"en-US",legacy:!1,messages:{"en-US":Co,"zh-CN":Oo},datetimeFormats:{"en-US":nn,"zh-CN":nn}}),Ho={"en-US":go,"zh-CN":Ia};function F(e=!0){var o;const{authToken:t}=A(),n=((o=document.querySelector("html"))==null?void 0:o.getAttribute("lang"))||On(),a=new Headers;return a.set("Accept-Language",n),e&&a.set("Authorization",`Bearer ${t}`),a}function qo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xn={exports:{}},Q=xn.exports={},_e,ve;function Mt(){throw new Error("setTimeout has not been defined")}function Et(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?_e=setTimeout:_e=Mt}catch{_e=Mt}try{typeof clearTimeout=="function"?ve=clearTimeout:ve=Et}catch{ve=Et}})();function Vn(e){if(_e===setTimeout)return setTimeout(e,0);if((_e===Mt||!_e)&&setTimeout)return _e=setTimeout,setTimeout(e,0);try{return _e(e,0)}catch{try{return _e.call(null,e,0)}catch{return _e.call(this,e,0)}}}function Fo(e){if(ve===clearTimeout)return clearTimeout(e);if((ve===Et||!ve)&&clearTimeout)return ve=clearTimeout,clearTimeout(e);try{return ve(e)}catch{try{return ve.call(null,e)}catch{return ve.call(this,e)}}}var Se=[],xe=!1,Me,ot=-1;function Wo(){!xe||!Me||(xe=!1,Me.length?Se=Me.concat(Se):ot=-1,Se.length&&Hn())}function Hn(){if(!xe){var e=Vn(Wo);xe=!0;for(var t=Se.length;t;){for(Me=Se,Se=[];++ot<t;)Me&&Me[ot].run();ot=-1,t=Se.length}Me=null,xe=!1,Fo(e)}}Q.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Se.push(new qn(e,t)),Se.length===1&&!xe&&Vn(Hn)};function qn(e,t){this.fun=e,this.array=t}qn.prototype.run=function(){this.fun.apply(null,this.array)};Q.title="browser";Q.browser=!0;Q.env={};Q.argv=[];Q.version="";Q.versions={};function Te(){}Q.on=Te;Q.addListener=Te;Q.once=Te;Q.off=Te;Q.removeListener=Te;Q.removeAllListeners=Te;Q.emit=Te;Q.prependListener=Te;Q.prependOnceListener=Te;Q.listeners=function(e){return[]};Q.binding=function(e){throw new Error("process.binding is not supported")};Q.cwd=function(){return"/"};Q.chdir=function(e){throw new Error("process.chdir is not supported")};Q.umask=function(){return 0};var Zo=xn.exports;const Ze=qo(Zo);function ct(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Ze=="object"&&Ze.version!==void 0?`Node.js/${Ze.version.substr(1)} (${Ze.platform}; ${Ze.arch})`:"<environment undetectable>"}function Gt(e,t,n,a){if(typeof n!="function")throw new Error("method for before hook must be a function");return a||(a={}),Array.isArray(t)?t.reverse().reduce((o,i)=>Gt.bind(null,e,i,o,a),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((o,i)=>i.hook.bind(null,o,a),n)():n(a))}function Go(e,t,n,a){const o=a;e.registry[n]||(e.registry[n]=[]),t==="before"&&(a=(i,r)=>Promise.resolve().then(o.bind(null,r)).then(i.bind(null,r))),t==="after"&&(a=(i,r)=>{let u;return Promise.resolve().then(i.bind(null,r)).then(p=>(u=p,o(u,r))).then(()=>u)}),t==="error"&&(a=(i,r)=>Promise.resolve().then(i.bind(null,r)).catch(u=>o(u,r))),e.registry[n].push({hook:a,orig:o})}function Ko(e,t,n){if(!e.registry[t])return;const a=e.registry[t].map(o=>o.orig).indexOf(n);a!==-1&&e.registry[t].splice(a,1)}const an=Function.bind,on=an.bind(an);function Fn(e,t,n){const a=on(Ko,null).apply(null,n?[t,n]:[t]);e.api={remove:a},e.remove=a,["before","error","after","wrap"].forEach(o=>{const i=n?[t,o,n]:[t,o];e[o]=e.api[o]=on(Go,null).apply(null,i)})}function Jo(){const e=Symbol("Singular"),t={registry:{}},n=Gt.bind(null,t,e);return Fn(n,t,e),n}function Yo(){const e={registry:{}},t=Gt.bind(null,e);return Fn(t,e),t}const Xo={Singular:Jo,Collection:Yo};var Qo="0.0.0-development",es=`octokit-endpoint.js/${Qo} ${ct()}`,ts={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":es},mediaType:{format:""}};function ns(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function as(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function Wn(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(a=>{as(t[a])?a in e?n[a]=Wn(e[a],t[a]):Object.assign(n,{[a]:t[a]}):Object.assign(n,{[a]:t[a]})}),n}function sn(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function Ut(e,t,n){var o;if(typeof t=="string"){let[i,r]=t.split(" ");n=Object.assign(r?{method:i,url:r}:{url:i},n)}else n=Object.assign({},t);n.headers=ns(n.headers),sn(n),sn(n.headers);const a=Wn(e||{},n);return n.url==="/graphql"&&(e&&((o=e.mediaType.previews)!=null&&o.length)&&(a.mediaType.previews=e.mediaType.previews.filter(i=>!a.mediaType.previews.includes(i)).concat(a.mediaType.previews)),a.mediaType.previews=(a.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),a}function os(e,t){const n=/\?/.test(e)?"&":"?",a=Object.keys(t);return a.length===0?e:e+n+a.map(o=>o==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${o}=${encodeURIComponent(t[o])}`).join("&")}var ss=/\{[^}]+\}/g;function rs(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function ls(e){const t=e.match(ss);return t?t.map(rs).reduce((n,a)=>n.concat(a),[]):[]}function rn(e,t){const n={__proto__:null};for(const a of Object.keys(e))t.indexOf(a)===-1&&(n[a]=e[a]);return n}function Zn(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function Be(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Ge(e,t,n){return t=e==="+"||e==="#"?Zn(t):Be(t),n?Be(n)+"="+t:t}function ze(e){return e!=null}function pt(e){return e===";"||e==="&"||e==="?"}function is(e,t,n,a){var o=e[n],i=[];if(ze(o)&&o!=="")if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")o=o.toString(),a&&a!=="*"&&(o=o.substring(0,parseInt(a,10))),i.push(Ge(t,o,pt(t)?n:""));else if(a==="*")Array.isArray(o)?o.filter(ze).forEach(function(r){i.push(Ge(t,r,pt(t)?n:""))}):Object.keys(o).forEach(function(r){ze(o[r])&&i.push(Ge(t,o[r],r))});else{const r=[];Array.isArray(o)?o.filter(ze).forEach(function(u){r.push(Ge(t,u))}):Object.keys(o).forEach(function(u){ze(o[u])&&(r.push(Be(u)),r.push(Ge(t,o[u].toString())))}),pt(t)?i.push(Be(n)+"="+r.join(",")):r.length!==0&&i.push(r.join(","))}else t===";"?ze(o)&&i.push(Be(n)):o===""&&(t==="&"||t==="?")?i.push(Be(n)+"="):o===""&&i.push("");return i}function cs(e){return{expand:us.bind(null,e)}}function us(e,t){var n=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(a,o,i){if(o){let u="";const p=[];if(n.indexOf(o.charAt(0))!==-1&&(u=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(h){var m=/([^:\*]*)(?::(\d+)|(\*))?/.exec(h);p.push(is(t,u,m[1],m[2]||m[3]))}),u&&u!=="+"){var r=",";return u==="?"?r="&":u!=="#"&&(r=u),(p.length!==0?u:"")+p.join(r)}else return p.join(",")}else return Zn(i)}),e==="/"?e:e.replace(/\/$/,"")}function Gn(e){var m;let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),a=Object.assign({},e.headers),o,i=rn(e,["method","baseUrl","url","headers","request","mediaType"]);const r=ls(n);n=cs(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const u=Object.keys(e).filter(d=>r.includes(d)).concat("baseUrl"),p=rn(i,u);if(!/application\/octet-stream/i.test(a.accept)&&(e.mediaType.format&&(a.accept=a.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),n.endsWith("/graphql")&&(m=e.mediaType.previews)!=null&&m.length)){const d=a.accept.match(/[\w-]+(?=-preview)/g)||[];a.accept=d.concat(e.mediaType.previews).map(y=>{const S=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${y}-preview${S}`}).join(",")}return["GET","HEAD"].includes(t)?n=os(n,p):"data"in p?o=p.data:Object.keys(p).length&&(o=p),!a["content-type"]&&typeof o<"u"&&(a["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof o>"u"&&(o=""),Object.assign({method:t,url:n,headers:a},typeof o<"u"?{body:o}:null,e.request?{request:e.request}:null)}function ds(e,t,n){return Gn(Ut(e,t,n))}function Kn(e,t){const n=Ut(e,t),a=ds.bind(null,n);return Object.assign(a,{DEFAULTS:n,defaults:Kn.bind(null,n),merge:Ut.bind(null,n),parse:Gn})}var ps=Kn(null,ts);class Ke extends Error{constructor(n,a,o){super(n);J(this,"name");J(this,"status");J(this,"request");J(this,"response");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=a,"response"in o&&(this.response=o.response);const i=Object.assign({},o.request);o.request.headers.authorization&&(i.headers=Object.assign({},o.request.headers,{authorization:o.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}}var ms="0.0.0-development";function gs(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}function bs(e){return e.arrayBuffer()}function ln(e){var u,p,h,m;const t=e.request&&e.request.log?e.request.log:console,n=((u=e.request)==null?void 0:u.parseSuccessResponseBody)!==!1;(gs(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let a={},o,i,{fetch:r}=globalThis;if((p=e.request)!=null&&p.fetch&&(r=e.request.fetch),!r)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return r(e.url,{method:e.method,body:e.body,redirect:(h=e.request)==null?void 0:h.redirect,headers:Object.fromEntries(Object.entries(e.headers).map(([d,y])=>[d,String(y)])),signal:(m=e.request)==null?void 0:m.signal,...e.body&&{duplex:"half"}}).then(async d=>{i=d.url,o=d.status;for(const y of d.headers)a[y[0]]=y[1];if("deprecation"in a){const y=a.link&&a.link.match(/<([^>]+)>; rel="deprecation"/),S=y&&y.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${a.sunset}${S?`. See ${S}`:""}`)}if(!(o===204||o===205)){if(e.method==="HEAD"){if(o<400)return;throw new Ke(d.statusText,o,{response:{url:i,status:o,headers:a,data:void 0},request:e})}if(o===304)throw new Ke("Not modified",o,{response:{url:i,status:o,headers:a,data:await mt(d)},request:e});if(o>=400){const y=await mt(d);throw new Ke(fs(y),o,{response:{url:i,status:o,headers:a,data:y},request:e})}return n?await mt(d):d.body}}).then(d=>({status:o,url:i,headers:a,data:d})).catch(d=>{if(d instanceof Ke)throw d;if(d.name==="AbortError")throw d;let y=d.message;throw d.name==="TypeError"&&"cause"in d&&(d.cause instanceof Error?y=d.cause.message:typeof d.cause=="string"&&(y=d.cause)),new Ke(y,500,{request:e})})}async function mt(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():bs(e)}function fs(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function At(e,t){const n=e.defaults(t);return Object.assign(function(o,i){const r=n.merge(o,i);if(!r.request||!r.request.hook)return ln(n.parse(r));const u=(p,h)=>ln(n.parse(n.merge(p,h)));return Object.assign(u,{endpoint:n,defaults:At.bind(null,n)}),r.request.hook(u,r)},{endpoint:n,defaults:At.bind(null,n)})}var Rt=At(ps,{headers:{"user-agent":`octokit-request.js/${ms} ${ct()}`}}),hs="0.0.0-development";function _s(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var vs=class extends Error{constructor(t,n,a){super(_s(a));J(this,"name","GraphqlResponseError");J(this,"errors");J(this,"data");this.request=t,this.headers=n,this.response=a,this.errors=a.errors,this.data=a.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ys=["method","baseUrl","url","headers","request","query","mediaType"],ks=["query","method","url"],cn=/\/api\/v3\/?$/;function ws(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const r in n)if(ks.includes(r))return Promise.reject(new Error(`[@octokit/graphql] "${r}" cannot be used as variable name`))}const a=typeof t=="string"?Object.assign({query:t},n):t,o=Object.keys(a).reduce((r,u)=>ys.includes(u)?(r[u]=a[u],r):(r.variables||(r.variables={}),r.variables[u]=a[u],r),{}),i=a.baseUrl||e.endpoint.DEFAULTS.baseUrl;return cn.test(i)&&(o.url=i.replace(cn,"/api/graphql")),e(o).then(r=>{if(r.data.errors){const u={};for(const p of Object.keys(r.headers))u[p]=r.headers[p];throw new vs(o,u,r.data)}return r.data.data})}function Kt(e,t){const n=e.defaults(t);return Object.assign((o,i)=>ws(n,o,i),{defaults:Kt.bind(null,n),endpoint:n.endpoint})}Kt(Rt,{headers:{"user-agent":`octokit-graphql.js/${hs} ${ct()}`},method:"POST",url:"/graphql"});function Ss(e){return Kt(e,{method:"POST",url:"/graphql"})}var Ls=/^v1\./,Ts=/^ghs_/,$s=/^ghu_/;async function Cs(e){const t=e.split(/\./).length===3,n=Ls.test(e)||Ts.test(e),a=$s.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":a?"user-to-server":"oauth"}}function Is(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function Ps(e,t,n,a){const o=t.endpoint.merge(n,a);return o.headers.authorization=Is(e),t(o)}var Ns=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(Cs.bind(null,t),{hook:Ps.bind(null,t)})};const Jn="6.1.2",un=()=>{},Ms=console.warn.bind(console),Es=console.error.bind(console),dn=`octokit-core.js/${Jn} ${ct()}`;class zt{constructor(t={}){J(this,"request");J(this,"graphql");J(this,"log");J(this,"hook");J(this,"auth");const n=new Xo.Collection,a={baseUrl:Rt.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(a.headers["user-agent"]=t.userAgent?`${t.userAgent} ${dn}`:dn,t.baseUrl&&(a.baseUrl=t.baseUrl),t.previews&&(a.mediaType.previews=t.previews),t.timeZone&&(a.headers["time-zone"]=t.timeZone),this.request=Rt.defaults(a),this.graphql=Ss(this.request).defaults(a),this.log=Object.assign({debug:un,info:un,warn:Ms,error:Es},t.log),this.hook=n,t.authStrategy){const{authStrategy:i,...r}=t,u=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:r},t.auth));n.wrap("request",u.hook),this.auth=u}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const i=Ns(t.auth);n.wrap("request",i.hook),this.auth=i}const o=this.constructor;for(let i=0;i<o.plugins.length;++i)Object.assign(this,o.plugins[i](this,t))}static defaults(t){return class extends this{constructor(...a){const o=a[0]||{};if(typeof t=="function"){super(t(o));return}super(Object.assign({},t,o,o.userAgent&&t.userAgent?{userAgent:`${o.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var o;const n=this.plugins;return o=class extends this{},J(o,"plugins",n.concat(t.filter(i=>!n.includes(i)))),o}}J(zt,"VERSION",Jn),J(zt,"plugins",[]);const Je=class Je extends Error{constructor(n,a=!0){super(n);J(this,"name",Je.name);this.isApiWrong=a}static is(n){return(n==null?void 0:n.name)===Je.name}};J(Je,"name","GetManifestError");let Ve=Je;function Us(e=A().accessToken){return new zt({auth:e}).request("GET /repos/{owner}/{repo}/releases/latest",{owner:"PBH-BTN",repo:"PeerBanHelper",headers:{"X-GitHub-Api-Version":"2022-11-28"}}).then(n=>n.data)}function As(e=A().endpoint){const t=new URL(q(e,"/api/metadata/manifest"),location.href);return fetch(t,{headers:F(!1)}).catch(()=>{throw new Ve("service.manifest.networkError",!1)}).then(n=>n.json().catch(()=>{throw new Ve("service.manifest.parseError")})).then(n=>n.data).then(n=>{if(!Array.isArray(n.modules)||typeof n.version!="object")throw new Ve("service.manifest.formatError");return n})}const Ye=class Ye extends Error{constructor(){super(...arguments);J(this,"name",Ye.name)}static is(n){return(n==null?void 0:n.name)===Ye.name}};J(Ye,"name","IncorrectTokenError");let Ee=Ye;const Xe=class Xe extends Error{constructor(){super(...arguments);J(this,"name",Xe.name)}static is(n){return(n==null?void 0:n.name)===Xe.name}};J(Xe,"name","NeedInitError");let Ue=Xe;async function Rs(e){const t=A(),n=new URL(q(t.endpoint,"/api/auth/login"),location.href);return fetch(n,{headers:F(!1),method:"POST",body:JSON.stringify({token:e}),redirect:"manual"}).then(async a=>{if(a.status===0&&a.type==="opaqueredirect")throw new Ue("need init");const o=await a.json();if(a.status===401)throw new Ee(o.message);if(a.status!==200)throw new Error(o.message)})}const zs=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,pn=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(zs);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},mn=e=>e==="*"||e==="x"||e==="X",gn=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},js=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],Ds=(e,t)=>{if(mn(e)||mn(t))return 0;const[n,a]=js(gn(e),gn(t));return n>a?1:n<a?-1:0},bn=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const a=Ds(e[n]||"0",t[n]||"0");if(a!==0)return a}return 0},Bs=(e,t)=>{const n=pn(e),a=pn(t),o=n.pop(),i=a.pop(),r=bn(n,a);return r!==0?r:o&&i?bn(o.split("."),i.split(".")):o||i?o?-1:1:0},Yn=(e,t,n)=>{Os(n);const a=Bs(e,t);return Xn[n].includes(a)},Xn={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},fn=Object.keys(Xn),Os=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(fn.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${fn.join("|")}`)};function hn(){let e;const t=new Promise(n=>e=n);return Object.assign(t,{resolve:e})}function xs(e,t){return e?e.modules.some(n=>n.className===t):null}const A=rt("endpoint",()=>{const e=Oe("endpoint",""),t=Oe("accessToken",""),n=Oe("authToken","",void 0,{writeDefaults:!1}),a=M(n.value),o=M(),i=M(hn()),r=()=>{const _=hn();return i.value.resolve(_),i.value=_,_},u=M(),p=M("checking"),h=M(null),m=M(null),d=async(_,k=!1)=>{if(u.value&&Yn(u.value.version.version,"4.0.0","<"))return;_&&(a.value=_),_&&k&&(n.value=_);const E=p.value==="checking";E||r();try{await Rs(_??""),E||(i.value.resolve(),h.value=null,p.value="pass")}catch($){if(!E&&(h.value=$,Ee.is($)&&(p.value="needLogin"),Ue.is($))){p.value="needInit";return}throw $}},y=async _=>{p.value="checking",e.value=_,r();try{u.value=await As(_);try{await d(a.value)}catch(k){throw Ee.is(k)&&(p.value="needLogin"),Ue.is(k)&&(p.value="needInit"),k}return i.value.resolve(),h.value=null,p.value="pass",!0}catch(k){return h.value=k,p.value==="checking"&&(p.value="fail"),!1}},S=async _=>{t.value=_;try{const k=await Us();o.value={tagName:k.tag_name,url:k.html_url}}catch(k){m.value=k,console.error("Failed to get version:",k)}};return y(e.value),setTimeout(async()=>S(t.value),3e3),{endpoint:ke(e),serverAvailable:ke(i),serverManifest:ke(u),loading:T(()=>p.value==="checking"),status:ke(p),error:ke(h),checkUpgradeError:ke(m),accessToken:ke(t),latestVersion:ke(o),setEndpoint:y,setAccessToken:S,authToken:ke(a),setAuthToken:d,assertResponseLogin:_=>{if(_.status===403)throw d(null),new Ee;if(_.status===303)throw new Ue}}}),Vs=["href","title"],Hs={key:1},qs=z({__name:"pageFooter",setup(e){const{t}=X(),n="2.2.0",a=`764037548211e614268069faf381f562d0d6584a
`,o=A(),i=T(()=>{var p;return(p=o.serverManifest)==null?void 0:p.version}),r=T(()=>o.latestVersion),u=T(()=>{var p,h;return Yn(((p=o.latestVersion)==null?void 0:p.tagName)??"1.0",((h=o.serverManifest)==null?void 0:h.version.version)??"1.0",">")});return ge(u,()=>{var p;u.value&&Pa.info({title:t("footer.newVersion"),content:t("footer.newVersion.body",{version:(p=r.value)==null?void 0:p.tagName}),footer:()=>{var h;return de(ye,{href:(h=r.value)==null?void 0:h.url,type:"primary"},[t("footer.newVersion.updateNow")])},duration:5e3,closable:!0})}),ge(()=>o.checkUpgradeError,p=>{G.error(`${t("settings.accessToken.error")},error:${p}`)}),(p,h)=>{const m=Na,d=Ln,y=ee,S=Bt,_=Ot,k=Tn,E=$n;return g(),w(E,{align:"center",justify:"center"},{default:s(()=>[l(k,{class:"footer"},{default:s(()=>[l(_,{column:{xs:1,md:3,lg:4}},{default:s(()=>[l(S,{label:"Backend Version"},{default:s(()=>[l(y,null,{default:s(()=>{var $,C,P,v;return[u.value?(g(),D("a",{key:0,href:($=r.value)==null?void 0:$.url,title:c(t)("footer.newVersionTips",{version:(C=r.value)==null?void 0:C.tagName})},[l(m,{dot:"",count:1,offset:[8,-1]},{default:s(()=>{var L;return[b(f((L=i.value)==null?void 0:L.version),1)]}),_:1})],8,Vs)):(g(),D("div",Hs,f((P=i.value)==null?void 0:P.version),1)),j("div",null,[b(" ("),l(d,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(v=i.value)==null?void 0:v.commit}`},{default:s(()=>{var L;return[b(f((L=i.value)==null?void 0:L.commit.substring(0,8)),1)]}),_:1},8,["href"]),b(") ")])]}),_:1})]),_:1}),l(S,{label:"WebUI Version"},{default:s(()=>[l(y,null,{default:s(()=>[b(f(c(n))+" ",1),j("div",null,[b(" ("),l(d,{href:`https://github.com/Gaojianli/pbh-fe/commit/${c(a)}`},{default:s(()=>[b(f(c(a).substring(0,8)),1)]),_:1},8,["href"]),b(") ")])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),ae=(e,t)=>{const n=e.__vccOpts||e;for(const[a,o]of t)n[a]=o;return n},Fs=ae(qs,[["__scopeId","data-v-c1b0125c"]]),Ws=z({name:"IconArrowDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-arrow-down`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),Zs=["stroke-width","stroke-linecap","stroke-linejoin"],Gs=j("path",{d:"m11.27 27.728 12.727 12.728 12.728-12.728M24 5v34.295"},null,-1),Ks=[Gs];function Js(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Ks,14,Zs)}var gt=oe(Ws,[["render",Js]]);const Jt=Object.assign(gt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+gt.name,gt)}}),Ys=z({name:"IconArrowUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-arrow-up`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),Xs=["stroke-width","stroke-linecap","stroke-linejoin"],Qs=j("path",{d:"M11.27 20.272 23.997 7.544l12.728 12.728M24 43V8.705"},null,-1),er=[Qs];function tr(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},er,14,Xs)}var bt=oe(Ys,[["render",tr]]);const Yt=Object.assign(bt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+bt.name,bt)}}),nr=z({name:"IconExclamationPolygonFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-exclamation-polygon-fill`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),ar=["stroke-width","stroke-linecap","stroke-linejoin"],or=j("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.553 4a1 1 0 0 0-.74.327L4.26 15.937a1 1 0 0 0-.26.672V31.39a1 1 0 0 0 .26.673l10.553 11.609a1 1 0 0 0 .74.327h16.893a1 1 0 0 0 .74-.327l10.554-11.61a1 1 0 0 0 .26-.672V16.61a1 1 0 0 0-.26-.673L33.187 4.327a1 1 0 0 0-.74-.327H15.553ZM22 33a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2Zm4-18a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V15Z",fill:"currentColor",stroke:"none"},null,-1),sr=[or];function rr(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},sr,14,ar)}var ft=oe(nr,[["render",rr]]);const lr=Object.assign(ft,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+ft.name,ft)}}),ir=z({name:"IconQuestionCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-question-circle-fill`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),cr=["stroke-width","stroke-linecap","stroke-linejoin"],ur=j("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm-3.862-24.021a.461.461 0 0 0 .462-.462 2.37 2.37 0 0 1 .636-1.615C21.64 17.48 22.43 17 23.988 17c1.465 0 2.483.7 3.002 1.493.555.848.446 1.559.182 1.914-.328.444-.736.853-1.228 1.296-.15.135-.335.296-.533.468-.354.308-.75.654-1.067.955C23.22 24.195 22 25.686 22 28v.013a1 1 0 0 0 1.006.993l2.008-.012a.993.993 0 0 0 .986-1c.002-.683.282-1.19 1.101-1.97.276-.262.523-.477.806-.722.21-.18.439-.379.713-.626.57-.513 1.205-1.13 1.767-1.888 1.516-2.047 1.161-4.634-.05-6.485C29.092 14.398 26.825 13 23.988 13c-2.454 0-4.357.794-5.642 2.137-1.25 1.307-1.742 2.954-1.746 4.37 0 .26.21.472.47.472h3.068Zm1.868 14.029a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V32a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2.008Z",fill:"currentColor",stroke:"none"},null,-1),dr=[ur];function pr(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},dr,14,cr)}var ht=oe(ir,[["render",pr]]);const mr=Object.assign(ht,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+ht.name,ht)}}),gr=z({name:"IconInfoCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-info-circle`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),br=["stroke-width","stroke-linecap","stroke-linejoin"],fr=j("path",{d:"M24 20v14m0-16v-4m18 10c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),hr=[fr];function _r(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},hr,14,br)}var _t=oe(gr,[["render",_r]]);const Xt=Object.assign(_t,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+_t.name,_t)}}),vr=z({name:"IconPlusCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-plus-circle`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),yr=["stroke-width","stroke-linecap","stroke-linejoin"],kr=j("path",{d:"M32 24h-8m-8 0h8m0 0v8m0-8v-8m18 8c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),wr=[kr];function Sr(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},wr,14,yr)}var vt=oe(vr,[["render",Sr]]);const Qn=Object.assign(vt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+vt.name,vt)}}),Lr=z({name:"IconStop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-stop`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),Tr=["stroke-width","stroke-linecap","stroke-linejoin"],$r=j("path",{d:"M36.728 36.728c7.03-7.03 7.03-18.427 0-25.456-7.03-7.03-18.427-7.03-25.456 0m25.456 25.456c-7.03 7.03-18.427 7.03-25.456 0-7.03-7.03-7.03-18.427 0-25.456m25.456 25.456L11.272 11.272"},null,-1),Cr=[$r];function Ir(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Cr,14,Tr)}var yt=oe(Lr,[["render",Ir]]);const Pr=Object.assign(yt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+yt.name,yt)}}),Nr=z({name:"IconHistory",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-history`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),Mr=["stroke-width","stroke-linecap","stroke-linejoin"],Er=j("path",{d:"M6 24c0-9.941 8.059-18 18-18s18 8.059 18 18-8.059 18-18 18c-6.26 0-11.775-3.197-15-8.047M6 24l-.5-.757h1L6 24Zm26 2h-9v-9"},null,-1),Ur=[Er];function Ar(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Ur,14,Mr)}var kt=oe(Nr,[["render",Ar]]);const Rr=Object.assign(kt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+kt.name,kt)}}),zr=z({name:"IconRefresh",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-refresh`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),jr=["stroke-width","stroke-linecap","stroke-linejoin"],Dr=j("path",{d:"M38.837 18C36.463 12.136 30.715 8 24 8 15.163 8 8 15.163 8 24s7.163 16 16 16c7.455 0 13.72-5.1 15.496-12M40 8v10H30"},null,-1),Br=[Dr];function Or(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Br,14,jr)}var wt=oe(zr,[["render",Or]]);const ea=Object.assign(wt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+wt.name,wt)}}),xr=z({name:"IconSettings",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-settings`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),Vr=["stroke-width","stroke-linecap","stroke-linejoin"],Hr=j("path",{d:"M18.797 6.732A1 1 0 0 1 19.76 6h8.48a1 1 0 0 1 .964.732l1.285 4.628a1 1 0 0 0 1.213.7l4.651-1.2a1 1 0 0 1 1.116.468l4.24 7.344a1 1 0 0 1-.153 1.2L38.193 23.3a1 1 0 0 0 0 1.402l3.364 3.427a1 1 0 0 1 .153 1.2l-4.24 7.344a1 1 0 0 1-1.116.468l-4.65-1.2a1 1 0 0 0-1.214.7l-1.285 4.628a1 1 0 0 1-.964.732h-8.48a1 1 0 0 1-.963-.732L17.51 36.64a1 1 0 0 0-1.213-.7l-4.65 1.2a1 1 0 0 1-1.116-.468l-4.24-7.344a1 1 0 0 1 .153-1.2L9.809 24.7a1 1 0 0 0 0-1.402l-3.364-3.427a1 1 0 0 1-.153-1.2l4.24-7.344a1 1 0 0 1 1.116-.468l4.65 1.2a1 1 0 0 0 1.213-.7l1.286-4.628Z"},null,-1),qr=j("path",{d:"M30 24a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},null,-1),Fr=[Hr,qr];function Wr(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Fr,14,Vr)}var St=oe(xr,[["render",Wr]]);const ta=Object.assign(St,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+St.name,St)}}),Zr=z({name:"IconMoonFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-moon-fill`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),Gr=["stroke-width","stroke-linecap","stroke-linejoin"],Kr=j("path",{d:"M42.108 29.769c.124-.387-.258-.736-.645-.613A17.99 17.99 0 0 1 36 30c-9.941 0-18-8.059-18-18 0-1.904.296-3.74.844-5.463.123-.387-.226-.768-.613-.645C10.558 8.334 5 15.518 5 24c0 10.493 8.507 19 19 19 8.482 0 15.666-5.558 18.108-13.231Z",fill:"currentColor",stroke:"none"},null,-1),Jr=[Kr];function Yr(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Jr,14,Gr)}var Lt=oe(Zr,[["render",Yr]]);const Xr=Object.assign(Lt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Lt.name,Lt)}}),Qr=z({name:"IconSunFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-sun-fill`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),el=["stroke-width","stroke-linecap","stroke-linejoin"],tl=j("circle",{cx:"24",cy:"24",r:"9",fill:"currentColor",stroke:"none"},null,-1),nl=j("path",{d:"M21 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM21 37.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5ZM42.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM10.5 21a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h5ZM39.203 34.96a.5.5 0 0 1 0 .707l-3.536 3.536a.5.5 0 0 1-.707 0l-3.535-3.536a.5.5 0 0 1 0-.707l3.535-3.535a.5.5 0 0 1 .707 0l3.536 3.535ZM16.575 12.333a.5.5 0 0 1 0 .707l-3.535 3.535a.5.5 0 0 1-.707 0L8.797 13.04a.5.5 0 0 1 0-.707l3.536-3.536a.5.5 0 0 1 .707 0l3.535 3.536ZM13.04 39.203a.5.5 0 0 1-.707 0l-3.536-3.536a.5.5 0 0 1 0-.707l3.536-3.535a.5.5 0 0 1 .707 0l3.536 3.535a.5.5 0 0 1 0 .707l-3.536 3.536ZM35.668 16.575a.5.5 0 0 1-.708 0l-3.535-3.535a.5.5 0 0 1 0-.707l3.535-3.536a.5.5 0 0 1 .708 0l3.535 3.536a.5.5 0 0 1 0 .707l-3.535 3.535Z",fill:"currentColor",stroke:"none"},null,-1),al=[tl,nl];function ol(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},al,14,el)}var Tt=oe(Qr,[["render",ol]]);const sl=Object.assign(Tt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Tt.name,Tt)}}),rl=z({name:"IconCloud",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-cloud`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),ll=["stroke-width","stroke-linecap","stroke-linejoin"],il=j("path",{d:"M5 29a9 9 0 0 0 9 9h19c5.523 0 10-4.477 10-10 0-5.312-4.142-9.657-9.373-9.98C32.3 12.833 27.598 9 22 9c-6.606 0-11.965 5.338-12 11.935A9 9 0 0 0 5 29Z"},null,-1),cl=[il];function ul(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},cl,14,ll)}var $t=oe(rl,[["render",ul]]);const dl=Object.assign($t,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+$t.name,$t)}}),pl=z({name:"IconLanguage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-language`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),ml=["stroke-width","stroke-linecap","stroke-linejoin"],gl=j("path",{d:"m42 43-2.385-6M26 43l2.384-6m11.231 0-.795-2-4.18-10h-1.28l-4.181 10-.795 2m11.231 0h-11.23M17 5l1 5M5 11h26M11 11s1.889 7.826 6.611 12.174C22.333 27.522 30 31 30 31"},null,-1),bl=j("path",{d:"M25 11s-1.889 7.826-6.611 12.174C13.667 27.522 6 31 6 31"},null,-1),fl=[gl,bl];function hl(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},fl,14,ml)}var Ct=oe(pl,[["render",hl]]);const _l=Object.assign(Ct,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Ct.name,Ct)}}),vl=z({name:"IconLocation",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-location`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),yl=["stroke-width","stroke-linecap","stroke-linejoin"],kl=j("circle",{cx:"24",cy:"19",r:"5"},null,-1),wl=j("path",{d:"M39 20.405C39 28.914 24 43 24 43S9 28.914 9 20.405C9 11.897 15.716 5 24 5c8.284 0 15 6.897 15 15.405Z"},null,-1),Sl=[kl,wl];function Ll(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},Sl,14,yl)}var It=oe(vl,[["render",Ll]]);const Tl=Object.assign(It,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+It.name,It)}}),$l=z({name:"IconStorage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=se("icon"),a=T(()=>[n,`${n}-storage`,{[`${n}-spin`]:e.spin}]),o=T(()=>{const r={};return e.size&&(r.fontSize=re(e.size)?`${e.size}px`:e.size),e.rotate&&(r.transform=`rotate(${e.rotate}deg)`),r});return{cls:a,innerStyle:o,onClick:r=>{t("click",r)}}}}),Cl=["stroke-width","stroke-linecap","stroke-linejoin"],Il=j("path",{d:"M7 18h34v12H7V18ZM40 6H8a1 1 0 0 0-1 1v11h34V7a1 1 0 0 0-1-1ZM7 30h34v11a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V30Z"},null,-1),Pl=j("path",{d:"M13.02 36H13v.02h.02V36Z"},null,-1),Nl=j("path",{d:"M13 12v-2h-2v2h2Zm.02 0h2v-2h-2v2Zm0 .02v2h2v-2h-2Zm-.02 0h-2v2h2v-2ZM13 14h.02v-4H13v4Zm-1.98-2v.02h4V12h-4Zm2-1.98H13v4h.02v-4Zm1.98 2V12h-4v.02h4Z",fill:"currentColor",stroke:"none"},null,-1),Ml=j("path",{d:"M13.02 24H13v.02h.02V24Z"},null,-1),El=[Il,Pl,Nl,Ml];function Ul(e,t,n,a,o,i){return g(),D("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...r)=>e.onClick&&e.onClick(...r))},El,14,Cl)}var Pt=oe($l,[["render",Ul]]);const Al=Object.assign(Pt,{install:(e,t)=>{var n;const a=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(a+Pt.name,Pt)}}),na=""+new URL("logo-dark-DcGjb6Oz.png",import.meta.url).href,aa=""+new URL("logo-_lfdynTd.png",import.meta.url).href,$e=rt("autoUpdate",()=>{const e=M(new Date),t=Oe("autoUpdate.enable",!0),n=Oe("autoUpdate.interval",3e3),a=T(()=>t.value?n.value:-1);function o(){e.value=new Date}return{lastUpdate:e,autoUpdate:t,interval:n,pollingInterval:a,renewLastUpdate:o}}),Rl={href:"https://github.com/settings/tokens"},zl=z({__name:"settingsModal",setup(e,{expose:t}){const n=A(),a=$e(),o=M(!1),i=T(()=>n.loading),r=T(()=>n.status==="fail"),u=M({endpoint:n.endpoint,interval:a.interval,accessToken:n.accessToken}),{t:p}=X();function h(){u.value.endpoint=n.endpoint,u.value.interval=a.interval}t({showModal:()=>{o.value=!0,h()}});const m=()=>{if(!i.value)return a.interval=u.value.interval,n.setAccessToken(u.value.accessToken),n.setEndpoint(u.value.endpoint)};ge(()=>n.error,S=>{Ee.is(S)||Ue.is(S)?d():Ve.is(S)?(G.error(p(S.message)),!o.value&&S.isApiWrong&&(o.value=!0,h())):S&&(G.error(`${p("settings.endpoint.error")},error:${S}`),o.value||(o.value=!0,h()))},{immediate:!0});const d=()=>{o.value=!1,h()},y=lt(M({md:1}),0);return(S,_)=>{const k=xt,E=Cn,$=Ma,C=Dt("i18n-t"),P=In,v=Vt;return g(),w(v,{"modal-style":{"max-width":"80vw"},visible:o.value,"onUpdate:visible":_[3]||(_[3]=L=>o.value=L),onBeforeOk:m,onCancel:d,closable:!r.value,maskClosable:!r.value,"hide-cancel":r.value,"ok-loading":i.value},{title:s(()=>[b(f(c(p)("settings.modal.title")),1)]),default:s(()=>[l(P,{model:u.value,onSubmit:m,layout:["vertical","horizontal"][c(y)],"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:s(()=>[l(E,{field:"endpoint",label:"Endpoint:",tooltip:c(p)("settings.modal.endpointTips"),"validate-trigger":"input"},{default:s(()=>[l(k,{modelValue:u.value.endpoint,"onUpdate:modelValue":_[0]||(_[0]=L=>u.value.endpoint=L),placeholder:"http://localhost:8989","allow-clear":""},null,8,["modelValue"])]),_:1},8,["tooltip"]),l(E,{field:"interval",label:c(p)("settings.modal.pollInterval"),"validate-trigger":"input"},{default:s(()=>[l($,{modelValue:u.value.interval,"onUpdate:modelValue":_[1]||(_[1]=L=>u.value.interval=L),placeholder:"3000",min:100,"hide-button":""},{suffix:s(()=>[b(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(E,{field:"accessToken",label:"Access Token:","validate-trigger":"input"},{extra:s(()=>[l(C,{keypath:"settings.modal.accessTokenTips"},{here:s(()=>[j("a",Rl,f(c(p)("settings.modal.accessTokenTips.here")),1)]),_:1})]),default:s(()=>[l(k,{modelValue:u.value.accessToken,"onUpdate:modelValue":_[2]||(_[2]=L=>u.value.accessToken=L),"allow-clear":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","layout"])]),_:1},8,["visible","closable","maskClosable","hide-cancel","ok-loading"])}}}),jl=ae(zl,[["__scopeId","data-v-9e07cdf1"]]),Dl=z({__name:"autoUpdateBtn",props:{tigger:{}},setup(e){const{t,d:n}=X(),a=$e(),o=M(!1),i=M(),r=e,u=T(()=>r.tigger);ge(()=>a.lastUpdate,()=>{var m,d;o.value=!0;const h=setTimeout(()=>{o.value=!1},300);(d=(m=i.value)==null?void 0:m.$el)==null||d.addEventListener("transitionend",()=>{clearTimeout(h),o.value=!1},{once:!0})});const p=()=>{a.autoUpdate=!a.autoUpdate};return(h,m)=>{const d=Pn,y=ye,S=Ht,_=ee,k=Ea;return g(),w(k,{trigger:u.value==="switch"?"click":"hover"},{title:s(()=>[l(_,null,{default:s(()=>[j("div",null,f(c(t)("navbar.action.autoUpdate")),1),u.value==="switch"?(g(),w(S,{key:0,modelValue:c(a).autoUpdate,"onUpdate:modelValue":m[1]||(m[1]=E=>c(a).autoUpdate=E)},null,8,["modelValue"])):Z("",!0)]),_:1})]),content:s(()=>[j("p",null,f(c(t)("navbar.action.autoUpdate.lastUpdate")),1),j("p",null,f(c(n)(c(a).lastUpdate,"longlong")),1)]),default:s(()=>[l(y,{class:te(["nav-btn",o.value?"ticktock":""]),type:c(a).autoUpdate?"primary":"outline",shape:"circle",onClick:m[0]||(m[0]=()=>u.value!=="switch"&&p()),ref_key:"autoUpdateBtn",ref:i},{default:s(()=>[l(d)]),_:1},8,["class","type"])]),_:1},8,["trigger"])}}}),Bl=ae(Dl,[["__scopeId","data-v-17c276c6"]]),Ol=rt("locale",()=>{const e=Oe("locale.store","");return{localeStore:e,setLocale:n=>{e.value=n}}});function xl(){var a;const e=Ol(),t=X({useScope:"global"}),n=o=>{var i;t.locale.value===o||!t.availableLocales.includes(o)||(t.locale.value=o,e.setLocale(o),(i=document.querySelector("html"))==null||i.setAttribute("lang",o),G.success(t.t("navbar.action.locale")))};return e.localeStore!==""&&t.availableLocales.includes(e.localeStore)&&n(e.localeStore),(a=document.querySelector("html"))==null||a.setAttribute("lang",t.locale.value),{changeLocale:n}}const Vl=rt("dark",()=>{const e=M(!1);return{isDark:e,setDark:n=>{e.value=n}}});async function Hl(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,`api/downloaders/${e}/status`),location.href);return fetch(n,{headers:F()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function ql(){const e=A();await e.serverAvailable;const t=new URL(q(e.endpoint,"/api/statistic/counter"),location.href);return fetch(t,{headers:F()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Fl(){const e=A();await e.serverAvailable;const t=new URL(q(e.endpoint,"/api/downloaders"),location.href);return fetch(t,{headers:F()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Wl(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,`/api/downloaders/${e}/torrents`),location.href);return fetch(n,{headers:F()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Zl(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,"/api/downloaders"),location.href);return fetch(n,{method:"PUT",headers:F(),body:JSON.stringify(e)}).then(async a=>(t.assertResponseLogin(a),a.json()))}async function Gl(e,t){const n=A();await n.serverAvailable;const a=new URL(q(n.endpoint,`/api/downloaders/${e}`),location.href);return fetch(a,{method:"PATCH",headers:F(),body:JSON.stringify(t)}).then(async o=>(n.assertResponseLogin(o),o.json()))}async function Kl(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,"/api/downloaders/test"),location.href);return fetch(n,{method:"POST",headers:F(),body:JSON.stringify(e)}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Jl(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,`/api/downloaders/${e}`),location.href);return fetch(n,{method:"DELETE",headers:F()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function hc(e,t){const n=A();await n.serverAvailable;const a=new URL(q(n.endpoint,`/api/downloaders/${e}/torrent/${t}/peers`),location.href);return fetch(a,{headers:F()}).then(o=>(n.assertResponseLogin(o),o.json()))}function Ie(e,t=2){if(e===-1)return"N/A";if(e===0)return"0 Bytes";const n=1024,a=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB"],i=Math.floor(Math.log(e)/Math.log(n));return i>=o.length?"Too large":parseFloat((e/Math.pow(n,i)).toFixed(a))+" "+o[i]}const Yl=z({__name:"torrentListModal",setup(e,{expose:t}){const n=me(()=>ue(()=>import("./peerListModal-mc3KN-sq.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),{t:a}=X(),o=M(!1),i=M("");t({showModal:S=>{i.value=S,o.value=!0,h(S)}});const r=()=>{o.value=!1,i.value=""},{data:u,loading:p,run:h,cancel:m}=Le(Wl,{manual:!0,pollingInterval:1e3}),d=M(),y=[{title:()=>a("page.dashboard.torrentList.column.name"),slotName:"name",width:400},{title:()=>a("page.dashboard.torrentList.column.speed"),slotName:"speed"},{title:()=>a("page.dashboard.torrentList.column.size"),slotName:"size"},{title:()=>a("page.dashboard.torrentList.column.hash"),slotName:"hash"},{title:()=>a("page.dashboard.torrentList.column.progress"),slotName:"progress"},{title:"Peers",slotName:"peer"}];return(S,_)=>{const k=ie,E=Nn,$=ee,C=Yt,P=Jt,v=ye,L=He,B=Vt;return g(),w(B,{"hide-cancel":"",closable:"",visible:o.value,"onUpdate:visible":_[0]||(_[0]=U=>o.value=U),onOk:r,draggable:"",width:"auto",onClose:_[1]||(_[1]=U=>c(m)())},{title:s(()=>[b(f(c(a)("page.dashboard.torrentList.title")),1)]),default:s(()=>{var U;return[l(L,{columns:y,data:(U=c(u))==null?void 0:U.data,loading:!c(p)&&!c(u),pagination:{pageSize:5,baseSize:4,bufferSize:1}},{name:s(({record:N})=>[l(k,{bold:"",style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:s(()=>[b(f(N.name),1)]),_:2},1024)]),size:s(({record:N})=>[l(k,null,{default:s(()=>[b(f(c(Ie)(N.size)),1)]),_:2},1024)]),hash:s(({record:N})=>[l(k,{copyable:"",code:""},{default:s(()=>[b(f(N.hash),1)]),_:2},1024)]),progress:s(({record:N})=>[l($,null,{default:s(()=>[l(E,{percent:N.progress,size:"mini"},null,8,["percent"]),l(k,null,{default:s(()=>[b(f((N.progress*100).toFixed(2)+"%"),1)]),_:2},1024)]),_:2},1024)]),speed:s(({record:N})=>[l($,{fill:"",style:{"justify-content":"space-between"}},{default:s(()=>[l($,{fill:"",direction:"vertical"},{default:s(()=>[l(k,null,{default:s(()=>[l(C,{class:"green"}),b(" "+f(c(Ie)(N.rtUploadSpeed))+"/s",1)]),_:2},1024),l(k,null,{default:s(()=>[l(P,{class:"red"}),b(" "+f(c(Ie)(N.rtDownloadSpeed))+"/s",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),peer:s(({record:N})=>[l(v,{onClick:()=>{var x;return(x=d.value)==null?void 0:x.showModal(i.value,N.id,N.name)}},{default:s(()=>[b(f(c(a)("page.dashboard.torrentList.column.view")),1)]),_:2},1032,["onClick"])]),_:1},8,["data","loading"]),l(c(n),{ref_key:"peerList",ref:d},null,512)]}),_:1},8,["visible"])}}}),Xl=ae(Yl,[["__scopeId","data-v-e063d624"]]);var ce=(e=>(e.HEALTHY="HEALTHY",e.ERROR="ERROR",e.UNKNOWN="UNKNOWN",e.NEED_TAKE_ACTION="NEED_TAKE_ACTION",e))(ce||{}),fe=(e=>(e.qBittorrent="qbittorrent",e.Transmission="transmission",e.BiglyBT="biglybt",e.Deluge="deluge",e.Unknown="Unknown",e))(fe||{});const Ql=z({__name:"clientStatusCard",props:{downloader:{},disableRemove:{type:Boolean,default:!1}},emits:["torrent-view-click","downloader-deleted","edit-click"],setup(e,{emit:t}){const{t:n}=X(),a={[ce.HEALTHY]:["success","page.dashboard.clientStatus.card.status.normal"],[ce.ERROR]:["warning","page.dashboard.clientStatus.card.status.error"],[ce.UNKNOWN]:["info","page.dashboard.clientStatus.card.status.unknown"],[ce.NEED_TAKE_ACTION]:["danger","page.dashboard.clientStatus.card.status.need_take_action"]},o=e,i=t,r=T(()=>o.downloader),u=$e(),p=A(),h=y=>a[(y==null?void 0:y.lastStatus)??ce.UNKNOWN]??a[ce.UNKNOWN],{data:m}=Le(Hl,{pollingInterval:T(()=>u.pollingInterval),onSuccess:u.renewLastUpdate,cacheKey:()=>`${p.endpoint}-clientStatus-${r.value.name}`,defaultParams:[r.value.name],refreshDeps:[()=>r.value.name],refreshDepsAction:()=>{u.renewLastUpdate()}}),d=async()=>{try{const y=await Jl(r.value.name);if(y.success)return G.success(y.message),i("downloader-deleted"),!0;throw new Error(y.message)}catch(y){return G.error(y.message),!1}};return(y,S)=>{const _=qt,k=ye,E=Ft,$=Qe,C=Wt,P=ee,v=qe,L=Mn,B=En,U=it,N=Xt,x=Bt,R=Ua,W=Aa,Y=mr,O=lr,K=ie,le=Ra,Pe=Ot,Fe=Zt;return g(),w(Fe,{hoverable:"",style:{height:"100%"},"header-style":{height:"auto"},class:"card"},{extra:s(()=>[c(m)?(g(),w(P,{key:0,size:"mini"},{default:s(()=>[l(k,{class:"edit-btn",shape:"circle",type:"text",onClick:S[0]||(S[0]=()=>{var Ae,Re;return i("edit-click",{name:r.value.name,config:(Re=(Ae=c(m))==null?void 0:Ae.data)==null?void 0:Re.config})})},{icon:s(()=>[l(_)]),_:1}),o.disableRemove?(g(),w($,{key:0,content:c(n)("page.dashboard.clientStatus.card.lastDelete")},{default:s(()=>[l(k,{class:"edit-btn",status:"danger",shape:"circle",type:"text",disabled:""},{icon:s(()=>[l(E)]),_:1})]),_:1},8,["content"])):(g(),w(C,{key:1,content:c(n)("page.rule_management.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:d},{default:s(()=>[l(k,{class:"edit-btn",status:"danger",shape:"circle",type:"text",disabled:o.disableRemove},{icon:s(()=>[l(E)]),_:1},8,["disabled"])]),_:1},8,["content"]))]),_:1})):Z("",!0)]),title:s(()=>[l(v,{style:{margin:"0px"},ellipsis:{rows:2,showTooltip:!0},heading:3},{default:s(()=>[b(f(r.value.name),1)]),_:1})]),default:s(()=>[c(m)?Z("",!0):(g(),w(B,{key:0,animation:!0},{default:s(()=>[l(P,{direction:"vertical",style:{width:"100%"},size:0},{default:s(()=>[l(L,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})),c(m)?(g(),w(Pe,{key:1,column:1,layout:"inline-horizontal",class:"space","label-style":{paddingRight:"10px"}},{default:s(()=>[l(x,{label:c(n)("page.dashboard.clientStatus.card.type")},{default:s(()=>[l(P,null,{default:s(()=>[l(U,{bordered:""},{default:s(()=>[b(f(r.value.type),1)]),_:1}),l($,{content:r.value.endpoint},{default:s(()=>[l(N,{size:"large"})]),_:1},8,["content"])]),_:1})]),_:1},8,["label"]),l(x,{label:c(n)("page.dashboard.clientStatus.card.status")},{default:s(()=>[l($,{content:c(m).data.lastStatusMessage},{default:s(()=>[l(K,{type:h(c(m).data)[0]},{default:s(()=>[c(m).data.lastStatus==c(ce).HEALTHY?(g(),w(R,{key:0})):Z("",!0),c(m).data.lastStatus==c(ce).ERROR?(g(),w(W,{key:1})):Z("",!0),c(m).data.lastStatus==c(ce).UNKNOWN?(g(),w(Y,{key:2})):Z("",!0),c(m).data.lastStatus==c(ce).NEED_TAKE_ACTION?(g(),w(O,{key:3})):Z("",!0),b(" "+f(c(n)(h(c(m).data)[1])),1)]),_:1},8,["type"])]),_:1},8,["content"])]),_:1},8,["label"]),c(m).data.lastStatus==c(ce).HEALTHY?(g(),w(x,{key:0,label:c(n)("page.dashboard.clientStatus.card.status.torrentNumber")},{default:s(()=>[l(P,null,{default:s(()=>[l(K,null,{default:s(()=>[b(f(c(m).data.activeTorrents),1)]),_:1}),c(m).data.activeTorrents>0?(g(),w($,{key:0,content:c(n)("page.dashboard.torrentList.tips")},{default:s(()=>[l(k,{onClick:S[1]||(S[1]=()=>i("torrent-view-click",r.value.name)),shape:"circle",type:"text",size:"mini"},{icon:s(()=>[l(le,{size:"large",style:{color:"var(--color-text-1)"}})]),_:1})]),_:1},8,["content"])):Z("",!0)]),_:1})]),_:1},8,["label"])):Z("",!0),c(m).data.lastStatus==c(ce).HEALTHY?(g(),w(x,{key:1,label:c(n)("page.dashboard.clientStatus.card.status.peerNumber")},{default:s(()=>[l(K,null,{default:s(()=>[b(f(c(m).data.activePeers),1)]),_:1})]),_:1},8,["label"])):Z("",!0)]),_:1})):Z("",!0)]),_:1})}}}),ei=ae(Ql,[["__scopeId","data-v-da28eb39"]]),ti={href:"https://github.com/PBH-BTN/PBH-Adapter-BiglyBT"},ni=z({__name:"editDownloaderModal",emits:["changed"],setup(e,{expose:t,emit:n}){const a=me(()=>ue(()=>import("./qbittorrent-UesWCwMQ.js"),__vite__mapDeps([4,1,2]),import.meta.url)),o=me(()=>ue(()=>import("./transmission-BPra-LJ8.js"),__vite__mapDeps([5,1,2]),import.meta.url)),i=me(()=>ue(()=>import("./biglybt-KVmVe6ql.js"),__vite__mapDeps([6,1,2]),import.meta.url)),r=me(()=>ue(()=>import("./deluge-BZTXXsRE.js"),__vite__mapDeps([7,1,2]),import.meta.url)),{t:u}=X(),p=M(!1),h=M(!1),m={[fe.qBittorrent]:a,[fe.Transmission]:o,[fe.BiglyBT]:i,[fe.Deluge]:r},d=wn({name:"",config:{basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1",incrementBan:!0}}),y=M("");t({showModal:($,C)=>{h.value=$,!$&&C?(d.name=C.name,y.value=C.name,d.config=C.config):(d.name="",d.config={basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1",incrementBan:!0}),p.value=!0}});const S=n,_=M(),k=async()=>{var C;if(await((C=_.value)==null?void 0:C.validate()))return!1;try{const P=await Kl(d);if(!P.success)throw new Error(P.message);const v=h.value?await Zl(d):await Gl(y.value,d);if(v.success)return G.success(v.message),S("changed"),!0;throw new Error(v.message)}catch(P){return G.error(P.message),!1}},E=()=>{var $;($=_.value)==null||$.resetFields(),d.config={basicAuth:{},verifySsl:!0,httpVersion:"HTTP_1_1"}};return($,C)=>{const P=Un,v=An,L=Dt("i18n-t"),B=Cn,U=xt,N=In,x=Vt;return g(),w(x,{visible:p.value,"onUpdate:visible":C[3]||(C[3]=R=>p.value=R),"mask-closable":!1,title:h.value?c(u)("page.dashboard.editModal.title.new"):c(u)("page.dashboard.editModal.title.edit"),unmountOnClose:"",onCancel:C[4]||(C[4]=()=>E()),onBeforeOk:k},{default:s(()=>[l(N,{ref_key:"formRef",ref:_,model:d,"auto-label-width":""},{default:s(()=>[l(B,{field:"config.type",label:c(u)("page.dashboard.editModal.label.type"),required:""},Ce({default:s(()=>[l(v,{modelValue:d.config.type,"onUpdate:modelValue":C[0]||(C[0]=R=>d.config.type=R),type:"button"},{default:s(()=>[l(P,{value:c(fe).qBittorrent},{default:s(()=>[b("qBittorrent")]),_:1},8,["value"]),l(P,{value:c(fe).Transmission},{default:s(()=>[b("Transmission")]),_:1},8,["value"]),l(P,{value:c(fe).BiglyBT},{default:s(()=>[b("BiglyBT")]),_:1},8,["value"]),l(P,{value:c(fe).Deluge},{default:s(()=>[b("Deluge")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:2},[d.config.type===c(fe).BiglyBT?{name:"extra",fn:s(()=>[l(L,{keypath:"page.dashboard.editModal.biglybt"},{url:s(()=>[j("a",ti,f(c(u)("page.dashboard.editModal.biglybt.url")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),l(B,{field:"name",label:c(u)("page.dashboard.editModal.label.name"),required:""},{default:s(()=>[l(U,{modelValue:d.name,"onUpdate:modelValue":C[1]||(C[1]=R=>d.name=R),"allow-clear":""},null,8,["modelValue"])]),_:1},8,["label"]),(g(),w(we(m[d.config.type]),{modelValue:d.config,"onUpdate:modelValue":C[2]||(C[2]=R=>d.config=R)},null,8,["modelValue"]))]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),ai=ae(ni,[["__scopeId","data-v-cb50b5b2"]]),oi=z({__name:"clientStatus",setup(e){const{t}=X(),n=A(),a=$e(),o=M(),{refresh:i,loading:r}=Le(Fl,{pollingInterval:T(()=>a.pollingInterval),cacheKey:()=>`${n.endpoint}-downloader`,onSuccess:h=>{o.value=h.data}});ge(()=>n.endpoint,i);const u=M(),p=M();return(h,m)=>{const d=za,y=ye,S=qe,_=Mn,k=ee,E=En,$=Zt,C=Tn,P=$n;return g(),D(he,null,[l(S,{heading:3},{default:s(()=>[b(f(c(t)("page.dashboard.clientStatus.title"))+" ",1),l(y,{class:"add-btn",type:"outline",shape:"circle",onClick:m[0]||(m[0]=()=>{var v;return(v=p.value)==null?void 0:v.showModal(!0)})},{icon:s(()=>[l(d)]),_:1})]),_:1}),l(P,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:s(()=>{var v;return[!o.value||((v=o.value)==null?void 0:v.length)===0||c(r)?(g(),w(C,{key:0,xs:24,sm:12,md:8,lg:6},{default:s(()=>[l($,{hoverable:"","header-style":{height:"auto"}},{title:s(()=>[l(E,{animation:!0},{default:s(()=>[l(k,{direction:"vertical",style:{width:"100%"},size:0},{default:s(()=>[l(_,{"line-height":44,"line-spacing":0})]),_:1})]),_:1})]),default:s(()=>[l(E,{animation:!0},{default:s(()=>[l(k,{direction:"vertical",style:{width:"100%"},size:0},{default:s(()=>[l(_,{rows:4,"line-height":22,"line-spacing":14,widths:["60%","70%","50%","60%"]})]),_:1})]),_:1})]),_:1})]),_:1})):(g(!0),D(he,{key:1},De(o.value,L=>(g(),w(C,{xs:24,sm:12,md:8,lg:6,key:L.name},{default:s(()=>[l(ei,{"disable-remove":o.value.length===1,downloader:L,onTorrentViewClick:()=>{var B;return(B=u.value)==null?void 0:B.showModal(L.name)},onDownloaderDeleted:c(i),onEditClick:m[1]||(m[1]=B=>{var U;return(U=p.value)==null?void 0:U.showModal(!1,B)})},null,8,["disable-remove","downloader","onTorrentViewClick","onDownloaderDeleted"])]),_:2},1024))),128))]}),_:1}),l(Xl,{ref_key:"torrentList",ref:u},null,512),l(ai,{ref_key:"editDownloaderModal",ref:p,onChanged:c(i)},null,8,["onChanged"])],64)}}}),si=ae(oi,[["__scopeId","data-v-cd547275"]]),ri=z({__name:"statisticInfo",setup(e){const{t}=X(),n=$e(),a=A(),o=M({checkCounter:0,peerBanCounter:0,peerUnbanCounter:0,banlistCounter:0,bannedIpCounter:0}),i=M(o.value),{refresh:r}=Le(ql,{pollingInterval:T(()=>n.pollingInterval),onSuccess:u=>{const p=i.value;i.value=u.data,ia.isEqual(u,p)||(o.value=p),n.renewLastUpdate()},cacheKey:()=>`${a.endpoint}-statistic`});return ge(()=>a.endpoint,r),(u,p)=>{const h=ie,m=ja,d=Da,y=Ba,S=Zt,_=ee;return g(),w(_,{direction:"vertical",fill:""},{default:s(()=>[l(S,{title:c(t)("page.dashboard.statics.currentStatus"),hoverable:""},{default:s(()=>[l(y,{cols:24,"row-gap":16,class:"panel"},{default:s(()=>[l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var k;return[l(m,{title:c(t)("page.dashboard.statics.checked"),value:(k=i.value)==null?void 0:k.checkCounter,"value-from":o.value.checkCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(h,null,{default:s(()=>[b(" "+f(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var k;return[l(m,{title:c(t)("page.dashboard.statics.banPeer"),value:(k=i.value)==null?void 0:k.peerBanCounter,"value-from":o.value.peerBanCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(h,null,{default:s(()=>[b(" "+f(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var k;return[l(m,{title:c(t)("page.dashboard.statics.unbanPeer"),value:(k=i.value)==null?void 0:k.peerUnbanCounter,"value-from":o.value.peerUnbanCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(h,null,{default:s(()=>[b(" "+f(c(t)("page.dashboard.statics.times")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1}),l(d,{class:"panel-col",span:{xs:12,sm:12,md:6}},{default:s(()=>{var k;return[l(m,{title:c(t)("page.dashboard.statics.currentBanIps"),value:(k=i.value)==null?void 0:k.bannedIpCounter,"value-from":o.value.bannedIpCounter,animation:"","show-group-separator":""},{suffix:s(()=>[l(h,null,{default:s(()=>[b(" "+f(c(t)("page.dashboard.statics.number")),1)]),_:1})]),_:1},8,["title","value","value-from"])]}),_:1})]),_:1})]),_:1},8,["title"])]),_:1})}}}),li=j("br",null,null,-1),ii=z({__name:"index",setup(e){return(t,n)=>{const a=ie,o=ee;return g(),w(o,{direction:"vertical",fill:""},{default:s(()=>[l(a,{style:{"font-size":"1.2em"}},{default:s(()=>[b(f(t.$t("page.dashboard.description")),1)]),_:1}),l(si),li,l(ri)]),_:1})}}});async function Nt(e,t){const n=A();await n.serverAvailable;const a=new URL(q(n.endpoint,"api/bans"),location.href);return a.searchParams.set("limit",String(e)),t&&a.searchParams.set("lastBanTime",String(t)),fetch(a,{headers:F()}).then(o=>(n.assertResponseLogin(o),o.json()))}async function ci(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,"api/bans"),location.href);return fetch(n,{headers:F(),method:"DELETE",body:JSON.stringify([e])}).then(a=>a.json())}function ui(e){let t=0,n,a;if(e.length===0)return t;for(n=0;n<e.length;n++)a=e.charCodeAt(n),t=(t<<5)-t+a,t|=0;return t}const Qt=e=>{const t=Math.abs(ui(e))%_n.length;return _n[t]},_n=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta"],di=["title"],pi=z({__name:"countryFlag",props:{iso:{},title:{},mode:{}},setup(e){const{locale:t}=X(),n=e,a=T(()=>{let o="",i=n.iso.toLowerCase();return t.value==="zh-CN"&&i==="tw"&&(i="cn"),o="flag-icon-"+i,n.mode&&(o+=" flag-icon-"+n.mode),o});return(o,i)=>n.iso!==""?(g(),D("span",{key:0,class:te([a.value,"flag-icon"]),title:n.title||n.iso},null,10,di)):Z("",!0)}}),en=z({__name:"asyncMethod",props:{once:{type:Boolean},asyncFn:{type:Function}},setup(e){const t=M(0),n=M(!1),a=M(),o=e,i=async(...r)=>{if(n.value&&o.once)return;n.value=!0;const u=++t.value;return Promise.resolve(o.asyncFn(...r)).catch(p=>{u===t.value&&(a.value=p)}).finally(()=>{u===t.value&&(n.value=!1)})};return(r,u)=>ca(r.$slots,"default",{run:i,loading:n.value,error:a.value})}}),mi=z({__name:"banListItem",props:{item:{}},emits:["unban"],setup(e,{emit:t}){const{t:n,d:a}=X(),o=lt(M({md:1}),0),i=t,r=async u=>{const{count:p}=await(await ci(u)).data;return!p||p<1?(G.error(n("page.banlist.banlist.listItem.unbanUnexcepted")),!1):(G.success(n("page.banlist.banlist.listItem.unbanSuccess",{count:p})),i("unban",u),!0)};return(u,p)=>{const h=ie,m=it,d=Qe,y=ee,S=ye,_=Bt,k=Yt,E=Jt,$=Xt,C=Ln,P=Ot;return g(),w(P,{column:{xs:3,md:6,xl:12},size:"medium",class:"banlist-item",layout:["inline-vertical","horizontal"][c(o)]},{title:s(()=>[l(y,{fill:"",style:{display:"flex","justify-content":"space-between"}},{default:s(()=>[l(y,{wrap:""},{default:s(()=>[l(h,{bold:"",copyable:""},{default:s(()=>[b(f(u.item.banMetadata.peer.address.ip)+":"+f(u.item.banMetadata.peer.address.port),1)]),_:1}),l(d,{content:u.item.banMetadata.peer.id?u.item.banMetadata.peer.id:c(n)("page.banlist.banlist.listItem.empty")},{default:s(()=>[l(m,null,{default:s(()=>[b(f(u.item.banMetadata.peer.clientName?u.item.banMetadata.peer.clientName:c(n)("page.banlist.banlist.listItem.empty")),1)]),_:1})]),_:1},8,["content"])]),_:1}),l(en,{once:"","async-fn":()=>r(u.item.banMetadata.peer.address.ip)},{default:s(({run:v,loading:L})=>[l(S,{class:"unban-button",loading:L,onClick:v},{default:s(()=>[b(f(c(n)("page.banlist.banlist.listItem.unban")),1)]),_:2},1032,["loading","onClick"])]),_:1},8,["async-fn"])]),_:1})]),default:s(()=>{var v,L,B,U,N;return[l(_,{label:c(n)("page.banlist.banlist.listItem.banTime"),span:6},{default:s(()=>[b(f(c(a)(u.item.banMetadata.banAt,"long")),1)]),_:1},8,["label"]),l(_,{label:c(n)("page.banlist.banlist.listItem.expireTime"),span:6},{default:s(()=>[b(f(c(a)(u.item.banMetadata.unbanAt,"long")),1)]),_:1},8,["label"]),l(_,{label:c(n)("page.banlist.banlist.listItem.snapshot"),span:6},{default:s(()=>[l(k,{class:"green"}),b(" "+f(c(Ie)(u.item.banMetadata.peer.uploaded))+" ",1),l(E,{class:"red"}),b(" "+f(c(Ie)(u.item.banMetadata.peer.downloaded))+" - "+f((u.item.banMetadata.peer.progress*100).toFixed(2))+"% ",1)]),_:1},8,["label"]),u.item.banMetadata.geo?(g(),w(_,{key:0,label:c(n)("page.banlist.banlist.listItem.geo"),span:6},{default:s(()=>{var x,R,W,Y,O,K;return[l(pi,{iso:((R=(x=u.item.banMetadata.geo)==null?void 0:x.country)==null?void 0:R.iso)??c(n)("page.banlist.banlist.listItem.empty")},null,8,["iso"]),b(" "+f(`${(Y=(W=u.item.banMetadata.geo)==null?void 0:W.country)==null?void 0:Y.name} ${((K=(O=u.item.banMetadata.geo)==null?void 0:O.city)==null?void 0:K.name)??c(n)("page.banlist.banlist.listItem.empty")}`),1)]}),_:1},8,["label"])):Z("",!0),(v=u.item.banMetadata.geo)!=null&&v.as?(g(),w(_,{key:1,label:c(n)("page.banlist.banlist.listItem.asn"),span:6},{default:s(()=>[l(y,null,{default:s(()=>{var x,R,W,Y,O;return[l(h,null,{default:s(()=>{var K,le;return[b(f((le=(K=u.item.banMetadata.geo)==null?void 0:K.as)==null?void 0:le.organization),1)]}),_:1}),l(m,{color:c(Qt)((((R=(x=u.item.banMetadata.geo)==null?void 0:x.as)==null?void 0:R.number)??0).toString())},{default:s(()=>{var K,le;return[b(f((le=(K=u.item.banMetadata.geo)==null?void 0:K.as)==null?void 0:le.number),1)]}),_:1},8,["color"]),l(d,{content:c(n)("page.banlist.banlist.listItem.asn.subnet")+((O=(Y=(W=u.item.banMetadata.geo)==null?void 0:W.as)==null?void 0:Y.network)==null?void 0:O.ipAddress)},{default:s(()=>{var K,le;return[l(C,{href:`https://2ip.io/analytics/asn-list/?asnId=${(le=(K=u.item.banMetadata.geo)==null?void 0:K.as)==null?void 0:le.number}`,hoverable:!1},{default:s(()=>[l($)]),_:1},8,["href"])]}),_:1},8,["content"])]}),_:1})]),_:1},8,["label"])):Z("",!0),u.item.banMetadata.reverseLookup!="N/A"?(g(),w(_,{key:2,label:c(n)("page.banlist.banlist.listItem.reserveDNSLookup"),span:6},{default:s(()=>[b(f(u.item.banMetadata.reverseLookup),1)]),_:1},8,["label"])):Z("",!0),(B=(L=u.item.banMetadata.geo)==null?void 0:L.network)!=null&&B.isp?(g(),w(_,{key:3,label:c(n)("page.banlist.banlist.listItem.network.isp"),span:6},{default:s(()=>{var x,R;return[b(f((R=(x=u.item.banMetadata.geo)==null?void 0:x.network)==null?void 0:R.isp),1)]}),_:1},8,["label"])):Z("",!0),(N=(U=u.item.banMetadata.geo)==null?void 0:U.network)!=null&&N.netType?(g(),w(_,{key:4,label:c(n)("page.banlist.banlist.listItem.network.netType"),span:6},{default:s(()=>{var x,R;return[b(f((R=(x=u.item.banMetadata.geo)==null?void 0:x.network)==null?void 0:R.netType),1)]}),_:1},8,["label"])):Z("",!0),l(_,{label:c(n)("page.banlist.banlist.listItem.location"),span:12},{default:s(()=>[l(d,{content:u.item.banMetadata.torrent.hash},{default:s(()=>[l(h,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:s(()=>[b(f(u.item.banMetadata.torrent.name),1)]),_:1})]),_:1},8,["content"])]),_:1},8,["label"]),l(_,{label:c(n)("page.banlist.banlist.listItem.rule"),span:12},{default:s(()=>[l(h,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:s(()=>[b(f(u.item.banMetadata.rule),1)]),_:1})]),_:1},8,["label"]),l(_,{label:c(n)("page.banlist.banlist.listItem.reason"),span:12},{default:s(()=>[j("div",null,[l(h,{style:{"margin-bottom":"0"},ellipsis:{showTooltip:!0}},{default:s(()=>[b(f(u.item.banMetadata.description),1)]),_:1})])]),_:1},8,["label"])]}),_:1},8,["layout"])}}}),gi=ae(mi,[["__scopeId","data-v-130836db"]]),bi=e=>(pa("data-v-ed412840"),e=e(),ma(),e),fi=bi(()=>j("br",null,null,-1)),hi={key:1,style:{position:"absolute",transform:"translateY(-50%)"}},Ne=5,_i=z({__name:"banList",setup(e){const{height:t}=ua(),n=M(),a=$e(),o=A(),i=M(!1),r=M(5),u=M(!1),{t:p}=X();let h=!0;async function m(){var P;if(h||!d.value)return h=!1,(await Nt(Ne)).data;if(d.value.length>r.value-Ne){const v=[];let L=!1;for(;v.length<r.value&&!L;){const B=await(await Nt(Ne,(P=v[v.length-1])==null?void 0:P.banMetadata.banAt)).data;for(const U of B)if(U.banMetadata.randomId!==d.value[0].banMetadata.randomId)v.push(U);else{L=!0;break}}return L?(r.value=d.value.length+v.length,v.concat(d.value)):v}return d.value}const{data:d,refresh:y,run:S}=Le(m,{pollingInterval:T(()=>a.pollingInterval),onSuccess:a.renewLastUpdate,manual:!0}),_=P=>{var v,L;if(P){const B=(v=d.value)==null?void 0:v.map(U=>U.address).findIndex(U=>U.includes(P));B!==-1&&((L=n.value)==null||L.scrollIntoView({index:B,align:"auto"}))}},k=async()=>{var P;if(d.value&&(r.value=d.value.length+Ne,!u.value)){if(u.value=!0,i.value=!1,d.value.length<=r.value){const v=[];for(;v.length+d.value.length<r.value&&!i.value;){const L=(await Nt(Ne,(P=v[v.length-1]||d.value[d.value.length-1])==null?void 0:P.banMetadata.banAt)).data;L.length<Ne&&(i.value=!0),v.push(...L)}d.value=d.value.concat(v)}setTimeout(()=>{u.value=!1},i.value?1e3:0)}};ge(()=>o.endpoint,()=>{r.value=Ne,d.value=void 0,y()}),da(S);const E=T(()=>d.value??[]),$=lt(M({xs:1500,md:1e3,xl:800}),800),C=T(()=>Math.min($.value,t.value-200));return(P,v)=>{const L=qe,B=ie,U=Rn,N=ee,x=Oa,R=zn,W=xa,Y=Va;return g(),w(N,{direction:"vertical",fill:""},{default:s(()=>[l(L,{heading:3},{default:s(()=>[b(f(c(p)("page.banlist.banlist")),1)]),_:1}),fi,l(N,{class:"list-header",wrap:""},{default:s(()=>[l(B,null,{default:s(()=>[b(f(c(p)("page.banlist.banlist.description")),1)]),_:1}),l(U,{style:{width:"250px"},placeholder:c(p)("page.banlist.banlist.searchPlaceHolder"),onSearch:_,"allow-clear":"","search-button":""},null,8,["placeholder"])]),_:1}),l(Y,{virtualListProps:{height:C.value},ref_key:"banlist",ref:n,onReachBottom:k,scrollbar:!1,data:E.value},{item:s(({item:O,index:K})=>[l(x,{style:ne({marginBottom:K===E.value.length-1&&u.value?"50px":void 0})},{default:s(()=>[l(gi,{item:O,onUnban:v[0]||(v[0]=le=>c(y)())},null,8,["item"])]),_:2},1032,["style"])]),"scroll-loading":s(()=>[E.value.length===0?(g(),w(R,{key:0,style:ne({height:`${C.value}px`})},null,8,["style"])):Z("",!0),u.value?(g(),D("div",hi,[i.value?(g(),w(B,{key:0},{default:s(()=>[b(f(c(p)("page.banlist.banlist.bottomReached")),1)]),_:1})):(g(),w(W,{key:1}))])):Z("",!0)]),_:1},8,["virtualListProps","data"])]),_:1})}}}),vi=ae(_i,[["__scopeId","data-v-ed412840"]]),yi=z({__name:"index",setup(e){return(t,n)=>{const a=ee;return g(),w(a,{direction:"vertical",fill:""},{default:s(()=>[l(vi)]),_:1})}}});async function ki(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,"api/bans/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:F()}).then(a=>a.json()).then(a=>(t.assertResponseLogin(a),{...a.data,pageIndex:a.pageIndex+1}))}const wi=z({__name:"banlogTable",setup(e){const t=M(!0),n=$e(),a=A(),{t:o,d:i}=X(),{data:r,total:u,current:p,loading:h,pageSize:m,changeCurrent:d,changePageSize:y,refresh:S}=ga(ki,{defaultParams:[{pageIndex:1,pageSize:10}],pagination:{currentKey:"pageIndex",pageSizeKey:"pageSize",totalKey:"total"},pollingInterval:T(()=>n.pollingInterval),cacheKey:$=>`${a.endpoint}-banlogs-${($==null?void 0:$[0].pageIndex)||1}-${($==null?void 0:$[0].pageSize)||10}`,onSuccess:n.renewLastUpdate,onAfter:()=>{t.value=!1}});ge([m,p],()=>{t.value=!0}),ge(()=>a.endpoint,S);const _=T(()=>t.value||h.value||!E.value),k=[{title:()=>o("page.banlog.banlogTable.column.banTime")+"/"+o("page.banlog.banlogTable.column.unbanTime"),slotName:"banAt",width:210},{title:()=>o("page.banlog.banlogTable.column.peerAddress"),slotName:"peerAddress",width:230},{title:()=>o("page.banlog.banlogTable.column.peerId"),slotName:"peerId",width:120},{title:()=>o("page.banlog.banlogTable.column.trafficSnapshot"),slotName:"peerStatus",width:150},{title:()=>o("page.banlog.banlogTable.column.torrentName"),dataIndex:"torrentName",ellipsis:!0,tooltip:!0},{title:()=>o("page.banlog.banlogTable.column.torrentSize"),slotName:"torrentSize",width:120},{title:()=>o("page.banlog.banlogTable.column.description"),dataIndex:"description",ellipsis:!0,tooltip:!0}],E=T(()=>{var $;return($=r.value)==null?void 0:$.results});return($,C)=>{const P=Pr,v=ie,L=Pn,B=ee,U=Yt,N=Jt,x=Nn,R=Qe,W=Xt,Y=He;return g(),w(Y,{stripe:!0,columns:k,data:E.value,loading:_.value,pagination:{total:c(u),current:c(p),pageSize:c(m),showPageSize:!0,baseSize:4,bufferSize:1},"column-resizable":"",size:"medium",onPageChange:c(d),onPageSizeChange:c(y),class:"banlog-table"},{banAt:s(({record:O})=>[l(B,{fill:"",direction:"vertical"},{default:s(()=>[l(v,null,{default:s(()=>[l(P),b(" "+f(c(i)(O.banAt,"long")),1)]),_:2},1024),l(v,null,{default:s(()=>[l(L),b(" "+f(O.unbanAt?c(i)(O.unbanAt,"long"):c(o)("page.banlog.banlogTable.notUnbanned")),1)]),_:2},1024)]),_:2},1024)]),peerAddress:s(({record:O})=>[l(v,{copyable:"",code:""},{default:s(()=>[b(f(O.peerIp)+":"+f(O.peerPort),1)]),_:2},1024)]),peerStatus:s(({record:O})=>[l(B,{fill:"",style:{"justify-content":"space-between"}},{default:s(()=>[l(B,{fill:"",direction:"vertical"},{default:s(()=>[l(v,null,{default:s(()=>[l(U,{class:"green"}),b(" "+f(c(Ie)(O.peerUploaded)),1)]),_:2},1024),l(v,null,{default:s(()=>[l(N,{class:"red"}),b(" "+f(c(Ie)(O.peerDownloaded)),1)]),_:2},1024)]),_:2},1024),l(R,{content:(O.peerProgress*100).toFixed(2)+"%"},{default:s(()=>[l(x,{percent:O.peerProgress,size:"mini"},null,8,["percent"])]),_:2},1032,["content"])]),_:2},1024)]),peerId:s(({record:O})=>[j("p",null,[b(f(O.peerId?O.peerId:c(o)("page.banlist.banlist.listItem.empty"))+" ",1),l(R,{content:O.peerClientName?O.peerClientName:c(o)("page.banlist.banlist.listItem.empty")},{default:s(()=>[l(W)]),_:2},1032,["content"])])]),torrentSize:s(({record:O})=>[l(R,{content:`Hash: ${O.torrentInfoHash}`},{default:s(()=>[j("p",null,f(c(Ie)(O.torrentSize)),1)]),_:2},1032,["content"])]),_:1},8,["data","loading","pagination","onPageChange","onPageSizeChange"])}}}),Si=ae(wi,[["__scopeId","data-v-4d465df4"]]),Li=z({__name:"index",setup(e){const t=me(()=>ue(()=>import("./charts-CESiY3nH.js"),__vite__mapDeps([8,9,1,2,10]),import.meta.url)),{t:n}=X(),a=M("table");return(o,i)=>{const r=ie,u=Un,p=An,h=ee;return g(),w(h,{direction:"vertical",fill:""},{default:s(()=>[l(r,{style:{"font-size":"1.2em"}},{default:s(()=>[b(f(o.$t("page.banlog.description")),1)]),_:1}),l(h,{class:"align-right",fill:"",style:{"margin-bottom":"20px"}},{default:s(()=>[l(r,null,{default:s(()=>[b(f(c(n)("page.banlog.radio.viewMode")),1)]),_:1}),l(p,{type:"button",modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=m=>a.value=m)},{default:s(()=>[l(u,{value:"table"},{default:s(()=>[b(f(c(n)("page.banlog.radio.table")),1)]),_:1}),l(u,{value:"charts"},{default:s(()=>[b(f(c(n)("page.banlog.radio.charts")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a.value==="table"?(g(),w(Si,{key:0})):c(t)?(g(),w(c(t),{key:1})):Z("",!0)]),_:1})}}}),Ti=ae(Li,[["__scopeId","data-v-bf92eb4c"]]);async function $i(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,"api/bans/ranks"),location.href);return n.searchParams.set("limit",String(e)),fetch(n,{headers:F()}).then(a=>(t.assertResponseLogin(a),a.json()))}const Ci={class:"search-box"},Ii=z({__name:"top50Table",props:{topNumber:{type:Number,required:!0}},setup(e){const t=$e(),n=A(),{t:a}=X(),o=[{title:()=>a("page.topban.top50Table.column.ipaddress"),dataIndex:"address",filterable:{filter:(m,d)=>d.address.includes(m[0]),slotName:"ip-filter",icon:()=>de(Ha)}},{title:()=>a("page.topban.top50Table.column.historyCount"),dataIndex:"count"}],i=e,r=T(()=>i.topNumber),{data:u,loading:p,refresh:h}=Le(()=>$i(r.value),{pollingInterval:T(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${n.endpoint}-topban-${r.value}`});return ge([r,()=>n.endpoint],()=>{h()}),(m,d)=>{var k;const y=Rn,S=ee,_=He;return g(),w(_,{stripe:"","sticky-header":"",columns:o,data:(k=c(u))==null?void 0:k.data,"column-resizable":"",loading:c(p),pagination:{showPageSize:!0,baseSize:4,bufferSize:1},"filter-icon-align-left":""},{"ip-filter":s(({filterValue:E,setFilterValue:$,handleFilterConfirm:C,handleFilterReset:P})=>[j("div",Ci,[l(S,{direction:"vertical"},{default:s(()=>[l(y,{"model-value":E[0],placeholder:c(a)("page.topban.top50Table.searchPlaceholder"),"allow-clear":"",onSearch:C,onClear:P,onInput:v=>$([v])},null,8,["model-value","placeholder","onSearch","onClear","onInput"])]),_:2},1024)])]),_:1},8,["data","loading"])}}}),Pi=ae(Ii,[["__scopeId","data-v-9f8d7592"]]),Ni=z({__name:"index",setup(e){const t=M(50);return(n,a)=>{const o=ie,i=qe,r=Dn,u=jn,p=qa,h=Fa,m=ee;return g(),D("div",null,[l(o,{style:{"font-size":"1.2em"}},{default:s(()=>[b(f(n.$t("page.topban.description")),1)]),_:1}),l(u,null,{default:s(()=>[l(i,{heading:3},{default:s(()=>[b(f(n.$t("page.topban.title",{topNumber:t.value})),1)]),_:1}),l(r,null,{default:s(()=>[b(f(n.$t("page.topban.usage")),1)]),_:1})]),_:1}),l(m,{fill:"",direction:"vertical"},{default:s(()=>[l(m,null,{default:s(()=>[l(o,null,{default:s(()=>[b(f(n.$t("page.topban.onlyShow")),1)]),_:1}),l(h,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=d=>t.value=d),"trigger-props":{autoFitPopupMinWidth:!0}},{default:s(()=>[l(p,{value:10},{default:s(()=>[b("10")]),_:1}),l(p,{value:20},{default:s(()=>[b("20")]),_:1}),l(p,{value:30},{default:s(()=>[b("30")]),_:1}),l(p,{value:40},{default:s(()=>[b("40")]),_:1}),l(p,{value:50},{default:s(()=>[b("50")]),_:1})]),_:1},8,["modelValue"]),l(o,null,{default:s(()=>[b(f(n.$t("page.topban.onlyShow.number")),1)]),_:1})]),_:1}),l(Pi,{"top-number":t.value},null,8,["top-number"])]),_:1})])}}});async function Mi(){const e=A();await e.serverAvailable;const t=new URL(q(e.endpoint,"api/statistic/rules"),location.href);return fetch(t,{headers:F()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function _c(e,t=!1){const n=A();await n.serverAvailable;const a=new URLSearchParams({type:"count",field:e,filter:t?"0.01":"0"}),o=new URL(q(n.endpoint,"api/statistic/analysis/field?"+a.toString()),location.href);return fetch(o,{headers:F()}).then(i=>(n.assertResponseLogin(i),i.json()))}async function vc(e,t,n){const a=A();await a.serverAvailable;const o=new URLSearchParams({startAt:e.getTime().toString(),endAt:t.getTime().toString(),type:n,field:"banAt"}),i=new URL(q(a.endpoint,"api/statistic/analysis/date?"+o.toString()),location.href);return fetch(i,{headers:F()}).then(r=>(a.assertResponseLogin(r),r.json()))}const Ei={class:"search-box"},Ui=z({__name:"ruleMetricsTable",setup(e){const t=$e(),{t:n}=X(),a=A(),{data:o,refresh:i,loading:r}=Le(Mi,{pollingInterval:T(()=>t.pollingInterval),onSuccess:t.renewLastUpdate,cacheKey:()=>`${a.endpoint}-ruleStatic`}),u=h=>{var m;return(m=o.value)!=null&&m.data.dict[h]?Qt(h):"gray"},p=[{title:()=>n("page.ruleMetrices.metricsTable.column.type"),slotName:"type",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.content"),slotName:"ruleName",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.run"),dataIndex:"query",width:200},{title:()=>n("page.ruleMetrices.metricsTable.column.hit"),dataIndex:"hit",filterable:{filter:(h,m)=>h[0]==="yes"&&m.hit>0,slotName:"hit-filter"},width:200}];return ge(()=>a.endpoint,i),(h,m)=>{var $;const d=zn,y=it,S=ie,_=Ht,k=ee,E=He;return g(),w(E,{columns:p,data:($=c(o))==null?void 0:$.data.data,size:"large",loading:c(r),"column-resizable":"","filter-icon-align-left":"",pagination:{showPageSize:!0,baseSize:4,bufferSize:1}},{empty:s(()=>[l(d)]),type:s(({record:C})=>[l(y,{color:u(C.type)},{default:s(()=>{var P;return[b(f(((P=c(o))==null?void 0:P.data.dict[C.type])??C.type),1)]}),_:2},1032,["color"])]),ruleName:s(({record:C})=>[l(S,{code:""},{default:s(()=>[b(f(C.metadata.rule),1)]),_:2},1024)]),"hit-filter":s(({filterValue:C,handleFilterConfirm:P,handleFilterReset:v})=>[j("div",Ei,[l(k,null,{default:s(()=>[l(_,{modelValue:C[0],"onUpdate:modelValue":L=>C[0]=L,"checked-value":"yes","unchecked-value":"no",onChange:L=>L==="yes"?P():v()},null,8,["modelValue","onUpdate:modelValue","onChange"]),l(S,null,{default:s(()=>[b(f(c(n)("page.ruleMetrices.metricsTable.filter")),1)]),_:1})]),_:2},1024)])]),_:1},8,["data","loading"])}}}),Ai=ae(Ui,[["__scopeId","data-v-924340cf"]]),Ri=z({__name:"index",setup(e){return(t,n)=>{const a=qe,o=Dn,i=jn;return g(),D("div",null,[l(i,null,{default:s(()=>[l(a,{heading:3},{default:s(()=>[b(f(t.$t("page.ruleMetrices.title")),1)]),_:1}),l(o,null,{default:s(()=>[b(f(t.$t("page.ruleMetrices.description")),1)]),_:1})]),_:1}),l(Ai)])}}});async function zi(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,`/api/modules/ipblacklist/${e}`),location.href);return fetch(n,{headers:F()}).then(a=>(t.assertResponseLogin(a),a.json()))}async function vn(e,t){const n=A();await n.serverAvailable;const a=new URL(q(n.endpoint,`/api/modules/ipblacklist/${t}`),location.href);return fetch(a,{method:"PUT",headers:F(),body:JSON.stringify({[t]:e})}).then(o=>(n.assertResponseLogin(o),o.json()))}async function yn(e,t){const n=A();await n.serverAvailable;const a=new URL(q(n.endpoint,`/api/modules/ipblacklist/${t}`),location.href);return fetch(a,{method:"DELETE",headers:F(),body:JSON.stringify({[t]:e})}).then(o=>(n.assertResponseLogin(o),o.json()))}const ji=z({__name:"index",props:{type:{}},setup(e){const{t}=X(),{type:n}=e,a=wn([]),o=[{title:()=>t("page.rule_management."+n),slotName:"data"}],{loading:i,refresh:r}=Le(zi,{defaultParams:[n],onSuccess:m=>{a.splice(0,a.length),a.push(...m.data[n].map(d=>({data:d,oldData:d,editing:!1,isNew:!1})))}}),u=()=>{a.unshift({data:"",oldData:"",editing:!0,isNew:!0})},p=async m=>{try{if(a[m].isNew){const d=await vn(a[m].data,n);if(!d.success)throw new Error(d.message);G.success(d.message),a[m].editing=!1,a[m].isNew=!1}else{let d=await vn(a[m].data,n);if(!d.success)throw new Error(d.message);if(d=await yn(a[m].oldData,n),!d.success)throw new Error(d.message);G.success(d.message),a[m].editing=!1,a[m].isNew=!1,a[m].data=a[m].oldData}}catch(d){G.error(d.message)}},h=async m=>{try{const d=await yn(m,n);if(!d.success)throw new Error(d.message);return G.success(d.message),r(),!0}catch(d){return G.error(d.message),!1}};return(m,d)=>{const y=ie,S=Qn,_=ye,k=ee,E=qt,$=Ft,C=Wt,P=xt,v=ea,L=Bn,B=Wa,U=He;return g(),w(k,{direction:"vertical",fill:""},{default:s(()=>[l(y,{style:{"font-size":"1.2em"}},{default:s(()=>[b(f(c(t)("page.rule_management.generic.description",{type:c(t)("page.rule_management."+m.type)})),1)]),_:1}),l(k,{class:"align-right",fill:""},{default:s(()=>[l(_,{type:"primary",onClick:u},{icon:s(()=>[l(S)]),default:s(()=>[b(" "+f(m.$t("page.rule_management.generic.addOne")),1)]),_:1})]),_:1}),l(U,{columns:o,data:a,loading:c(i)},{data:s(({record:N,rowIndex:x})=>[N.editing?(g(),w(k,{key:1,style:{display:"flex","justify-content":"space-between"},fill:""},{default:s(()=>[l(P,{placeholder:c(t)(`page.rule_management.${m.type}.placeholder`),style:{"max-width":"150px"},modelValue:N.data,"onUpdate:modelValue":R=>N.data=R},null,8,["placeholder","modelValue","onUpdate:modelValue"]),l(k,null,{default:s(()=>[l(en,{once:"","async-fn":()=>p(x)},{default:s(({run:R,loading:W})=>[l(_,{class:"edit-btn",shape:"circle",type:"text",status:"success",onClick:R},{icon:s(()=>[W?(g(),w(v,{key:0,spin:W},null,8,["spin"])):(g(),w(L,{key:1}))]),_:2},1032,["onClick"]),l(_,{class:"edit-btn",shape:"circle",status:"danger",type:"text",disabled:W,onClick:Y=>N.isNew?a.splice(x,1):(N.data=N.oldData,N.editing=!1)},{icon:s(()=>[l(B)]),_:2},1032,["disabled","onClick"])]),_:2},1032,["async-fn"])]),_:2},1024)]),_:2},1024)):(g(),w(k,{key:0,style:{display:"flex","justify-content":"space-between"},fill:""},{default:s(()=>[l(y,null,{default:s(()=>[b(f(N.data),1)]),_:2},1024),l(k,null,{default:s(()=>[l(_,{class:"edit-btn",shape:"circle",type:"text",onClick:R=>N.editing=!N.editing},{icon:s(()=>[l(E)]),_:2},1032,["onClick"]),l(C,{content:c(t)("page.rule_management.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:()=>h(N.data)},{default:s(()=>[l(_,{class:"edit-btn",shape:"circle",status:"danger",type:"text"},{icon:s(()=>[l($)]),_:1})]),_:2},1032,["content","onBeforeOk"])]),_:2},1024)]),_:2},1024))]),_:1},8,["data","loading"])]),_:1})}}}),je=ae(ji,[["__scopeId","data-v-206496ea"]]);async function Di(){const e=A();await e.serverAvailable;const t=new URL(q(e.endpoint,"api/sub/rules"),location.href);return fetch(t,{headers:F()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Bi(e,t){const n=A();await n.serverAvailable;const a=new URL(q(n.endpoint,`api/sub/rule/${e}`),location.href);return fetch(a,{headers:F(),method:"PATCH",body:JSON.stringify({enabled:t})}).then(o=>(n.assertResponseLogin(o),o.json()))}async function yc({ruleId:e,ruleName:t,subUrl:n}){const a=A();await a.serverAvailable;const o=new URL(q(a.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(o,{headers:F(),method:"POST",body:JSON.stringify({ruleName:t,subUrl:n})}).then(i=>(a.assertResponseLogin(i),i.json()))}async function kc({ruleId:e,ruleName:t,subUrl:n}){const a=A();await a.serverAvailable;const o=new URL(q(a.endpoint,"api/sub/rule"),location.href);return fetch(o,{headers:F(),method:"PUT",body:JSON.stringify({ruleId:e,ruleName:t,subUrl:n})}).then(i=>(a.assertResponseLogin(i),i.json()))}async function Oi(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,`api/sub/rule/${e}/update`),location.href);return fetch(n,{headers:F(),method:"POST"}).then(a=>(t.assertResponseLogin(a),a.json()))}async function xi(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,`/api/sub/rule/${e}`),location.href);return fetch(n,{headers:F(),method:"DELETE"}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Vi(){const e=A();await e.serverAvailable;const t=new URL(q(e.endpoint,"/api/sub/rules/update"),location.href),n=F();return n.set("X-Audit","Rule deletion"),fetch(t,{headers:n,method:"POST"}).then(a=>(e.assertResponseLogin(a),a.json()))}async function wc(){const e=A();await e.serverAvailable;const t=new URL(q(e.endpoint,"api/sub/interval"),location.href);return fetch(t,{headers:F()}).then(n=>(e.assertResponseLogin(n),n.json()))}async function Sc(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,"api/sub/interval"),location.href);return fetch(n,{headers:F(),method:"PATCH",body:JSON.stringify({checkInterval:e})}).then(a=>(t.assertResponseLogin(a),a.json()))}async function Lc(e){const t=A();await t.serverAvailable;const n=new URL(q(t.endpoint,"/api/sub/logs"),location.href);return n.searchParams.set("pageIndex",String(e.pageIndex-1)),e.pageSize&&n.searchParams.set("pageSize",String(e.pageSize)),fetch(n,{headers:F()}).then(a=>a.json()).then(a=>(t.assertResponseLogin(a),{...a.data,pageIndex:a.pageIndex+1}))}var Hi=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},qi=Hi,kn={"text/plain":"Text","text/html":"Url",default:"Text"},Fi="Copy to clipboard: #{key}, Enter";function Wi(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Zi(e,t){var n,a,o,i,r,u,p=!1;t||(t={}),n=t.debug||!1;try{o=qi(),i=document.createRange(),r=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(m){if(m.stopPropagation(),t.format)if(m.preventDefault(),typeof m.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=kn[t.format]||kn.default;window.clipboardData.setData(d,e)}else m.clipboardData.clearData(),m.clipboardData.setData(t.format,e);t.onCopy&&(m.preventDefault(),t.onCopy(m.clipboardData))}),document.body.appendChild(u),i.selectNodeContents(u),r.addRange(i);var h=document.execCommand("copy");if(!h)throw new Error("copy command was unsuccessful");p=!0}catch(m){n&&console.error("unable to copy using execCommand: ",m),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),p=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=Wi("message"in t?t.message:Fi),window.prompt(a,e)}}finally{r&&(typeof r.removeRange=="function"?r.removeRange(i):r.removeAllRanges()),u&&document.body.removeChild(u),o()}return p}var Gi=Zi;const Ki=ba(Gi),Ji=z({__name:"ruleList",setup(e){const t=me(()=>ue(()=>import("./editRuleItemModal-DTeYb_nY.js"),__vite__mapDeps([11,1,2,12]),import.meta.url)),n=me(()=>ue(()=>import("./settingsModal-CcEIf0Ab.js"),__vite__mapDeps([13,1,2]),import.meta.url)),a=me(()=>ue(()=>import("./logModal-D7XvC3Ne.js"),__vite__mapDeps([14,1,2]),import.meta.url)),{t:o,d:i}=X(),{data:r,loading:u,refresh:p}=Le(Di,{}),h=M(),m=M(),d=M(),y=[{title:()=>o("page.rule_management.ruleSubscribe.column.status"),slotName:"status"},{title:"ID",slotName:"ruleId"},{title:()=>o("page.rule_management.ruleSubscribe.column.ruleName"),dataIndex:"ruleName"},{title:"URL",slotName:"url"},{title:()=>o("page.rule_management.ruleSubscribe.column.lastUpdated"),slotName:"lastUpdated"},{title:()=>o("page.rule_management.ruleSubscribe.column.rulesCount"),slotName:"rulesCount"},{title:()=>o("page.rule_management.ruleSubscribe.column.actions"),slotName:"action"}],S=v=>{var L;(L=h.value)==null||L.showModal(!1,()=>p(),v)},_=()=>{var v;(v=h.value)==null||v.showModal(!0,()=>p())},k=v=>Oi(v).then(L=>{L.success?G.info(L.message):G.error(L.message),p()}),E=async v=>{const L=await xi(v);return L.success?G.success(L.message):G.error(L.message),p(),!0},$=M(!1),C=async()=>{$.value=!0;const v=await Vi();v.code!==200?G.error(v.message):G.success(v.message),p(),$.value=!1},P=v=>{Ki(v),G.success(o("page.rule_management.ruleSubscribe.copySuccess"))};return(v,L)=>{const B=Qn,U=ye,N=ea,x=ta,R=Qe,W=Rr,Y=Za,O=ee,K=it,le=Ht,Pe=ie,Fe=qt,Ae=Ft,Re=Wt,dt=He;return g(),w(O,{direction:"vertical",fill:""},{default:s(()=>{var tt;return[l(O,{class:"align-right",fill:""},{default:s(()=>[l(U,{type:"primary",onClick:_},{icon:s(()=>[l(B)]),default:s(()=>[b(" "+f(v.$t("page.rule_management.ruleSubscribe.addRule")),1)]),_:1}),l(Y,null,{default:s(()=>[l(U,{loading:$.value,onClick:C},{icon:s(()=>[l(N)]),default:s(()=>[b(" "+f(c(o)("page.rule_management.ruleSubscribe.updateAll")),1)]),_:1},8,["loading"]),l(R,{content:c(o)("page.rule_management.ruleSubscribe.settingsTips")},{default:s(()=>{var I;return[l(U,{onClick:(I=m.value)==null?void 0:I.showModal},{icon:s(()=>[l(x)]),_:1},8,["onClick"])]}),_:1},8,["content"]),l(R,{content:c(o)("page.rule_management.ruleSubscribe.updateLog")},{default:s(()=>{var I;return[l(U,{onClick:(I=d.value)==null?void 0:I.showModal},{icon:s(()=>[l(W)]),_:1},8,["onClick"])]}),_:1},8,["content"])]),_:1})]),_:1}),l(dt,{stripe:"",columns:y,data:(tt=c(r))==null?void 0:tt.data,loading:c(u)},{ruleId:s(({record:I})=>[l(K,{color:c(Qt)(I.ruleId)},{default:s(()=>[b(f(I.ruleId),1)]),_:2},1032,["color"])]),url:s(({record:I})=>[l(U,{onClick:H=>P(I.subUrl)},{default:s(()=>[b(f(c(o)("page.rule_management.ruleSubscribe.column.clickToCopy")),1)]),_:2},1032,["onClick"])]),status:s(({record:I})=>[l(O,null,{default:s(()=>[l(le,{modelValue:I.enabled,"onUpdate:modelValue":H=>I.enabled=H,beforeChange:async H=>{const be=await c(Bi)(I.ruleId,H);return be.success?(c(p)(),!0):(c(G).error(be.message),!1)}},null,8,["modelValue","onUpdate:modelValue","beforeChange"])]),_:2},1024)]),lastUpdated:s(({record:I})=>[l(Pe,null,{default:s(()=>[b(f(I.lastUpdate>0?c(i)(I.lastUpdate,"long"):c(o)("page.rule_management.ruleSubscribe.column.notUpdated")),1)]),_:2},1024)]),rulesCount:s(({record:I})=>[l(Pe,null,{default:s(()=>[b(f(I.enabled?I.entCount:"NaN"),1)]),_:2},1024)]),action:s(({record:I})=>[l(O,{warp:""},{default:s(()=>[l(R,{content:c(o)("page.rule_management.ruleSubscribe.column.actions.edit"),position:"top",mini:""},{default:s(()=>[l(U,{class:"edit-btn",shape:"circle",type:"text",onClick:()=>S(I)},{icon:s(()=>[l(Fe)]),_:2},1032,["onClick"])]),_:2},1032,["content"]),l(en,{once:"","async-fn":()=>k(I.ruleId)},{default:s(({run:H,loading:be})=>[l(R,{content:c(o)("page.rule_management.ruleSubscribe.column.actions.update"),position:"top",mini:""},{default:s(()=>[l(U,{class:"edit-btn",shape:"circle",type:"text",onClick:H},{icon:s(()=>[l(N,{spin:be},null,8,["spin"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:2},1032,["async-fn"]),l(Re,{content:c(o)("page.rule_management.ruleSubscribe.column.deleteConfirm"),type:"warning",onBeforeOk:()=>E(I.ruleId)},{default:s(()=>[l(U,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:s(()=>[l(Ae)]),_:1})]),_:2},1032,["content","onBeforeOk"])]),_:2},1024)]),_:1},8,["data","loading"]),l(c(t),{ref_key:"editModal",ref:h},null,512),l(c(n),{ref_key:"settingsModal",ref:m},null,512),l(c(a),{ref_key:"updateLog",ref:d},null,512)]}),_:1})}}}),Yi=ae(Ji,[["__scopeId","data-v-cf074772"]]),Xi=z({__name:"index",setup(e){const{t}=X();return(n,a)=>{const o=ie,i=ee;return g(),w(i,{direction:"vertical",fill:""},{default:s(()=>[l(o,{style:{"font-size":"1.2em"}},{default:s(()=>[b(f(c(t)("page.rule_management.ruleSubscribe.description")),1)]),_:1}),l(Yi)]),_:1})}}}),Qi=Ga.addFromIconFontCn({src:"https://at.alicdn.com/t/c/font_4646549_f3kbb5m24hq.js"});function at(e){return z({setup(){return()=>de(Qi,{type:e})}})}const ut=[{path:"/dashboard",name:"dashboard",meta:{label:"router.dashboard",needLogin:!0},component:ii},{path:"/list",name:"banlist",meta:{label:"router.banlist",needLogin:!0},component:yi},{path:"/log",name:"banlogs",meta:{label:"router.banlogs",needLogin:!0},component:Ti},{path:"/rule",name:"rule_management",meta:{label:"router.rule_management",disableAutoUpdate:!0,needLogin:!0},children:[{path:"/rule/subscribe",name:"rule_management_subscribe",meta:{label:"page.rule_management.ruleSubscribe.title",icon:()=>de(dl),needLogin:!0},component:Xi},{path:"/rule/ip",name:"rule_management_ip",meta:{label:"page.rule_management.ip",icon:at("icon-IP"),needLogin:!0},component:()=>de(je,{type:"ip"})},{path:"/rule/port",name:"rule_management_port",meta:{label:"page.rule_management.port",icon:at("icon-dituleiduankou"),needLogin:!0},component:()=>de(je,{type:"port"})},{path:"/rule/asn",name:"rule_management_asn",meta:{label:"page.rule_management.asn",icon:()=>de(Al),needLogin:!0},component:()=>de(je,{type:"asn"})},{path:"/rule/region",name:"rule_management_region",meta:{label:"page.rule_management.region",icon:()=>de(Tl),needLogin:!0},component:()=>de(je,{type:"region"})},{path:"/rule/city",name:"rule_management_city",meta:{label:"page.rule_management.city",icon:at("icon-chengshi"),needLogin:!0},component:()=>de(je,{type:"city"})},{path:"/rule/netType",name:"rule_management_netType",meta:{label:"page.rule_management.netType",icon:at("icon-kuandai"),needLogin:!0},component:()=>de(je,{type:"netType"})}]},{path:"/top",name:"top",meta:{label:"router.topban",needLogin:!0},component:Ni},{path:"/metrics",name:"rule_metrics",meta:{label:"router.ruleMetrics",needLogin:!0},component:Ri},{path:"/init",name:"init",meta:{hide:!0,disableAutoUpdate:!0},component:()=>ue(()=>import("./index-Bzw48wxq.js"),__vite__mapDeps([15,1,2,16]),import.meta.url)},{path:"/login",name:"login",meta:{hide:!0,disableAutoUpdate:!0},component:()=>ue(()=>import("./index-CI3JTudA.js"),__vite__mapDeps([17,1,2,18]),import.meta.url)}];let st=location.pathname;const jt=ut.flatMap(e=>e.children?e.children:[e]);for(const e of jt)if(st.endsWith(e.path)){st=st.slice(0,-e.path.length);break}ut.push({path:"/",redirect:"/dashboard",meta:{hide:!0}});const oa=fa({history:ha(st),routes:ut});oa.afterEach((e,t)=>{if(!t.name)e.meta.transition="normal";else{const n=jt.findIndex(o=>o.name===e.name),a=jt.findIndex(o=>o.name===t.name);e.meta.transition=n>a?"route-right":"route-left"}});function ec(){const e=_a(),t=Sn(),n=i=>{e.replace({name:`${i}`})},a=T(()=>ut.filter(i=>{var r;return!((r=i.meta)!=null&&r.hidden)})),o=T(()=>t.name);return[a,o,n]}const tc={key:0,href:"https://github.com/PBH-BTN/PeerBanHelper"},nc={key:0,src:na,alt:"logo",class:"logo"},ac={key:1,src:aa,alt:"logo",class:"logo"},oc={href:"https://github.com/PBH-BTN/PeerBanHelper"},sc={key:0,src:na,alt:"logo",class:"logo"},rc={key:1,src:aa,alt:"logo",class:"logo"},lc={key:0,style:{display:"flex",gap:"12px"}},ic={class:"lang-selector"},cc=z({__name:"pageHeader",props:{disableAutoUpdate:{type:Boolean,default:!1},disableMenu:{type:Boolean,default:!1}},setup(e){const{t,locale:n}=X(),{changeLocale:a}=xl(),o=[...xo],i=Vl(),r=va({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"dark-theme-config"});i.setDark(r.value);const u=M(),p=ya(r),h=()=>{p(),i.setDark(r.value)},m=e,[d,y,S]=ec(),_=Sn(),k=T(()=>m.disableAutoUpdate||!!_.meta.disableAutoUpdate),E=T(()=>m.disableMenu||!!_.meta.disableMenu),$=T(()=>[y.value]),C=lt(M({md:1}),0);return(P,v)=>{const L=qe,B=ee,U=Ka,N=eo,x=Ja,R=Ya,W=ye,Y=to,O=no,K=Xa,le=_l,Pe=Qe,Fe=Bn,Ae=Xr,Re=sl,dt=ta,tt=Qa;return g(),D(he,null,[l(tt,{class:te(["header",c(C)===0?"mobile":""]),"show-back":!1},{title:s(()=>[c(C)===0?(g(),D("a",tc,[l(B,{size:"mini"},{default:s(()=>[c(r)?(g(),D("img",nc)):(g(),D("img",ac)),l(L,{style:{"margin-top":"0%","margin-bottom":"0%"}},{default:s(()=>[b("PeerBanHelper")]),_:1})]),_:1})])):(g(),w(x,{key:1,class:"header-menu",mode:"horizontal","selected-keys":$.value,onMenuItemClick:c(S)},{default:s(()=>[l(U,{style:{padding:0,marginLeft:0},disabled:""},{default:s(()=>[j("a",oc,[l(B,{size:"mini"},{default:s(()=>[c(r)?(g(),D("img",sc)):(g(),D("img",rc)),l(L,{style:{"margin-top":"0%","margin-bottom":"0%"}},{default:s(()=>[b("PeerBanHelper")]),_:1})]),_:1})])]),_:1}),E.value?Z("",!0):(g(!0),D(he,{key:0},De(c(d).filter(I=>{var H;return!((H=I.meta)!=null&&H.hide)}),I=>{var H,be;return g(),D(he,{key:I.name},[I.children?(g(),w(N,{key:0},Ce({title:s(()=>{var V;return[b(f(c(t)(String((V=I.meta)==null?void 0:V.label))),1)]}),default:s(()=>[(g(!0),D(he,null,De(I.children,V=>{var We;return g(),w(U,{key:V.name},Ce({default:s(()=>{var pe;return[b(" "+f(c(t)(String((pe=V.meta)==null?void 0:pe.label))),1)]}),_:2},[(We=V.meta)!=null&&We.icon?{name:"icon",fn:s(()=>{var pe;return[(g(),w(we((pe=V.meta)==null?void 0:pe.icon)))]}),key:"0"}:void 0]),1024)}),128))]),_:2},[(H=I.meta)!=null&&H.icon?{name:"icon",fn:s(()=>{var V;return[(g(),w(we((V=I.meta)==null?void 0:V.icon)))]}),key:"0"}:void 0]),1024)):(g(),w(U,{key:I.name},Ce({default:s(()=>{var V;return[b(" "+f(c(t)(String((V=I.meta)==null?void 0:V.label))),1)]}),_:2},[(be=I.meta)!=null&&be.icon?{name:"icon",fn:s(()=>{var V;return[(g(),w(we((V=I.meta)==null?void 0:V.icon)))]}),key:"0"}:void 0]),1024))],64)}),128))]),_:1},8,["selected-keys","onMenuItemClick"]))]),extra:s(()=>[E.value?Z("",!0):(g(),D("div",lc,[c(C)===0?(g(),w(K,{key:0,position:"bl",onSelect:v[0]||(v[0]=I=>c(S)(String(I.name))),"popup-max-height":!1},{content:s(()=>[(g(!0),D(he,null,De(c(d).filter(I=>{var H;return!((H=I.meta)!=null&&H.hide)}),I=>{var H,be;return g(),D(he,{key:I.name},[I.children?(g(),w(O,{key:0},Ce({content:s(()=>[(g(!0),D(he,null,De(I.children,V=>{var We;return g(),w(Y,{key:V.name,value:V},Ce({default:s(()=>{var pe;return[b(" "+f(c(t)(String((pe=V.meta)==null?void 0:pe.label))),1)]}),_:2},[(We=V.meta)!=null&&We.icon?{name:"icon",fn:s(()=>{var pe;return[(g(),w(we((pe=V.meta)==null?void 0:pe.icon)))]}),key:"0"}:void 0]),1032,["value"])}),128))]),default:s(()=>{var V;return[b(" "+f(c(t)(String((V=I.meta)==null?void 0:V.label)))+" ",1)]}),_:2},[(H=I.meta)!=null&&H.icon?{name:"icon",fn:s(()=>{var V;return[(g(),w(we((V=I.meta)==null?void 0:V.icon)))]}),key:"0"}:void 0]),1024)):(g(),w(Y,{key:1,value:I},Ce({default:s(()=>{var V;return[b(" "+f(c(t)(String((V=I.meta)==null?void 0:V.label))),1)]}),_:2},[(be=I.meta)!=null&&be.icon?{name:"icon",fn:s(()=>{var V;return[(g(),w(we((V=I.meta)==null?void 0:V.icon)))]}),key:"0"}:void 0]),1032,["value"]))],64)}),128))]),default:s(()=>{var I;return[l(W,{style:{"flex-grow":"1",gap:"12px"}},Ce({default:s(()=>{var H;return[b(" "+f(c(t)(String((H=c(_).meta)==null?void 0:H.label)))+" ",1),l(R)]}),_:2},[(I=c(_).meta)!=null&&I.icon?{name:"icon",fn:s(()=>{var H;return[(g(),w(we((H=c(_).meta)==null?void 0:H.icon)))]}),key:"0"}:void 0]),1024)]}),_:1})):Z("",!0),l(B,{class:"right-side",wrap:""},{default:s(()=>{var I;return[k.value?Z("",!0):(g(),w(Bl,{key:0,tigger:c(C)===0?"switch":"click"},null,8,["tigger"])),j("div",ic,[l(K,{trigger:"click",onSelect:v[1]||(v[1]=H=>c(a)(H))},{content:s(()=>[(g(),D(he,null,De(o,H=>l(Y,{key:H.value,value:H.value},{icon:s(()=>[ka(l(Fe,null,null,512),[[wa,H.value===c(n)]])]),default:s(()=>[b(" "+f(H.label),1)]),_:2},1032,["value"])),64))]),default:s(()=>[l(Pe,{content:c(t)("settings.language")},{default:s(()=>[l(W,{class:"nav-btn",type:"outline",shape:"circle"},{icon:s(()=>[l(le)]),_:1})]),_:1},8,["content"])]),_:1})]),l(Pe,{content:c(r)?c(t)("settings.navbar.theme.toLight"):c(t)("settings.navbar.theme.toDark")},{default:s(()=>[l(W,{class:"nav-btn",type:"outline",shape:"circle",onClick:h},{icon:s(()=>[c(r)?(g(),w(Ae,{key:0})):(g(),w(Re,{key:1}))]),_:1})]),_:1},8,["content"]),l(W,{class:"nav-btn",type:"outline",shape:"circle",status:"normal",onClick:(I=u.value)==null?void 0:I.showModal},{icon:s(()=>[l(dt)]),_:1},8,["onClick"])]}),_:1})]))]),_:1},8,["class"]),l(jl,{ref_key:"settingsModalRef",ref:u},null,512)],64)}}}),uc=ae(cc,[["__scopeId","data-v-fe065459"]]),dc={style:{width:"100%","max-width":"1200px",margin:"auto",position:"relative"}},pc=z({__name:"App",setup(e){const t=A(),n=T(()=>t.status),a=me(()=>ue(()=>import("./index-Bzw48wxq.js"),__vite__mapDeps([15,1,2,16]),import.meta.url)),o=me(()=>ue(()=>import("./index-CI3JTudA.js"),__vite__mapDeps([17,1,2,18]),import.meta.url)),{t:i,locale:r}=X(),u=T(()=>n.value==="needLogin"||n.value==="needInit"),p=()=>{window.document.body.style.overflowX="hidden"},h=()=>{window.document.body.style.overflowX="unset"};return(m,d)=>{const y=oo,S=so,_=ie,k=ye,E=ee,$=ro,C=Dt("router-view"),P=lo,v=io,L=co,B=ao;return g(),w(B,{locale:c(Ho)[c(r)]},{default:s(()=>[l(L,null,{default:s(()=>[l(y,null,{default:s(()=>[l(uc,{"disable-auto-update":u.value,"disable-menu":u.value},null,8,["disable-auto-update","disable-menu"])]),_:1}),n.value==="needLogin"?(g(),w(S,{key:0,class:"login-page"},{default:s(()=>[l(c(o),{style:{width:"100%","max-width":"1200px",margin:"auto"}})]),_:1})):n.value==="needInit"?(g(),w(S,{key:1},{default:s(()=>[l(c(a))]),_:1})):(g(),w(S,{key:2},{default:s(()=>[j("div",dc,[l(C,null,{default:s(({Component:U,route:N})=>[l(Sa,{name:String(N.meta.transition),onBeforeEnter:p,onAfterEnter:h},{default:s(()=>{var x,R,W;return[(x=N.meta)!=null&&x.moduleRequire&&!c(xs)(c(t).serverManifest,String((R=N.meta)==null?void 0:R.moduleRequire))?(g(),w($,{key:0,status:"error",title:c(i)("router.moduleNotEnable",{moduleName:c(i)(String((W=N.meta)==null?void 0:W.label))})},{subtitle:s(()=>[l(_,{style:{"font-size":"0.8rem"}},{default:s(()=>[b(f(c(i)("router.moduleNotEnable.tips")),1)]),_:1})]),extra:s(()=>[l(E,null,{default:s(()=>{var Y;return[l(k,{href:String((Y=N.meta)==null?void 0:Y.documentation),type:"primary"},{default:s(()=>[b(f(c(i)("router.moduleNotEnable.viewDoc")),1)]),_:2},1032,["href"])]}),_:2},1024)]),_:2},1032,["title"])):(g(),w(we(U),{key:1}))]}),_:2},1032,["name"])]),_:1}),l(P)])]),_:1})),l(v,null,{default:s(()=>[l(Fs)]),_:1})]),_:1})]),_:1},8,["locale"])}}}),mc=ae(pc,[["__scopeId","data-v-0e6e9eef"]]),et=La(mc);G._context=et._context;Ta({loadingDelay:400,loadingKeep:1e3,pollingWhenOffline:!0});et.use($a());et.use(Vo);et.use(oa);et.mount("#app");export{kc as A,fe as C,wc as G,Yt as I,Sc as S,yc as U,ue as _,Vl as a,vc as b,ae as c,Lc as d,Qt as e,hc as f,_c as g,pi as h,Ie as i,Jt as j,Xt as k,ea as l,q as m,F as n,Ze as p,A as u};
