import{G as M,S as I}from"./index-KJSIDWdW.js";import{f as b,a4 as x,r as S,a as $,a5 as w,j as y,s as B,t as l,y as i,a2 as f,v as d,x as C}from"./libs-CbUB4rL-.js";import{b as p,a2 as V,F,t as N,M as O}from"./arcoDesign-3SOqbcwa.js";const q=b({__name:"settingsModal",setup(j,{expose:_}){const{t:m}=x(),c=S(!1);_({showModal:()=>{c.value=!0}});const v=e=>{const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},h=e=>e.replace(/,/g,"");function g(e){const t=Math.floor(e/864e5);e%=864e5;const o=Math.floor(e/36e5);e%=36e5;const n=Math.floor(e/6e4);e%=6e4;const r=Math.floor(e/1e3);let a="";return t>0&&(a+=`${t} Day${t>1?"s":""} `),o>0&&(a+=`${o} Hour${o>1?"s":""} `),n>0&&(a+=`${n} Minute${n>1?"s":""} `),r>0&&(a+=`${r} Second${r>1?"s":""} `),a.trim()}const s=$({checkInterval:0});w(M,{onSuccess:e=>{s.checkInterval=e.data}});const k=async()=>{const e=await I(s.checkInterval);return e.success?(p.success(e.message),!0):(p.error(e.message),!1)};return(e,t)=>{const o=V,n=F,r=N,a=O;return y(),B(a,{visible:c.value,"onUpdate:visible":t[1]||(t[1]=u=>c.value=u),title:f(m)("page.rule_management.ruleSubscribe.settingsModal.title"),unmountOnClose:"","modal-style":{width:"35vw"},onBeforeOk:k},{default:l(()=>[i(r,{model:s},{default:l(()=>[i(n,{field:"checkInterval",label:f(m)("page.rule_management.ruleSubscribe.settingsModal.checkInterval")},{extra:l(()=>[d(C(g(s.checkInterval)),1)]),default:l(()=>[i(o,{modelValue:s.checkInterval,"onUpdate:modelValue":t[0]||(t[0]=u=>s.checkInterval=u),step:1e3,min:1e3,formatter:v,parser:h},{suffix:l(()=>[d(" ms ")]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])}}});export{q as default};
